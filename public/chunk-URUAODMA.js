import{$ as p,Aa as k,E as d,F as u,Ga as y,N as c,O as C,S as g,U as f,V as m,W as i,X as o,Z as _,_ as l,ba as s,da as v,ia as b,ya as x,z as h}from"./chunk-SXIJSA4M.js";function O(r,n){if(r&1){let e=_();i(0,"button",14),l("click",function(){d(e);let a=p();return u(a.startGame())}),s(1,"Comenzar juego"),o()}}function M(r,n){if(r&1){let e=_();i(0,"button",18),l("click",function(){d(e);let a=p(2);return u(a.startGame())}),s(1,"Jugar de nuevo"),o()}}function P(r,n){if(r&1){let e=_();i(0,"div",15)(1,"div",16)(2,"h4"),s(3,"Oops, te equivocaste!"),o(),i(4,"h4"),s(5),o(),g(6,M,2,0,"button",17),i(7,"button",18),l("click",function(){d(e);let a=p();return u(a.volverAlInicio())}),s(8,"Volver al inicio"),o()()()}if(r&2){let e=p();c(5),v("Tu cantidad de aciertos fue: ",e.currentStep,""),c(),f("ngIf",e.gameOver)}}var S=class r{constructor(n){this.router=n}sequence=[];playerSequence=[];colors=["red","green","blue","yellow"];activeColor="";gameStarted=!1;gameOver=!1;currentStep=0;playerCanClick=!1;startGame(){this.gameStarted=!0,this.gameOver=!1,this.sequence=[],this.playerSequence=[],this.currentStep=0,this.nextRound()}nextRound(){this.playerCanClick=!1,this.playerSequence=[],this.currentStep=0;let n=this.colors[Math.floor(Math.random()*this.colors.length)];this.sequence.push(n),this.playSequence()}playSequence(){this.playerCanClick=!1;let n=500;this.sequence.forEach((e,t)=>{setTimeout(()=>{this.activeColor=e,setTimeout(()=>{this.activeColor=""},300)},n*t)}),setTimeout(()=>{this.playerCanClick=!0},n*this.sequence.length)}playerClick(n){if(!(!this.gameStarted||this.gameOver||!this.playerCanClick)){if(this.playerSequence.push(n),this.activeColor=n,setTimeout(()=>{this.activeColor=""},300),this.sequence[this.currentStep]!==n){this.gameOver=!0,this.playerCanClick=!1;return}this.currentStep++,this.currentStep===this.sequence.length&&(this.playerCanClick=!1,setTimeout(()=>this.nextRound(),1e3))}}volverAlInicio(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||r)(C(y))};static \u0275cmp=h({type:r,selectors:[["app-simon"]],standalone:!0,features:[b],decls:16,vars:10,consts:[[1,"wrapper"],[1,"game-container"],[1,"simon-container"],[1,"simon-board"],[1,"color-container","red-container"],[1,"color","red",3,"click"],[1,"color-container","green-container"],[1,"color","green",3,"click"],[1,"color-container","blue-container"],[1,"color","blue",3,"click"],[1,"color-container","yellow-container"],[1,"color","yellow",3,"click"],["class","start-btn",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"start-btn",3,"click"],[1,"modal"],[1,"modal-content"],["class","modal-button",3,"click",4,"ngIf"],[1,"modal-button",3,"click"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Simon"),o(),i(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5),l("click",function(){return t.playerClick("red")}),o()(),i(8,"div",6)(9,"div",7),l("click",function(){return t.playerClick("green")}),o()(),i(10,"div",8)(11,"div",9),l("click",function(){return t.playerClick("blue")}),o()(),i(12,"div",10)(13,"div",11),l("click",function(){return t.playerClick("yellow")}),o()()(),g(14,O,2,0,"button",12),o(),g(15,P,9,2,"div",13),o()()),e&2&&(c(7),m("active",t.activeColor==="red"),c(2),m("active",t.activeColor==="green"),c(2),m("active",t.activeColor==="blue"),c(2),m("active",t.activeColor==="yellow"),c(),f("ngIf",!t.gameStarted),c(),f("ngIf",t.gameOver))},dependencies:[k,x],styles:['.simon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh}.simon-board[_ngcontent-%COMP%]{position:relative;width:360px;height:360px;border-radius:50%;overflow:visible}.color-container[_ngcontent-%COMP%]{position:absolute;width:50%;height:50%}.red-container[_ngcontent-%COMP%]{top:0;left:0;border-top-left-radius:100%;transform:translate(-20px,-20px)}.green-container[_ngcontent-%COMP%]{top:0;right:0;border-top-right-radius:100%;transform:translate(20px,-20px)}.blue-container[_ngcontent-%COMP%]{bottom:0;right:0;border-bottom-right-radius:100%;transform:translate(20px,20px)}.yellow-container[_ngcontent-%COMP%]{bottom:0;left:0;border-bottom-left-radius:100%;transform:translate(-20px,20px)}.color[_ngcontent-%COMP%]{width:100%;height:100%;transform-origin:100% 100%;opacity:1;transition:all .2s ease;cursor:pointer;box-shadow:none;z-index:1}.color.active[_ngcontent-%COMP%]{filter:brightness(1.5);box-shadow:0 0 30px #ffffffb3;transform:scale(1.1)}.color[_ngcontent-%COMP%]:active{filter:brightness(1.8);transform:scale(1.15);box-shadow:0 0 40px #ffffffe6}.red[_ngcontent-%COMP%]{background-color:red}.green[_ngcontent-%COMP%]{background-color:green}.blue[_ngcontent-%COMP%]{background-color:#00f}.yellow[_ngcontent-%COMP%]{background-color:#ff0}.start-btn[_ngcontent-%COMP%]{margin-top:80px;padding:10px 20px;font-size:16px;cursor:pointer}.message[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;color:#333}.game-container[_ngcontent-%COMP%]{text-align:center;font-family:Arial,sans-serif;height:73vh;width:150vh;border:10px solid rgb(137,142,148);background-color:#fff;box-shadow:0 0 15px #0000004d;overflow:auto}h4[_ngcontent-%COMP%]{font-size:20px;color:#333}h2[_ngcontent-%COMP%]{color:#4caf50}.wrapper[_ngcontent-%COMP%]{background-image:url("./media/fondo4-VYWSDTRN.jpg");height:90vh;display:flex;justify-content:center;align-items:center}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;text-align:center}.modal-button[_ngcontent-%COMP%]{margin:10px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:20px}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;border-radius:5px;padding:10px 15px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}']})};export{S as SimonComponent};
