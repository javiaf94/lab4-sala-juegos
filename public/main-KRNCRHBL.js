var wN=Object.create;var Hg=Object.defineProperty,_N=Object.defineProperties,IN=Object.getOwnPropertyDescriptor,EN=Object.getOwnPropertyDescriptors,bN=Object.getOwnPropertyNames,eb=Object.getOwnPropertySymbols,nb=Object.getPrototypeOf,rb=Object.prototype.hasOwnProperty,CN=Object.prototype.propertyIsEnumerable,DN=Reflect.get;var tb=(t,e,n)=>e in t?Hg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})rb.call(e,n)&&tb(t,n,e[n]);if(eb)for(var n of eb(e))CN.call(e,n)&&tb(t,n,e[n]);return t},we=(t,e)=>_N(t,EN(e));var TN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var SN=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of bN(e))!rb.call(t,i)&&i!==n&&Hg(t,i,{get:()=>e[i],enumerable:!(r=IN(e,i))||r.enumerable});return t};var AN=(t,e,n)=>(n=t!=null?wN(nb(t)):{},SN(e||!t||!t.__esModule?Hg(n,"default",{value:t,enumerable:!0}):n,t));var Vi=(t,e,n)=>DN(nb(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var vx=TN((wr,S_)=>{"use strict";(function(t,e){typeof wr=="object"&&typeof S_<"u"?S_.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(wr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},V=l=>{console.error(`${M} ${l}`)},W=[],G=l=>{W.includes(l)||(W.push(l),k(l))},Z=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;G(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Ae=l=>typeof l=="function"?l():l,X=l=>l&&typeof l.toPromise=="function",T=l=>X(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),x=()=>A(g.popup),C=()=>A(g.icon),xn=()=>A(g["icon-content"]),vi=()=>A(g.title),Lc=()=>A(g["html-container"]),wi=()=>A(g.image),Ar=()=>A(g["progress-steps"]),_i=()=>A(g["validation-message"]),sn=()=>S(`.${g.actions} .${g.confirm}`),Ii=()=>S(`.${g.actions} .${g.cancel}`),Ot=()=>S(`.${g.actions} .${g.deny}`),wt=()=>A(g["input-label"]),Ei=()=>S(`.${g.loader}`),Rn=()=>A(g.actions),zl=()=>A(g.footer),Zn=()=>A(g["timer-progress-bar"]),Vc=()=>A(g.close),bg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,bi=()=>{let l=x();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,me)=>{let Pe=parseInt($.getAttribute("tabindex")||"0"),Qe=parseInt(me.getAttribute("tabindex")||"0");return Pe>Qe?1:Pe<Qe?-1:0}),w=l.querySelectorAll(bg),N=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(N))].filter($=>At($))},Ci=()=>on(document.body,g.shown)&&!on(document.body,g["toast-shown"])&&!on(document.body,g["no-backdrop"]),Di=()=>{let l=x();return l?on(l,g.toast):!1},Uc=()=>{let l=x();return l?l.hasAttribute("data-loading"):!1},St=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),N=w.querySelector("head");N&&Array.from(N.childNodes).forEach(me=>{l.appendChild(me)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(me=>{me instanceof HTMLVideoElement||me instanceof HTMLAudioElement?l.appendChild(me.cloneNode(!0)):l.appendChild(me)})}},on=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},Gl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Ft=(l,h,y)=>{if(Gl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}ve(l,w)}},Bo=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},jc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Bc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(N=>{y?N.classList.add(w):N.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},ve=(l,h)=>{Bc(l,h,!0)},an=(l,h)=>{Bc(l,h,!1)},Jn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let N=y[w];if(N instanceof HTMLElement&&on(N,h))return N}},Mn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},Ye=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},it=l=>{l&&(l.style.display="none")},st=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Xn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},_t=(l,h,y,w)=>{let N=l.querySelector(h);N&&N.style.setProperty(y,w)},Xn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Ye(l,y):it(l)},At=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Wl=()=>!At(sn())&&!At(Ot())&&!At(Ii()),Kl=l=>l.scrollHeight>l.clientHeight,Ti=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},$o=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Zn();y&&At(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Ql=()=>{let l=Zn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Ho=()=>typeof window>"u"||typeof document>"u",Cg=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Dg=()=>{let l=b();return l?(l.remove(),an([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Nn=()=>{o.currentInstance.resetValidationMessage()},Yl=()=>{let l=x(),h=Jn(l,g.input),y=Jn(l,g.file),w=l.querySelector(`.${g.range} input`),N=l.querySelector(`.${g.range} output`),$=Jn(l,g.select),me=l.querySelector(`.${g.checkbox} input`),Pe=Jn(l,g.textarea);h.oninput=Nn,y.onchange=Nn,$.onchange=Nn,me.onchange=Nn,Pe.oninput=Nn,w.oninput=()=>{Nn(),N.value=w.value},w.onchange=()=>{Nn(),N.value=w.value}},Zl=l=>typeof l=="string"?document.querySelector(l):l,Is=l=>{let h=x();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},$c=l=>{window.getComputedStyle(l).direction==="rtl"&&ve(b(),g.rtl)},Hc=l=>{let h=Dg();if(Ho()){V("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&ve(y,g["no-transition"]),St(y,Cg);let w=Zl(l.target);w.appendChild(y),Is(l),$c(w),Yl()},Pn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Jl(l,h):l&&St(h,l)},Jl=(l,h)=>{l.jquery?qo(h,l):St(h,l.toString())},qo=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},er=(()=>{if(Ho())return!1;let l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),Es=(l,h)=>{let y=Rn(),w=Ei();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?it(y):Ye(y),Ft(y,h,"actions"),Xl(y,w,h),St(w,h.loaderHtml||""),Ft(w,h,"loader"))};function Xl(l,h,y){let w=sn(),N=Ot(),$=Ii();!w||!N||!$||(zo(w,"confirm",y),zo(N,"deny",y),zo($,"cancel",y),xt(w,N,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(N,w)):(l.insertBefore($,h),l.insertBefore(N,h),l.insertBefore(w,h))))}function xt(l,h,y,w){if(!w.buttonsStyling){an([l,h,y],g.styled);return}ve([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,ve(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,ve(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,ve(y,g["default-outline"]))}function zo(l,h,y){let w=O(h);Xn(l,y[`show${w}Button`],"inline-block"),St(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Ft(l,y,`${h}Button`)}let bs=(l,h)=>{let y=Vc();y&&(St(y,h.closeButtonHtml||""),Ft(y,h,"closeButton"),Xn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Cs=(l,h)=>{let y=b();y&&(Tg(y,h.backdrop),Sg(y,h.position),Si(y,h.grow),Ft(y,h,"container"))};function Tg(l,h){typeof h=="string"?l.style.background=h:h||ve([document.documentElement,document.body],g["no-backdrop"])}function Sg(l,h){h&&(h in g?ve(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),ve(l,g.center)))}function Si(l,h){h&&ve(l,g[`grow-${h}`])}var Le={innerParams:new WeakMap,domCache:new WeakMap};let Ag=["input","file","range","select","radio","checkbox","textarea"],Go=(l,h)=>{let y=x();if(!y)return;let w=Le.innerParams.get(l),N=!w||h.input!==w.input;Ag.forEach($=>{let me=Jn(y,g[$]);me&&(Wo($,h.inputAttributes),me.className=g[$],N&&it(me))}),h.input&&(N&&ed(h),tr(h))},ed=l=>{if(!l.input)return;if(!qe[l.input]){V(`Unexpected type of input! Expected ${Object.keys(qe).join(" | ")}, got "${l.input}"`);return}let h=Qo(l.input);if(!h)return;let y=qe[l.input](h,l);Ye(h),l.inputAutoFocus&&setTimeout(()=>{jc(y)})},qc=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Wo=(l,h)=>{let y=x();if(!y)return;let w=Bo(y,l);if(w){qc(w);for(let N in h)w.setAttribute(N,h[N])}},tr=l=>{if(!l.input)return;let h=Qo(l.input);h&&Ft(h,l,"input")},Ko=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Ai=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),N=g["input-label"];w.setAttribute("for",l.id),w.className=N,typeof y.customClass=="object"&&ve(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Qo=l=>{let h=x();if(h)return Jn(h,g[l]||g.input)},xi=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},qe={};qe.text=qe.email=qe.password=qe.number=qe.tel=qe.url=qe.search=qe.date=qe["datetime-local"]=qe.time=qe.week=qe.month=(l,h)=>(xi(l,h.inputValue),Ai(l,l,h),Ko(l,h),l.type=h.input,l),qe.file=(l,h)=>(Ai(l,l,h),Ko(l,h),l),qe.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return xi(y,h.inputValue),y.type=h.input,xi(w,h.inputValue),Ai(y,l,h),l},qe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");St(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Ai(l,l,h),l},qe.radio=l=>(l.textContent="",l),qe.checkbox=(l,h)=>{let y=Bo(x(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return St(w,h.inputPlaceholder||h.inputLabel),y},qe.textarea=(l,h)=>{xi(l,h.inputValue),Ko(l,h),Ai(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(x()).width),N=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?x().style.width=`${$}px`:Mn(x(),"width",h.width)};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let td=(l,h)=>{let y=Lc();y&&(st(y),Ft(y,h,"htmlContainer"),h.html?(Pn(h.html,y),Ye(y,"block")):h.text?(y.textContent=h.text,Ye(y,"block")):it(y),Go(l,h))},xg=(l,h)=>{let y=zl();y&&(st(y),Xn(y,h.footer,"block"),h.footer&&Pn(h.footer,y),Ft(y,h,"footer"))},Yo=(l,h)=>{let y=Le.innerParams.get(l),w=C();if(w){if(y&&h.icon===y.icon){Zo(w,h),zc(w,h);return}if(!h.icon&&!h.iconHtml){it(w);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),it(w);return}Ye(w),Zo(w,h),zc(w,h),ve(w,h.showClass&&h.showClass.icon)}},zc=(l,h)=>{for(let[y,w]of Object.entries(E))h.icon!==y&&an(l,w);ve(l,h.icon&&E[h.icon]),Rg(l,h),Gc(),Ft(l,h,"icon")},Gc=()=>{let l=x();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},Ds=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,xr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Zo=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Wc(h.iconHtml):h.icon==="success"?(w=Ds,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=xr:h.icon&&(w=Wc({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&St(l,w)},Rg=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])_t(l,y,"background-color",h.iconColor);_t(l,".swal2-success-ring","border-color",h.iconColor)}},Wc=l=>`<div class="${g["icon-content"]}">${l}</div>`,nd=(l,h)=>{let y=wi();if(y){if(!h.imageUrl){it(y);return}Ye(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Mn(y,"width",h.imageWidth),Mn(y,"height",h.imageHeight),y.className=g.image,Ft(y,h,"image")}},rd=(l,h)=>{let y=b(),w=x();if(!(!y||!w)){if(h.toast){Mn(y,"width",h.width),w.style.width="100%";let N=Ei();N&&w.insertBefore(N,C())}else Mn(w,"width",h.width);Mn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),it(_i()),Kc(w,h)}},Kc=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${At(l)?y.popup:""}`,h.toast?(ve([document.documentElement,document.body],g["toast-shown"]),ve(l,g.toast)):ve(l,g.modal),Ft(l,h,"popup"),typeof h.customClass=="string"&&ve(l,h.customClass),h.icon&&ve(l,g[`icon-${h.icon}`])},Qc=(l,h)=>{let y=Ar();if(!y)return;let{progressSteps:w,currentProgressStep:N}=h;if(!w||w.length===0||N===void 0){it(y);return}Ye(y),y.textContent="",N>=w.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,me)=>{let Pe=id($);if(y.appendChild(Pe),me===N&&ve(Pe,g["active-progress-step"]),me!==w.length-1){let Qe=sd(h);y.appendChild(Qe)}})},id=l=>{let h=document.createElement("li");return ve(h,g["progress-step"]),St(h,l),h},sd=l=>{let h=document.createElement("li");return ve(h,g["progress-step-line"]),l.progressStepsDistance&&Mn(h,"width",l.progressStepsDistance),h},Mg=(l,h)=>{let y=vi();y&&(st(y),Xn(y,h.title||h.titleText,"block"),h.title&&Pn(h.title,y),h.titleText&&(y.innerText=h.titleText),Ft(y,h,"title"))},od=(l,h)=>{rd(l,h),Cs(l,h),Qc(l,h),Yo(l,h),nd(l,h),Mg(l,h),bs(l,h),td(l,h),Es(l,h),xg(l,h);let y=x();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},ad=()=>At(x()),Yc=()=>{var l;return(l=sn())===null||l===void 0?void 0:l.click()},Ng=()=>{var l;return(l=Ot())===null||l===void 0?void 0:l.click()},Rr=()=>{var l;return(l=Ii())===null||l===void 0?void 0:l.click()},Lt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ts=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Jo=(l,h,y)=>{Ts(l),h.toast||(l.keydownHandler=w=>Ss(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:x(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Xo=(l,h)=>{var y;let w=bi();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=x())===null||y===void 0||y.focus()},Ve=["ArrowRight","ArrowDown"],ea=["ArrowLeft","ArrowUp"],Ss=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?As(h,l):h.key==="Tab"?Pg(h):[...Ve,...ea].includes(h.key)?cd(h.key):h.key==="Escape"&&kg(h,l,y)))},As=(l,h)=>{if(!Ae(h.allowEnterKey))return;let y=Bo(x(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Yc(),l.preventDefault()}},Pg=l=>{let h=l.target,y=bi(),w=-1;for(let N=0;N<y.length;N++)if(h===y[N]){w=N;break}l.shiftKey?Xo(w,-1):Xo(w,1),l.stopPropagation(),l.preventDefault()},cd=l=>{let h=Rn(),y=sn(),w=Ot(),N=Ii();if(!h||!y||!w||!N)return;let $=[y,w,N];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let me=Ve.includes(l)?"nextElementSibling":"previousElementSibling",Pe=document.activeElement;if(Pe){for(let Qe=0;Qe<h.children.length;Qe++){if(Pe=Pe[me],!Pe)return;if(Pe instanceof HTMLButtonElement&&At(Pe))break}Pe instanceof HTMLButtonElement&&Pe.focus()}},kg=(l,h,y)=>{Ae(h.allowEscapeKey)&&(l.preventDefault(),y(Lt.esc))};var Ri={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Og=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},ud=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Mi=typeof window<"u"&&!!window.GestureEvent,nr=()=>{if(Mi&&!on(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,ve(document.body,g.iosfix),ld()}},ld=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=dd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},dd=l=>{let h=l.target,y=b(),w=Lc();return!y||!w||hd(l)||Ni(l)?!1:h===y||!Kl(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Kl(w)&&w.contains(h))},hd=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Ni=l=>l.touches&&l.touches.length>1,Fg=()=>{if(on(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);an(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Lg=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Pi=null,rr=l=>{Pi===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Pi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Pi+Lg()}px`)},Vg=()=>{Pi!==null&&(document.body.style.paddingRight=`${Pi}px`,Pi=null)};function fd(l,h,y,w){Di()?md(l,w):(u(y).then(()=>md(l,w)),Ts(o)),Mi?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Ci()&&(Vg(),Fg(),ud()),xs()}function xs(){an([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function cn(l){l=gd(l);let h=Ri.swalPromiseResolve.get(this),y=pd(this);this.isAwaitingPromise?l.isDismissed||(kn(this),h(l)):y&&h(l)}let pd=l=>{let h=x();if(!h)return!1;let y=Le.innerParams.get(l);if(!y||on(h,y.hideClass.popup))return!1;an(h,y.showClass.popup),ve(h,y.hideClass.popup);let w=b();return an(w,y.showClass.backdrop),ve(w,y.hideClass.backdrop),Zc(l,h,y),!0};function ki(l){let h=Ri.swalPromiseReject.get(this);kn(this),h&&h(l)}let kn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Le.innerParams.get(l)||l._destroy())},gd=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Zc=(l,h,y)=>{let w=b(),N=er&&Ti(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),N?ze(l,h,w,y.returnFocus,y.didClose):fd(l,w,y.returnFocus,y.didClose)},ze=(l,h,y,w,N)=>{er&&(o.swalCloseEventFinishedCallback=fd.bind(null,l,y,w,N),h.addEventListener(er,function($){$.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback)}))},md=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Oi=l=>{let h=x();if(h||new Sd,h=x(),!h)return;let y=Ei();Di()?it(C()):yd(h,l),Ye(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},yd=(l,h)=>{let y=Rn(),w=Ei();!y||!w||(!h&&At(sn())&&(h=sn()),Ye(y),h&&(it(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),ve([l,y],g.loading))},vd=(l,h)=>{h.input==="select"||h.input==="radio"?Id(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(X(h.inputValue)||I(h.inputValue))&&(Oi(sn()),Ug(l,h))},wd=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return ta(y);case"radio":return _d(y);case"file":return On(y);default:return h.inputAutoTrim?y.value.trim():y.value}},ta=l=>l.checked?1:0,_d=l=>l.checked?l.value:null,On=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Id=(l,h)=>{let y=x();if(!y)return;let w=N=>{h.input==="select"?Rs(y,Fi(N),h):h.input==="radio"&&Ed(y,Fi(N),h)};X(h.inputOptions)||I(h.inputOptions)?(Oi(sn()),T(h.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof h.inputOptions=="object"?w(h.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Ug=(l,h)=>{let y=l.getInput();y&&(it(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,Ye(y),y.focus(),l.hideLoading()}).catch(w=>{V(`Error in inputValue promise: ${w}`),y.value="",Ye(y),y.focus(),l.hideLoading()}))};function Rs(l,h,y){let w=Jn(l,g.select);if(!w)return;let N=($,me,Pe)=>{let Qe=document.createElement("option");Qe.value=Pe,St(Qe,me),Qe.selected=Ms(Pe,y.inputValue),$.appendChild(Qe)};h.forEach($=>{let me=$[0],Pe=$[1];if(Array.isArray(Pe)){let Qe=document.createElement("optgroup");Qe.label=me,Qe.disabled=!1,w.appendChild(Qe),Pe.forEach(aa=>N(Qe,aa[1],aa[0]))}else N(w,Pe,me)}),w.focus()}function Ed(l,h,y){let w=Jn(l,g.radio);if(!w)return;h.forEach($=>{let me=$[0],Pe=$[1],Qe=document.createElement("input"),aa=document.createElement("label");Qe.type="radio",Qe.name=g.radio,Qe.value=me,Ms(me,y.inputValue)&&(Qe.checked=!0);let $g=document.createElement("span");St($g,Pe),$g.className=g.label,aa.appendChild(Qe),aa.appendChild($g),w.appendChild(aa)});let N=w.querySelectorAll("input");N.length&&N[0].focus()}let Fi=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let N=y;typeof N=="object"&&(N=Fi(N)),h.push([w,N])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Fi(w)),h.push([y,w])}),h},Ms=(l,h)=>!!h&&h.toString()===l.toString(),bd=l=>{let h=Le.innerParams.get(l);l.disableButtons(),h.input?Jc(l,"confirm"):Ps(l,!0)},na=l=>{let h=Le.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Jc(l,"deny"):ra(l,!1)},jg=(l,h)=>{l.disableButtons(),h(Lt.cancel)},Jc=(l,h)=>{let y=Le.innerParams.get(l);if(!y.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),N=wd(l,y);y.inputValidator?Ns(l,N,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?ra(l,N):Ps(l,N)},Ns=(l,h,y)=>{let w=Le.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?ra(l,h):Ps(l,h)})},ra=(l,h)=>{let y=Le.innerParams.get(l||void 0);y.showLoaderOnDeny&&Oi(Ot()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(N=>{N===!1?(l.hideLoading(),kn(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(N=>ia(l||void 0,N))):l.close({isDenied:!0,value:h})},Xc=(l,h)=>{l.close({isConfirmed:!0,value:h})},ia=(l,h)=>{l.rejectPromise(h)},Ps=(l,h)=>{let y=Le.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Oi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(N=>{At(_i())||N===!1?(l.hideLoading(),kn(l)):Xc(l,typeof N>"u"?h:N)}).catch(N=>ia(l||void 0,N))):Xc(l,h)};function ks(){let l=Le.innerParams.get(this);if(!l)return;let h=Le.domCache.get(this);it(h.loader),Di()?l.icon&&Ye(C()):sa(h),an([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let sa=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?Ye(h[0],"inline-block"):Wl()&&it(l.actions)};function eu(){let l=Le.innerParams.get(this),h=Le.domCache.get(this);return h?Bo(h.popup,l.input):null}function tu(l,h,y){let w=Le.domCache.get(l);h.forEach(N=>{w[N].disabled=y})}function ir(l,h){let y=x();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<w.length;N++)w[N].disabled=h}else l.disabled=h}function nu(){tu(this,["confirmButton","denyButton","cancelButton"],!1)}function ru(){tu(this,["confirmButton","denyButton","cancelButton"],!0)}function iu(){ir(this.getInput(),!1)}function su(){ir(this.getInput(),!0)}function Os(l){let h=Le.domCache.get(this),y=Le.innerParams.get(this);St(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&ve(h.validationMessage,y.customClass.validationMessage),Ye(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),jc(w),ve(w,g.inputerror))}function Vt(){let l=Le.domCache.get(this);l.validationMessage&&it(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),an(h,g.inputerror))}let Mr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Cd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Li={allowEnterKey:void 0},c=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],f=l=>Object.prototype.hasOwnProperty.call(Mr,l),m=l=>Cd.indexOf(l)!==-1,v=l=>Li[l],R=l=>{f(l)||k(`Unknown parameter "${l}"`)},P=l=>{c.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},U=l=>{let h=v(l);h&&Z(l,h)},Fe=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)R(h),l.toast&&P(h),U(h)};function ot(l){let h=x(),y=Le.innerParams.get(this);if(!h||on(h,y.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=be(l),N=Object.assign({},y,w);od(this,N),Le.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let be=l=>{let h={};return Object.keys(l).forEach(y=>{m(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function ht(){let l=Le.domCache.get(this),h=Le.innerParams.get(this);if(!h){Nr(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),It(this)}let It=l=>{Nr(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},Nr=l=>{l.isAwaitingPromise?(Gt(Le,l),l.isAwaitingPromise=!0):(Gt(Ri,l),Gt(Le,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Gt=(l,h)=>{for(let y in l)l[y].delete(h)};var oa=Object.freeze({__proto__:null,_destroy:ht,close:cn,closeModal:cn,closePopup:cn,closeToast:cn,disableButtons:ru,disableInput:su,disableLoading:ks,enableButtons:nu,enableInput:iu,getInput:eu,handleAwaitingPromise:kn,hideLoading:ks,rejectPromise:ki,resetValidationMessage:Vt,showValidationMessage:Os,update:ot});let ou=(l,h,y)=>{l.toast?MM(l,h,y):(PM(h),kM(h),OM(l,h,y))},MM=(l,h,y)=>{h.popup.onclick=()=>{l&&(NM(l)||l.timer||l.input)||y(Lt.close)}},NM=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Dd=!1,PM=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Dd=!0)}}},kM=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Dd=!0)}}},OM=(l,h,y)=>{h.container.onclick=w=>{if(Dd){Dd=!1;return}w.target===h.container&&Ae(l.allowOutsideClick)&&y(Lt.backdrop)}},FM=l=>typeof l=="object"&&l.jquery,GE=l=>l instanceof Element||FM(l),LM=l=>{let h={};return typeof l[0]=="object"&&!GE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let N=l[w];typeof N=="string"||GE(N)?h[y]=N:N!==void 0&&V(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof N}`)}),h};function VM(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function UM(l){class h extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return h}let jM=()=>o.timeout&&o.timeout.getTimerLeft(),WE=()=>{if(o.timeout)return Ql(),o.timeout.stop()},KE=()=>{if(o.timeout){let l=o.timeout.start();return $o(l),l}},BM=()=>{let l=o.timeout;return l&&(l.running?WE():KE())},$M=l=>{if(o.timeout){let h=o.timeout.increase(l);return $o(h,!0),h}},HM=()=>!!(o.timeout&&o.timeout.isRunning()),QE=!1,Bg={};function qM(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Bg[l]=this,QE||(document.body.addEventListener("click",zM),QE=!0)}let zM=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Bg){let w=h.getAttribute(y);if(w){Bg[y].fire({template:w});return}}};class GM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let N=function(){w.removeListener(h,N);for(var $=arguments.length,me=new Array($),Pe=0;Pe<$;Pe++)me[Pe]=arguments[Pe];y.apply(w,me)};this.on(h,N)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),N=1;N<y;N++)w[N-1]=arguments[N];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(me){console.error(me)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),N=w.indexOf(y);N>-1&&w.splice(N,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new GM;var WM=Object.freeze({__proto__:null,argsToParams:LM,bindClickHandler:qM,clickCancel:Rr,clickConfirm:Yc,clickDeny:Ng,enableLoading:Oi,fire:VM,getActions:Rn,getCancelButton:Ii,getCloseButton:Vc,getConfirmButton:sn,getContainer:b,getDenyButton:Ot,getFocusableElements:bi,getFooter:zl,getHtmlContainer:Lc,getIcon:C,getIconContent:xn,getImage:wi,getInputLabel:wt,getLoader:Ei,getPopup:x,getProgressSteps:Ar,getTimerLeft:jM,getTimerProgressBar:Zn,getTitle:vi,getValidationMessage:_i,increaseTimer:$M,isDeprecatedParameter:v,isLoading:Uc,isTimerRunning:HM,isUpdatableParameter:m,isValidParameter:f,isVisible:ad,mixin:UM,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:KE,showLoading:Oi,stopTimer:WE,toggleTimer:BM});class KM{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let YE=["swal-title","swal-html","swal-footer"],QM=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return rN(y),Object.assign(YM(y),ZM(y),JM(y),XM(y),eN(y),tN(y),nN(y,YE))},YM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Fs(w,["name","value"]);let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(typeof Mr[N]=="boolean"?h[N]=$!=="false":typeof Mr[N]=="object"?h[N]=JSON.parse($):h[N]=$)}),h},ZM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(h[N]=new Function(`return ${$}`)())}),h},JM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Fs(w,["type","color","aria-label"]);let N=w.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h[`${N}ButtonText`]=w.innerHTML,h[`show${O(N)}Button`]=!0,w.hasAttribute("color")&&(h[`${N}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${N}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},XM=l=>{let h={},y=l.querySelector("swal-image");return y&&(Fs(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},eN=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Fs(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},tN=l=>{let h={},y=l.querySelector("swal-input");y&&(Fs(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(N=>{Fs(N,["value"]);let $=N.getAttribute("value");if(!$)return;let me=N.innerHTML;h.inputOptions[$]=me})),h},nN=(l,h)=>{let y={};for(let w in h){let N=h[w],$=l.querySelector(N);$&&(Fs($,[]),y[N.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},rN=l=>{let h=YE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||k(`Unrecognized element <${w}>`)})},Fs=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},ZE=10,iN=l=>{let h=b(),y=x();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let N=window.getComputedStyle(document.body).overflowY;aN(h,y,l),setTimeout(()=>{sN(h,y)},ZE),Ci()&&(oN(h,l.scrollbarPadding,N),Og()),!Di()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),an(h,g["no-transition"])},JE=l=>{let h=x();if(l.target!==h||!er)return;let y=b();h.removeEventListener(er,JE),y.style.overflowY="auto"},sN=(l,h)=>{er&&Ti(h)?(l.style.overflowY="hidden",h.addEventListener(er,JE)):l.style.overflowY="auto"},oN=(l,h,y)=>{nr(),h&&y!=="hidden"&&rr(y),setTimeout(()=>{l.scrollTop=0})},aN=(l,h,y)=>{ve(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),Ye(h,"grid"),setTimeout(()=>{ve(h,y.showClass.popup),h.style.removeProperty("opacity")},ZE)):Ye(h,"grid"),ve([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&ve([document.documentElement,document.body],g["height-auto"])};var XE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function cN(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=XE.email),l.input==="url"&&(l.inputValidator=XE.url))}function uN(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function lN(l){cN(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),uN(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Hc(l)}let sr;var Td=new WeakMap;class tt{constructor(){if(r(this,Td,void 0),typeof window>"u")return;sr=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,i(Td,this,this._main(sr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Fe(Object.assign({},y,h)),o.currentInstance){let $=Ri.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:me}=o.currentInstance;o.currentInstance._destroy(),me||$({isDismissed:!0}),Ci()&&ud()}o.currentInstance=sr;let w=hN(h,y);lN(w),Object.freeze(w),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let N=fN(sr);return od(sr,w),Le.innerParams.set(sr,w),dN(sr,N,w)}then(h){return n(Td,this).then(h)}finally(h){return n(Td,this).finally(h)}}let dN=(l,h,y)=>new Promise((w,N)=>{let $=me=>{l.close({isDismissed:!0,dismiss:me})};Ri.swalPromiseResolve.set(l,w),Ri.swalPromiseReject.set(l,N),h.confirmButton.onclick=()=>{bd(l)},h.denyButton.onclick=()=>{na(l)},h.cancelButton.onclick=()=>{jg(l,$)},h.closeButton.onclick=()=>{$(Lt.close)},ou(y,h,$),Jo(o,y,$),vd(l,y),iN(y),pN(o,y,$),gN(h,y),setTimeout(()=>{h.container.scrollTop=0})}),hN=(l,h)=>{let y=QM(l),w=Object.assign({},Mr,h,y,l);return w.showClass=Object.assign({},Mr.showClass,w.showClass),w.hideClass=Object.assign({},Mr.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},fN=l=>{let h={popup:x(),container:b(),actions:Rn(),confirmButton:sn(),denyButton:Ot(),cancelButton:Ii(),loader:Ei(),closeButton:Vc(),validationMessage:_i(),progressSteps:Ar()};return Le.domCache.set(l,h),h},pN=(l,h,y)=>{let w=Zn();it(w),h.timer&&(l.timeout=new KM(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(Ye(w),Ft(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&$o(h.timer)})))},gN=(l,h)=>{if(!h.toast){if(!Ae(h.allowEnterKey)){Z("allowEnterKey"),vN();return}mN(l)||yN(l,h)||Xo(-1,1)}},mN=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&At(y))return y.focus(),!0;return!1},yN=(l,h)=>h.focusDeny&&At(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&At(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&At(l.confirmButton)?(l.confirmButton.focus(),!0):!1,vN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}tt.prototype.disableButtons=ru,tt.prototype.enableButtons=nu,tt.prototype.getInput=eu,tt.prototype.disableInput=su,tt.prototype.enableInput=iu,tt.prototype.hideLoading=ks,tt.prototype.disableLoading=ks,tt.prototype.showValidationMessage=Os,tt.prototype.resetValidationMessage=Vt,tt.prototype.close=cn,tt.prototype.closePopup=cn,tt.prototype.closeModal=cn,tt.prototype.closeToast=cn,tt.prototype.rejectPromise=ki,tt.prototype.update=ot,tt.prototype._destroy=ht,Object.assign(tt,WM),Object.keys(oa).forEach(l=>{tt[l]=function(){return sr&&sr[l]?sr[l](...arguments):null}}),tt.DismissReason=Lt,tt.version="11.14.0";let Sd=tt;return Sd.default=Sd,Sd});typeof wr<"u"&&wr.Sweetalert2&&(wr.swal=wr.sweetAlert=wr.Swal=wr.SweetAlert=wr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function ib(t,e){return Object.is(t,e)}var ft=null,Ad=!1,xd=1,Pr=Symbol("SIGNAL");function Te(t){let e=ft;return ft=t,e}function sb(){return ft}var cu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gg(t){if(Ad)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(t);let e=ft.nextProducerIndex++;if(Pd(ft),e<ft.producerNode.length&&ft.producerNode[e]!==t&&au(ft)){let n=ft.producerNode[e];Nd(n,ft.producerIndexOfThis[e])}ft.producerNode[e]!==t&&(ft.producerNode[e]=t,ft.producerIndexOfThis[e]=au(ft)?ub(t,ft,e):0),ft.producerLastReadVersion[e]=t.version}function xN(){xd++}function ob(t){if(!(au(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xd)){if(!t.producerMustRecompute(t)&&!Kg(t)){t.dirty=!1,t.lastCleanEpoch=xd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xd}}function ab(t){if(t.liveConsumerNode===void 0)return;let e=Ad;Ad=!0;try{for(let n of t.liveConsumerNode)n.dirty||RN(n)}finally{Ad=e}}function cb(){return ft?.consumerAllowSignalWrites!==!1}function RN(t){t.dirty=!0,ab(t),t.consumerMarkedDirty?.(t)}function Md(t){return t&&(t.nextProducerIndex=0),Te(t)}function Wg(t,e){if(Te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(au(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Nd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Kg(t){Pd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ob(n),r!==n.version))return!0}return!1}function Qg(t){if(Pd(t),au(t))for(let e=0;e<t.producerNode.length;e++)Nd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ub(t,e,n){if(lb(t),t.liveConsumerNode.length===0&&db(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ub(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Nd(t,e){if(lb(t),t.liveConsumerNode.length===1&&db(t))for(let r=0;r<t.producerNode.length;r++)Nd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pd(i),i.producerIndexOfThis[r]=e}}function au(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function lb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function db(t){return t.producerNode!==void 0}function hb(t){let e=Object.create(MN);e.computation=t;let n=()=>{if(ob(e),Gg(e),e.value===Rd)throw e.error;return e.value};return n[Pr]=e,n}var qg=Symbol("UNSET"),zg=Symbol("COMPUTING"),Rd=Symbol("ERRORED"),MN=we(j({},cu),{value:qg,dirty:!0,error:null,equal:ib,producerMustRecompute(t){return t.value===qg||t.value===zg},producerRecomputeValue(t){if(t.value===zg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zg;let n=Md(t),r;try{r=t.computation()}catch(i){r=Rd,t.error=i}finally{Wg(t,n)}if(e!==qg&&e!==Rd&&r!==Rd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function NN(){throw new Error}var fb=NN;function pb(){fb()}function gb(t){fb=t}var PN=null;function mb(t){let e=Object.create(vb);e.value=t;let n=()=>(Gg(e),e.value);return n[Pr]=e,n}function Yg(t,e){cb()||pb(),t.equal(t.value,e)||(t.value=e,kN(t))}function yb(t,e){cb()||pb(),Yg(t,e(t.value))}var vb=we(j({},cu),{equal:ib,value:void 0});function kN(t){t.version++,xN(),ab(t),PN?.()}function ce(t){return typeof t=="function"}function ca(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kd=ca(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ls(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){e=s instanceof kd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{wb(s)}catch(o){e=e??[],o instanceof kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ls(n,e)}remove(e){let{_finalizers:n}=this;n&&Ls(n,e),e instanceof t&&e._removeParent(this)}};Ze.EMPTY=(()=>{let t=new Ze;return t.closed=!0,t})();var Zg=Ze.EMPTY;function Od(t){return t instanceof Ze||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function wb(t){ce(t)?t():t.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ua={setTimeout(t,e,...n){let{delegate:r}=ua;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ua;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fd(t){ua.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(t);else throw t})}function uu(){}var _b=Jg("C",void 0,void 0);function Ib(t){return Jg("E",void 0,t)}function Eb(t){return Jg("N",t,void 0)}function Jg(t,e,n){return{kind:t,value:e,error:n}}var Vs=null;function la(t){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!Vs;if(e&&(Vs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vs;if(Vs=null,n)throw r}}else t()}function bb(t){Fn.useDeprecatedSynchronousErrorHandling&&Vs&&(Vs.errorThrown=!0,Vs.error=t)}var Us=class extends Ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Od(e)&&e.add(this)):this.destination=LN}static create(e,n,r){return new da(e,n,r)}next(e){this.isStopped?em(Eb(e),this):this._next(e)}error(e){this.isStopped?em(Ib(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?em(_b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ON=Function.prototype.bind;function Xg(t,e){return ON.call(t,e)}var tm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ld(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ld(r)}else Ld(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ld(n)}}},da=class extends Us{constructor(e,n,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Fn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xg(e.next,s),error:e.error&&Xg(e.error,s),complete:e.complete&&Xg(e.complete,s)}):i=e}this.destination=new tm(i)}};function Ld(t){Fn.useDeprecatedSynchronousErrorHandling?bb(t):Fd(t)}function FN(t){throw t}function em(t,e){let{onStoppedNotification:n}=Fn;n&&ua.setTimeout(()=>n(t,e))}var LN={closed:!0,next:uu,error:FN,complete:uu};var ha=typeof Symbol=="function"&&Symbol.observable||"@@observable";function un(t){return t}function Vd(...t){return nm(t)}function nm(t){return t.length===0?un:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=UN(n)?n:new da(n,r,i);return la(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Cb(r),new r((i,s)=>{let o=new da({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ha](){return this}pipe(...n){return nm(n)(this)}toPromise(n){return n=Cb(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Cb(t){var e;return(e=t??Fn.Promise)!==null&&e!==void 0?e:Promise}function VN(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}function UN(t){return t&&t instanceof Us||VN(t)&&Od(t)}function rm(t){return ce(t?.lift)}function Ce(t){return e=>{if(rm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new im(t,e,n,r,i)}var im=class extends Us{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fa(){return Ce((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var pa=class extends ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ze;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ze.EMPTY)}return e}refCount(){return fa()(this)}};var Db=ca(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ud(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Db}next(n){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Zg:(this.currentObservers=null,s.push(n),new Ze(()=>{this.currentObservers=null,Ls(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ye;return n.source=this,n}}return t.create=(e,n)=>new Ud(e,n),t})(),Ud=class extends Et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Zg}};var Rt=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sm={now(){return(sm.delegate||Date).now()},delegate:void 0};var jd=class extends Ze{constructor(e,n){super()}schedule(e,n=0){return this}};var lu={setInterval(t,e,...n){let{delegate:r}=lu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=lu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ga=class extends jd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return lu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&lu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ls(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ma=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ma.now=sm.now;var ya=class extends ma{constructor(e,n=ma.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var om=new ya(ga);var Bd=class extends ga{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $d=class extends ya{};var am=new $d(Bd);var ln=new ye(t=>t.complete());function Tb(t){return t&&ce(t.schedule)}function Sb(t){return t[t.length-1]}function Hd(t){return ce(Sb(t))?t.pop():void 0}function Ui(t){return Tb(Sb(t))?t.pop():void 0}function cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xb(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function Ab(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function js(t){return this instanceof js?(this.v=t,this):new js(t)}function Rb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(M){return Promise.resolve(M).then(E,g)}}function a(E,M){r[E]&&(i[E]=function(O){return new Promise(function(k,V){s.push([E,O,k,V])>1||u(E,O)})},M&&(i[E]=M(i[E])))}function u(E,M){try{d(r[E](M))}catch(O){_(s[0][3],O)}}function d(E){E.value instanceof js?Promise.resolve(E.value.v).then(p,g):_(s[0][2],E)}function p(E){u("next",E)}function g(E){u("throw",E)}function _(E,M){E(M),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Mb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ab=="function"?Ab(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var qd=t=>t&&typeof t.length=="number"&&typeof t!="function";function zd(t){return ce(t?.then)}function Gd(t){return ce(t[ha])}function Wd(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function Kd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qd=jN();function Yd(t){return ce(t?.[Qd])}function Zd(t){return Rb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield js(n.read());if(i)return yield js(void 0);yield yield js(r)}}finally{n.releaseLock()}})}function Jd(t){return ce(t?.getReader)}function at(t){if(t instanceof ye)return t;if(t!=null){if(Gd(t))return BN(t);if(qd(t))return $N(t);if(zd(t))return HN(t);if(Wd(t))return Nb(t);if(Yd(t))return qN(t);if(Jd(t))return zN(t)}throw Kd(t)}function BN(t){return new ye(e=>{let n=t[ha]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $N(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HN(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fd)})}function qN(t){return new ye(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Nb(t){return new ye(e=>{GN(t,e).catch(n=>e.error(n))})}function zN(t){return Nb(Zd(t))}function GN(t,e){var n,r,i,s;return xb(this,void 0,void 0,function*(){try{for(n=Mb(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Jt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ji(t,e=0){return Ce((n,r)=>{n.subscribe(_e(r,i=>Jt(r,t,()=>r.next(i),e),()=>Jt(r,t,()=>r.complete(),e),i=>Jt(r,t,()=>r.error(i),e)))})}function Bi(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Pb(t,e){return at(t).pipe(Bi(e),ji(e))}function kb(t,e){return at(t).pipe(Bi(e),ji(e))}function Ob(t,e){return new ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Fb(t,e){return new ye(n=>{let r;return Jt(n,e,()=>{r=t[Qd](),Jt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Xd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{Jt(n,e,()=>{let r=t[Symbol.asyncIterator]();Jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lb(t,e){return Xd(Zd(t),e)}function Vb(t,e){if(t!=null){if(Gd(t))return Pb(t,e);if(qd(t))return Ob(t,e);if(zd(t))return kb(t,e);if(Wd(t))return Xd(t,e);if(Yd(t))return Fb(t,e);if(Jd(t))return Lb(t,e)}throw Kd(t)}function Ge(t,e){return e?Vb(t,e):at(t)}function oe(...t){let e=Ui(t);return Ge(t,e)}function va(t,e){let n=ce(t)?t:()=>t,r=i=>i.error(n());return new ye(e?i=>e.schedule(r,0,i):r)}function um(t){return!!t&&(t instanceof ye||ce(t.lift)&&ce(t.subscribe))}var kr=ca(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:WN}=Array;function KN(t,e){return WN(e)?t(...e):t(e)}function eh(t){return ie(e=>KN(t,e))}var{isArray:QN}=Array,{getPrototypeOf:YN,prototype:ZN,keys:JN}=Object;function th(t){if(t.length===1){let e=t[0];if(QN(e))return{args:e,keys:null};if(XN(e)){let n=JN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XN(t){return t&&typeof t=="object"&&YN(t)===ZN}function nh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rh(...t){let e=Ui(t),n=Hd(t),{args:r,keys:i}=th(t);if(r.length===0)return Ge([],e);let s=new ye(eP(r,e,i?o=>nh(i,o):un));return n?s.pipe(eh(n)):s}function eP(t,e,n=un){return r=>{Ub(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)Ub(e,()=>{let d=Ge(t[u],e),p=!1;d.subscribe(_e(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Ub(t,e,n){t?Jt(n,t,e):e()}function jb(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},E=O=>d<r?M(O):u.push(O),M=O=>{s&&e.next(O),d++;let k=!1;at(n(O,p++)).subscribe(_e(e,V=>{i?.(V),s?E(V):e.next(V)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let V=u.shift();o?Jt(e,o,()=>M(V)):M(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(_e(e,E,()=>{g=!0,_()})),()=>{a?.()}}function pt(t,e,n=1/0){return ce(e)?pt((r,i)=>ie((s,o)=>e(r,s,i,o))(at(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>jb(r,i,t,n)))}function wa(t=1/0){return pt(un,t)}function Bb(){return wa(1)}function _a(...t){return Bb()(Ge(t,Ui(t)))}function ih(t){return new ye(e=>{at(t()).subscribe(e)})}function lm(...t){let e=Hd(t),{args:n,keys:r}=th(t),i=new ye(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;at(n[p]).subscribe(_e(s,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?nh(r,a):a),s.complete())}))}});return e?i.pipe(eh(e)):i}function vn(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,s=>t.call(e,s,i++)&&r.next(s)))})}function $i(t){return Ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(_e(n,void 0,void 0,o=>{s=at(t(o,$i(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function $b(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(_e(o,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Ia(t,e){return ce(e)?pt(t,e,1):pt(t,1)}function Hi(t){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Or(t){return t<=0?()=>ln:Ce((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function dm(t){return ie(()=>t)}function sh(t=tP){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tP(){return new kr}function du(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function or(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vn((i,s)=>t(i,s,r)):un,Or(1),n?Hi(e):sh(()=>new kr))}function Ea(t){return t<=0?()=>ln:Ce((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vn((i,s)=>t(i,s,r)):un,Ea(1),n?Hi(e):sh(()=>new kr))}function oh(t,e){return Ce($b(t,e,arguments.length>=2,!0))}function ah(...t){let e=Ui(t);return Ce((n,r)=>{(e?_a(t,n,e):_a(t,n)).subscribe(r)})}function Ln(t,e){return Ce((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let d=0,p=s++;at(t(u,p)).subscribe(i=_e(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fm(t){return Ce((e,n)=>{at(t).subscribe(_e(n,()=>n.complete(),uu)),!n.closed&&e.subscribe(n)})}function gt(t,e,n){let r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(_e(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):un}var x0="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Ey(e,n)),this.code=e}};function Ey(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Eu(t){return{toString:t}.toString()}var ch="__parameters__";function nP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function R0(t,e,n){return Eu(()=>{let r=nP(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(ch)?u[ch]:Object.defineProperty(u,ch,{value:[]})[ch];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qs=globalThis;function Ue(t){for(let e in t)if(t[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function rP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Kt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Hb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iP=Ue({__forward_ref__:Ue});function jr(t){return t.__forward_ref__=jr,t.toString=function(){return Kt(this())},t}function Wt(t){return M0(t)?t():t}function M0(t){return typeof t=="function"&&t.hasOwnProperty(iP)&&t.__forward_ref__===jr}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function io(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hh(t){return qb(t,P0)||qb(t,k0)}function N0(t){return Hh(t)!==null}function qb(t,e){return t.hasOwnProperty(e)?t[e]:null}function sP(t){let e=t&&(t[P0]||t[k0]);return e||null}function zb(t){return t&&(t.hasOwnProperty(Gb)||t.hasOwnProperty(oP))?t[Gb]:null}var P0=Ue({\u0275prov:Ue}),Gb=Ue({\u0275inj:Ue}),k0=Ue({ngInjectableDef:Ue}),oP=Ue({ngInjectorDef:Ue}),K=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function O0(t){return t&&!!t.\u0275providers}var aP=Ue({\u0275cmp:Ue}),cP=Ue({\u0275dir:Ue}),uP=Ue({\u0275pipe:Ue}),lP=Ue({\u0275mod:Ue}),wh=Ue({\u0275fac:Ue}),pu=Ue({__NG_ELEMENT_ID__:Ue}),Wb=Ue({__NG_ENV_ID__:Ue});function qh(t){return typeof t=="string"?t:t==null?"":String(t)}function dP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():qh(t)}function hP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function by(t,e){throw new Q(-201,!1)}var pe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pe||{}),Am;function F0(){return Am}function Xt(t){let e=Am;return Am=t,e}function L0(t,e,n){let r=Hh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&pe.Optional)return null;if(e!==void 0)return e;by(t,"Injector")}var fP={},gu=fP,xm="__NG_DI_FLAG__",_h="ngTempTokenPath",pP="ngTokenPath",gP=/\n/gm,mP="\u0275",Kb="__source",Ta;function yP(){return Ta}function qi(t){let e=Ta;return Ta=t,e}function vP(t,e=pe.Default){if(Ta===void 0)throw new Q(-203,!1);return Ta===null?L0(t,void 0,e):Ta.get(t,e&pe.Optional?null:void 0,e)}function fe(t,e=pe.Default){return(F0()||vP)(Wt(t),e)}function B(t,e=pe.Default){return fe(t,zh(e))}function zh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rm(t){let e=[];for(let n=0;n<t.length;n++){let r=Wt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=pe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=wP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(fe(i,s))}else e.push(fe(r))}return e}function V0(t,e){return t[xm]=e,t.prototype[xm]=e,t}function wP(t){return t[xm]}function _P(t,e,n,r){let i=t[_h];throw e[Kb]&&i.unshift(e[Kb]),t.message=IP(`
`+t.message,i,n,r),t[pP]=i,t[_h]=null,t}function IP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mP?t.slice(2):t;let i=Kt(e);if(Array.isArray(e))i=e.map(Kt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Kt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gP,`
  `)}`}var ct=V0(R0("Optional"),8);var U0=V0(R0("SkipSelf"),4);function Gs(t,e){let n=t.hasOwnProperty(wh);return n?t[wh]:null}function EP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function bP(t){return t.flat(Number.POSITIVE_INFINITY)}function Cy(t,e){t.forEach(n=>Array.isArray(n)?Cy(n,e):e(n))}function j0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ih(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function DP(t,e,n){let r=bu(t,e);return r>=0?t[r|1]=n:(r=~r,CP(t,r,e,n)),r}function pm(t,e){let n=bu(t,e);if(n>=0)return t[n|1]}function bu(t,e){return TP(t,e,1)}function TP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Aa={},wn=[],xa=new K(""),B0=new K("",-1),$0=new K(""),Eh=class{get(e,n=gu){if(n===gu){let r=new Error(`NullInjectorError: No provider for ${Kt(e)}!`);throw r.name="NullInjectorError",r}return n}},H0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(H0||{}),ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ur||{}),Wi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wi||{});function SP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Mm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];AP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function q0(t){return t===3||t===4||t===6}function AP(t){return t.charCodeAt(0)===64}function mu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Qb(t,n,i,null,e[++r]):Qb(t,n,i,null,null))}}return t}function Qb(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var z0="ng-template";function xP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dy(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Dy(t){return t.type===4&&t.value!==z0}function RP(t,e,n){let r=t.type===4&&!n?z0:t.value;return e===r}function MP(t,e,n){let r=4,i=t.attrs,s=i!==null?kP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Vn(r)&&!Vn(u))return!1;if(o&&Vn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!RP(t,u,n)||u===""&&e.length===1){if(Vn(r))return!1;o=!0}}else if(r&8){if(i===null||!xP(t,i,u,n)){if(Vn(r))return!1;o=!0}}else{let d=e[++a],p=NP(u,i,Dy(t),n);if(p===-1){if(Vn(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Vn(r))return!1;o=!0}}}}return Vn(r)||o}function Vn(t){return(t&1)===0}function NP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OP(e,t)}function PP(t,e,n=!1){for(let r=0;r<e.length;r++)if(MP(t,e[r],n))return!0;return!1}function kP(t){for(let e=0;e<t.length;e++){let n=t[e];if(q0(n))return e}return t.length}function OP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Yb(t,e){return t?":not("+e.trim()+")":e}function FP(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Vn(o)&&(e+=Yb(s,i),i=""),r=o,s=s||!Vn(r);n++}return i!==""&&(e+=Yb(s,i)),e}function LP(t){return t.map(FP).join(",")}function VP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Vn(i))break;i=s}r++}return{attrs:e,classes:n}}function en(t){return Eu(()=>{let e=Z0(t),n=we(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===H0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""});J0(n);let r=t.dependencies;return n.directiveDefs=Jb(r,!1),n.pipeDefs=Jb(r,!0),n.id=BP(n),n})}function UP(t){return Ws(t)||W0(t)}function jP(t){return t!==null}function so(t){return Eu(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zb(t,e){if(t==null)return Aa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Wi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Wi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function nt(t){return Eu(()=>{let e=Z0(t);return J0(e),e})}function G0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ws(t){return t[aP]||null}function W0(t){return t[cP]||null}function K0(t){return t[uP]||null}function Q0(t){let e=Ws(t)||W0(t)||K0(t);return e!==null?e.standalone:!1}function Y0(t,e){let n=t[lP]||null;if(!n&&e===!0)throw new Error(`Type ${Kt(t)} does not have '\u0275mod' property.`);return n}function Z0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Aa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zb(t.inputs,e),outputs:Zb(t.outputs),debugInfo:null}}function J0(t){t.features?.forEach(e=>e(t))}function Jb(t,e){if(!t)return null;let n=e?K0:UP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jP)}function BP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function En(t){return{\u0275providers:t}}function $P(...t){return{\u0275providers:X0(!0,t),\u0275fromNgModule:!0}}function X0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Cy(e,o=>{let a=o;Nm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&eC(i,s),n}function eC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ty(i,s=>{e(s,r)})}}function Nm(t,e,n,r){if(t=Wt(t),!t)return!1;let i=null,s=zb(t),o=!s&&Ws(t);if(!s&&!o){let u=t.ngModule;if(s=zb(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Nm(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{Cy(s.imports,p=>{Nm(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&eC(d,e)}if(!a){let d=Gs(i)||(()=>new i);e({provide:i,useFactory:d,deps:wn},i),e({provide:$0,useValue:i,multi:!0},i),e({provide:xa,useValue:()=>fe(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;Ty(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Ty(t,e){for(let n of t)O0(n)&&(n=n.\u0275providers),Array.isArray(n)?Ty(n,e):e(n)}var HP=Ue({provide:String,useValue:Ue});function tC(t){return t!==null&&typeof t=="object"&&HP in t}function qP(t){return!!(t&&t.useExisting)}function zP(t){return!!(t&&t.useFactory)}function Ra(t){return typeof t=="function"}function GP(t){return!!t.useClass}var Gh=new K(""),fh={},WP={},gm;function Sy(){return gm===void 0&&(gm=new Eh),gm}var In=class{},yu=class extends In{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,km(e,o=>this.processProvider(o)),this.records.set(B0,ba(void 0,this)),i.has("environment")&&this.records.set(In,ba(void 0,this));let s=this.records.get(Gh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($0,wn,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qi(this),r=Xt(void 0),i;try{return e()}finally{qi(n),Xt(r)}}get(e,n=gu,r=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wb))return e[Wb](this);r=zh(r);let i,s=qi(this),o=Xt(void 0);try{if(!(r&pe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=JP(e)&&Hh(e);d&&this.injectableDefInScope(d)?u=ba(Pm(e),fh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&pe.Self?Sy():this.parent;return n=r&pe.Optional&&n===gu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_h]=a[_h]||[]).unshift(Kt(e)),s)throw a;return _P(a,e,"R3InjectorError",this.source)}else throw a}finally{Xt(o),qi(s)}}resolveInjectorInitializers(){let e=Te(null),n=qi(this),r=Xt(void 0),i;try{let s=this.get(xa,wn,pe.Self);for(let o of s)o()}finally{qi(n),Xt(r),Te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Wt(e);let n=Ra(e)?e:Wt(e&&e.provide),r=QP(e);if(!Ra(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ba(void 0,fh,!0),i.factory=()=>Rm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Te(null);try{return n.value===fh&&(n.value=WP,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Wt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pm(t){let e=Hh(t),n=e!==null?e.factory:Gs(t);if(n!==null)return n;if(t instanceof K)throw new Q(204,!1);if(t instanceof Function)return KP(t);throw new Q(204,!1)}function KP(t){if(t.length>0)throw new Q(204,!1);let n=sP(t);return n!==null?()=>n.factory(t):()=>new t}function QP(t){if(tC(t))return ba(void 0,t.useValue);{let e=nC(t);return ba(e,fh)}}function nC(t,e,n){let r;if(Ra(t)){let i=Wt(t);return Gs(i)||Pm(i)}else if(tC(t))r=()=>Wt(t.useValue);else if(zP(t))r=()=>t.useFactory(...Rm(t.deps||[]));else if(qP(t))r=()=>fe(Wt(t.useExisting));else{let i=Wt(t&&(t.useClass||t.provide));if(YP(t))r=()=>new i(...Rm(t.deps));else return Gs(i)||Pm(i)}return r}function ba(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YP(t){return!!t.deps}function ZP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JP(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function km(t,e){for(let n of t)Array.isArray(n)?km(n,e):n&&O0(n)?km(n.\u0275providers,e):e(n)}function Br(t,e){t instanceof yu&&t.assertNotDestroyed();let n,r=qi(t),i=Xt(void 0);try{return e()}finally{qi(r),Xt(i)}}function XP(){return F0()!==void 0||yP()!=null}function ek(t){return typeof t=="function"}var $r=0,de=1,se=2,Ut=3,Un=4,$n=5,bh=6,Ch=7,jn=8,Ma=9,lr=10,mt=11,vu=12,Xb=13,La=14,dr=15,Ks=16,Ca=17,Fr=18,Wh=19,rC=20,zi=21,mm=22,_n=23,Bn=25,iC=1;var Qs=7,Dh=8,Na=9,dn=10,Th=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Th||{});function Gi(t){return Array.isArray(t)&&typeof t[iC]=="object"}function Hr(t){return Array.isArray(t)&&t[iC]===!0}function sC(t){return(t.flags&4)!==0}function Kh(t){return t.componentOffset>-1}function Ay(t){return(t.flags&1)===1}function Ki(t){return!!t.template}function Om(t){return(t[se]&512)!==0}var Fm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function qr(){return aC}function aC(t){return t.type.prototype.ngOnChanges&&(t.setInput=nk),tk}qr.ngInherit=!0;function tk(){let t=uC(this),e=t?.current;if(e){let n=t.previous;if(n===Aa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nk(t,e,n,r,i){let s=this.declaredInputs[r],o=uC(t)||rk(t,{previous:Aa,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new Fm(d&&d.currentValue,n,u===Aa),oC(t,e,i,n)}var cC="__ngSimpleChanges__";function uC(t){return t[cC]||null}function rk(t,e){return t[cC]=e}var e0=null;var ar=function(t,e,n){e0?.(t,e,n)},ik="svg",sk="math";function hr(t){for(;Array.isArray(t);)t=t[$r];return t}function lC(t,e){return hr(e[t])}function bn(t,e){return hr(e[t.index])}function dC(t,e){return t.data[e]}function hC(t,e){return t[e]}function Zi(t,e){let n=e[t];return Gi(n)?n:n[$r]}function ok(t){return(t[se]&4)===4}function xy(t){return(t[se]&128)===128}function ak(t){return Hr(t[Ut])}function Sh(t,e){return e==null?null:t[e]}function fC(t){t[Ca]=0}function pC(t){t[se]&1024||(t[se]|=1024,xy(t)&&Yh(t))}function ck(t,e){for(;t>0;)e=e[La],t--;return e}function Qh(t){return!!(t[se]&9216||t[_n]?.dirty)}function Lm(t){t[lr].changeDetectionScheduler?.notify(8),t[se]&64&&(t[se]|=1024),Qh(t)&&Yh(t)}function Yh(t){t[lr].changeDetectionScheduler?.notify(0);let e=Ys(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!xy(e)));)e=Ys(e)}function gC(t,e){if((t[se]&256)===256)throw new Q(911,!1);t[zi]===null&&(t[zi]=[]),t[zi].push(e)}function uk(t,e){if(t[zi]===null)return;let n=t[zi].indexOf(e);n!==-1&&t[zi].splice(n,1)}function Ys(t){let e=t[Ut];return Hr(e)?e[Ut]:e}var ge={lFrame:DC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mC=!1;function lk(){return ge.lFrame.elementDepthCount}function dk(){ge.lFrame.elementDepthCount++}function hk(){ge.lFrame.elementDepthCount--}function yC(){return ge.bindingsEnabled}function fk(){return ge.skipHydrationRootTNode!==null}function pk(t){return ge.skipHydrationRootTNode===t}function gk(){ge.skipHydrationRootTNode=null}function Re(){return ge.lFrame.lView}function Bt(){return ge.lFrame.tView}function Mt(t){return ge.lFrame.contextLView=t,t[jn]}function Nt(t){return ge.lFrame.contextLView=null,t}function $t(){let t=vC();for(;t!==null&&t.type===64;)t=t.parent;return t}function vC(){return ge.lFrame.currentTNode}function mk(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Cu(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function wC(){return ge.lFrame.isParent}function yk(){ge.lFrame.isParent=!1}function vk(){return ge.lFrame.contextLView}function _C(){return mC}function t0(t){mC=t}function IC(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wk(t){return ge.lFrame.bindingIndex=t}function Zh(){return ge.lFrame.bindingIndex++}function _k(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ik(){return ge.lFrame.inI18n}function Ek(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Vm(e)}function bk(){return ge.lFrame.currentDirectiveIndex}function Vm(t){ge.lFrame.currentDirectiveIndex=t}function Ck(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function EC(){return ge.lFrame.currentQueryIndex}function Ry(t){ge.lFrame.currentQueryIndex=t}function Dk(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[$n]:null}function bC(t,e,n){if(n&pe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&pe.Host);)if(i=Dk(s),i===null||(s=s[La],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ge.lFrame=CC();return r.currentTNode=e,r.lView=t,!0}function My(t){let e=CC(),n=t[de];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CC(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?DC(t):e}function DC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TC(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SC=TC;function Ny(){let t=TC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tk(t){return(ge.lFrame.contextLView=ck(t,ge.lFrame.contextLView))[jn]}function Va(){return ge.lFrame.selectedIndex}function Zs(t){ge.lFrame.selectedIndex=t}function Py(){let t=ge.lFrame;return dC(t.tView,t.selectedIndex)}function Sk(){return ge.lFrame.currentNamespace}var AC=!0;function ky(){return AC}function Oy(t){AC=t}function Ak(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=aC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Fy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function ph(t,e,n){xC(t,e,3,n)}function gh(t,e,n,r){(t[se]&3)===n&&xC(t,e,n,r)}function ym(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function xC(t,e,n,r){let i=r!==void 0?t[Ca]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ca]+=65536),(a<s||s==-1)&&(xk(t,n,e,u),t[Ca]=(t[Ca]&4294901760)+u+2),u++}function n0(t,e){ar(4,t,e);let n=Te(null);try{e.call(t)}finally{Te(n),ar(5,t,e)}}function xk(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[se]>>14<t[Ca]>>16&&(t[se]&3)===e&&(t[se]+=16384,n0(a,s)):n0(a,s)}var Sa=-1,Js=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Rk(t){return t instanceof Js}function Mk(t){return(t.flags&8)!==0}function Nk(t){return(t.flags&16)!==0}var vm={},Um=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zh(r);let i=this.injector.get(e,vm,r);return i!==vm||n===vm?i:this.parentInjector.get(e,n,r)}};function RC(t){return t!==Sa}function Ah(t){return t&32767}function Pk(t){return t>>16}function xh(t,e){let n=Pk(t),r=e;for(;n>0;)r=r[La],n--;return r}var jm=!0;function Rh(t){let e=jm;return jm=t,e}var kk=256,MC=kk-1,NC=5,Ok=0,cr={};function Fk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(pu)&&(r=n[pu]),r==null&&(r=n[pu]=Ok++);let i=r&MC,s=1<<i;e.data[t+(i>>NC)]|=s}function Mh(t,e){let n=PC(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,wm(r.data,t),wm(e,null),wm(r.blueprint,null));let i=Ly(t,e),s=t.injectorIndex;if(RC(i)){let o=Ah(i),a=xh(i,e),u=a[de].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function wm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ly(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=VC(i),r===null)return Sa;if(n++,i=i[La],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Sa}function Bm(t,e,n){Fk(t,e,n)}function Lk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(q0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function kC(t,e,n){if(n&pe.Optional||t!==void 0)return t;by(e,"NodeInjector")}function OC(t,e,n,r){if(n&pe.Optional&&r===void 0&&(r=null),!(n&(pe.Self|pe.Host))){let i=t[Ma],s=Xt(void 0);try{return i?i.get(e,r,n&pe.Optional):L0(e,r,n&pe.Optional)}finally{Xt(s)}}return kC(r,e,n)}function FC(t,e,n,r=pe.Default,i){if(t!==null){if(e[se]&2048&&!(r&pe.Self)){let o=Bk(t,e,n,r,cr);if(o!==cr)return o}let s=LC(t,e,n,r,cr);if(s!==cr)return s}return OC(e,n,r,i)}function LC(t,e,n,r,i){let s=Uk(n);if(typeof s=="function"){if(!bC(e,t,r))return r&pe.Host?kC(i,n,r):OC(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&pe.Optional))by(n);else return o}finally{SC()}}else if(typeof s=="number"){let o=null,a=PC(t,e),u=Sa,d=r&pe.Host?e[dr][$n]:null;for((a===-1||r&pe.SkipSelf)&&(u=a===-1?Ly(t,e):e[a+8],u===Sa||!i0(r,!1)?a=-1:(o=e[de],a=Ah(u),e=xh(u,e)));a!==-1;){let p=e[de];if(r0(s,a,p.data)){let g=Vk(a,e,n,o,r,d);if(g!==cr)return g}u=e[a+8],u!==Sa&&i0(r,e[de].data[a+8]===d)&&r0(s,a,e)?(o=p,a=Ah(u),e=xh(u,e)):a=-1}}return i}function Vk(t,e,n,r,i,s){let o=e[de],a=o.data[t+8],u=r==null?Kh(a)&&jm:r!=o&&(a.type&3)!==0,d=i&pe.Host&&s===a,p=mh(a,o,n,u,d);return p!==null?Xs(e,o,p,a):cr}function mh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,g=r?a:a+p,_=i?a+p:d;for(let E=g;E<_;E++){let M=o[E];if(E<u&&n===M||E>=u&&M.type===n)return E}if(i){let E=o[u];if(E&&Ki(E)&&E.type===n)return u}return null}function Xs(t,e,n,r){let i=t[n],s=e.data;if(Rk(i)){let o=i;o.resolving&&hP(dP(s[n]));let a=Rh(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Xt(o.injectImpl):null,p=bC(t,r,pe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ak(n,s[n],e)}finally{d!==null&&Xt(d),Rh(a),o.resolving=!1,SC()}}return i}function Uk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(pu)?t[pu]:void 0;return typeof e=="number"?e>=0?e&MC:jk:e}function r0(t,e,n){let r=1<<t;return!!(n[e+(t>>NC)]&r)}function i0(t,e){return!(t&pe.Self)&&!(t&pe.Host&&e)}var zs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FC(this._tNode,this._lView,e,zh(r),n)}};function jk(){return new zs($t(),Re())}function Ji(t){return Eu(()=>{let e=t.prototype.constructor,n=e[wh]||$m(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[wh]||$m(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $m(t){return M0(t)?()=>{let e=$m(Wt(t));return e&&e()}:Gs(t)}function Bk(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!(o[se]&512);){let a=LC(s,o,n,r|pe.Self,cr);if(a!==cr)return a;let u=s.parent;if(!u){let d=o[rC];if(d){let p=d.get(n,cr,r);if(p!==cr)return p}u=VC(o),o=o[La]}s=u}return i}function VC(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[$n]:null}function Vy(t){return Lk($t(),t)}function s0(t,e=null,n=null,r){let i=UC(t,e,n,r);return i.resolveInjectorInitializers(),i}function UC(t,e=null,n=null,r,i=new Set){let s=[n||wn,$P(t)];return r=r||(typeof t=="object"?void 0:Kt(t)),new yu(s,e||Sy(),r||null,i)}var $s=class $s{static create(e,n){if(Array.isArray(e))return s0({name:""},n,e,"");{let r=e.name??"";return s0({name:r},e.parent,e.providers,r)}}};$s.THROW_IF_NOT_FOUND=gu,$s.NULL=new Eh,$s.\u0275prov=ee({token:$s,providedIn:"any",factory:()=>fe(B0)}),$s.__NG_ELEMENT_ID__=-1;var jt=$s;var $k=new K("");$k.__NG_ELEMENT_ID__=t=>{let e=$t();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&pe.Optional)return null;throw new Q(204,!1)};var Hk="ngOriginalError";function _m(t){return t[Hk]}var jC=!0,BC=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Hm=class extends BC{constructor(e){super(),this._lView=e}onDestroy(e){return gC(this._lView,e),()=>uk(this._lView,e)}};function qk(){return new Hm(Re())}var Ua=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var qm=class extends Et{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XP()&&(this.destroyRef=B(BC,{optional:!0})??void 0,this.pendingTasks=B(Ua,{optional:!0})??void 0)}emit(e){let n=Te(null);try{super.next(e)}finally{Te(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Je=qm;function Nh(...t){}function $C(t){let e,n;function r(){t=Nh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function o0(t){return queueMicrotask(()=>t()),()=>{t=Nh}}var Uy="isAngularZone",Ph=Uy+"_ID",zk=0,ke=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=jC}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Kk(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Uy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Gk,Nh,Nh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Gk={};function jy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$C(()=>{t.callbackScheduled=!1,zm(t),t.isCheckStableRunning=!0,jy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),zm(t)}function Kk(t){let e=()=>{Wk(t)},n=zk++;t._inner=t._inner.fork({name:"angular",properties:{[Uy]:!0,[Ph]:n,[Ph+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Qk(u))return r.invokeTask(s,o,a,u);try{return a0(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),c0(t)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return a0(t),r.invoke(s,o,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Yk(u)&&e(),c0(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,zm(t),jy(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function zm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function a0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function c0(t){t._nesting--,jy(t)}var Gm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Qk(t){return HC(t,"__ignore_ng_zone__")}function Yk(t){return HC(t,"__scheduler_tick__")}function HC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Lr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_m(e);for(;n&&_m(n);)n=_m(n);return n||null}},Zk=new K("",{providedIn:"root",factory:()=>{let t=B(ke),e=B(Lr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Jk(){return ja($t(),Re())}function ja(t,e){return new hn(bn(t,e))}var hn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Jk;let t=e;return t})();function Xk(t){return t instanceof hn?t.nativeElement:t}function eO(){return this._results[Symbol.iterator]()}var Wm=class t{get changes(){return this._changes??=new Je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=eO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=bP(e);(this._changesDetected=!EP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function qC(t){return(t.flags&128)===128}var zC=new Map,tO=0;function nO(){return tO++}function rO(t){zC.set(t[Wh],t)}function Km(t){zC.delete(t[Wh])}var u0="__ngContext__";function eo(t,e){Gi(e)?(t[u0]=e[Wh],rO(e)):t[u0]=e}function GC(t){return KC(t[vu])}function WC(t){return KC(t[Un])}function KC(t){for(;t!==null&&!Hr(t);)t=t[Un];return t}var Qm;function QC(t){Qm=t}function iO(){if(Qm!==void 0)return Qm;if(typeof document<"u")return document;throw new Q(210,!1)}var By=new K("",{providedIn:"root",factory:()=>sO}),sO="ng",$y=new K(""),Xi=new K("",{providedIn:"platform",factory:()=>"unknown"});var Hy=new K("",{providedIn:"root",factory:()=>iO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oO="h",aO="b";var cO=()=>null;function qy(t,e,n=!1){return cO(t,e,n)}var YC=!1,uO=new K("",{providedIn:"root",factory:()=>YC});var uh;function lO(){if(uh===void 0&&(uh=null,qs.trustedTypes))try{uh=qs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uh}function l0(t){return lO()?.createScriptURL(t)||t}var kh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${x0})`}};function Du(t){return t instanceof kh?t.changingThisBreaksApplicationSecurity:t}function zy(t,e){let n=dO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${x0})`)}return n===e}function dO(t){return t instanceof kh&&t.getTypeName()||null}var hO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZC(t){return t=String(t),t.match(hO)?t:"unsafe:"+t}var Jh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jh||{});function fO(t){let e=XC();return e?e.sanitize(Jh.URL,t)||"":zy(t,"URL")?Du(t):ZC(qh(t))}function pO(t){let e=XC();if(e)return l0(e.sanitize(Jh.RESOURCE_URL,t)||"");if(zy(t,"ResourceURL"))return l0(Du(t));throw new Q(904,!1)}function gO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?pO:fO}function JC(t,e,n){return gO(e,n)(t)}function XC(){let t=Re();return t&&t[lr].sanitizer}function eD(t){return t instanceof Function?t():t}var Vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vr||{}),mO;function Gy(t,e){return mO(t,e)}function Da(t,e,n,r,i){if(r!=null){let s,o=!1;Hr(r)?s=r:Gi(r)&&(o=!0,r=r[$r]);let a=hr(r);t===0&&n!==null?i==null?sD(e,n,a):Oh(e,n,a,i||null,!0):t===1&&n!==null?Oh(e,n,a,i||null,!0):t===2?MO(e,a,o):t===3&&e.destroyNode(a),s!=null&&PO(e,t,s,n,i)}}function yO(t,e){return t.createText(e)}function vO(t,e,n){t.setValue(e,n)}function tD(t,e,n){return t.createElement(e,n)}function wO(t,e){nD(t,e),e[$r]=null,e[$n]=null}function _O(t,e,n,r,i,s){r[$r]=i,r[$n]=e,Xh(t,r,n,1,i,s)}function nD(t,e){e[lr].changeDetectionScheduler?.notify(9),Xh(t,e,e[mt],2,null,null)}function IO(t){let e=t[vu];if(!e)return Im(t[de],t);for(;e;){let n=null;if(Gi(e))n=e[vu];else{let r=e[dn];r&&(n=r)}if(!n){for(;e&&!e[Un]&&e!==t;)Gi(e)&&Im(e[de],e),e=e[Ut];e===null&&(e=t),Gi(e)&&Im(e[de],e),n=e&&e[Un]}e=n}}function EO(t,e,n,r){let i=dn+r,s=n.length;r>0&&(n[i-1][Un]=e),r<s-dn?(e[Un]=n[i],j0(n,dn+r,e)):(n.push(e),e[Un]=null),e[Ut]=n;let o=e[Ks];o!==null&&n!==o&&rD(o,e);let a=e[Fr];a!==null&&a.insertView(t),Lm(e),e[se]|=128}function rD(t,e){let n=t[Na],r=e[Ut];if(Gi(r))t[se]|=Th.HasTransplantedViews;else{let i=r[Ut][dr];e[dr]!==i&&(t[se]|=Th.HasTransplantedViews)}n===null?t[Na]=[e]:n.push(e)}function Wy(t,e){let n=t[Na],r=n.indexOf(e);n.splice(r,1)}function Ym(t,e){if(t.length<=dn)return;let n=dn+e,r=t[n];if(r){let i=r[Ks];i!==null&&i!==t&&Wy(i,r),e>0&&(t[n-1][Un]=r[Un]);let s=Ih(t,dn+e);wO(r[de],r);let o=s[Fr];o!==null&&o.detachView(s[de]),r[Ut]=null,r[Un]=null,r[se]&=-129}return r}function iD(t,e){if(!(e[se]&256)){let n=e[mt];n.destroyNode&&Xh(t,e,n,3,null,null),IO(e)}}function Im(t,e){if(e[se]&256)return;let n=Te(null);try{e[se]&=-129,e[se]|=256,e[_n]&&Qg(e[_n]),CO(t,e),bO(t,e),e[de].type===1&&e[mt].destroy();let r=e[Ks];if(r!==null&&Hr(e[Ut])){r!==e[Ut]&&Wy(r,e);let i=e[Fr];i!==null&&i.detachView(t)}Km(e)}finally{Te(n)}}function bO(t,e){let n=t.cleanup,r=e[Ch];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ch]=null);let i=e[zi];if(i!==null){e[zi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function CO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Js)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];ar(4,a,u);try{u.call(a)}finally{ar(5,a,u)}}else{ar(4,i,s);try{s.call(i)}finally{ar(5,i,s)}}}}}function DO(t,e,n){return TO(t,e.parent,n)}function TO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[$r];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===ur.None||s===ur.Emulated)return null}return bn(r,n)}}function Oh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sD(t,e,n){t.appendChild(e,n)}function d0(t,e,n,r,i){r!==null?Oh(t,e,n,r,i):sD(t,e,n)}function oD(t,e){return t.parentNode(e)}function SO(t,e){return t.nextSibling(e)}function AO(t,e,n){return RO(t,e,n)}function xO(t,e,n){return t.type&40?bn(t,n):null}var RO=xO,h0;function Ky(t,e,n,r){let i=DO(t,r,e),s=e[mt],o=r.parent||e[$n],a=AO(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)d0(s,i,n[u],a,!1);else d0(s,i,n,a,!1);h0!==void 0&&h0(s,r,e,n,i)}function hu(t,e){if(e!==null){let n=e.type;if(n&3)return bn(e,t);if(n&4)return Zm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return hu(t,r);{let i=t[e.index];return Hr(i)?Zm(-1,i):hr(i)}}else{if(n&128)return hu(t,e.next);if(n&32)return Gy(e,t)()||hr(t[e.index]);{let r=aD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ys(t[dr]);return hu(i,r)}else return hu(t,e.next)}}}return null}function aD(t,e){if(e!==null){let r=t[dr][$n],i=e.projection;return r.projection[i]}return null}function Zm(t,e){let n=dn+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return hu(r,i)}return e[Qs]}function MO(t,e,n){t.removeChild(null,e,n)}function Qy(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&eo(hr(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Qy(t,e,n.child,r,i,s,!1),Da(e,t,i,a,s);else if(u&32){let d=Gy(n,r),p;for(;p=d();)Da(e,t,i,p,s);Da(e,t,i,a,s)}else u&16?NO(t,e,r,n,i,s):Da(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Xh(t,e,n,r,i,s){Qy(n,r,t.firstChild,e,i,s,!1)}function NO(t,e,n,r,i,s){let o=n[dr],u=o[$n].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Da(e,t,i,p,s)}else{let d=u,p=o[Ut];qC(r)&&(d.flags|=128),Qy(t,e,d,p,i,s,!0)}}function PO(t,e,n,r,i){let s=n[Qs],o=hr(n);s!==o&&Da(e,t,r,s,i);for(let a=dn;a<n.length;a++){let u=n[a];Xh(u[de],u,t,e,r,s)}}function kO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Vr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vr.Important),t.setStyle(n,r,i,s))}}function OO(t,e,n){t.setAttribute(e,"style",n)}function cD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Mm(t,e,r),i!==null&&cD(t,e,i),s!==null&&OO(t,e,s)}var oo={};function Se(t=1){lD(Bt(),Re(),Va()+t,!1)}function lD(t,e,n,r){if(!r)if((e[se]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ph(e,s,n)}else{let s=t.preOrderHooks;s!==null&&gh(e,s,0,n)}Zs(n)}function J(t,e=pe.Default){let n=Re();if(n===null)return fe(t,e);let r=$t();return FC(r,n,Wt(t),e)}function dD(t,e,n,r,i,s){let o=Te(null);try{let a=null;i&Wi.SignalBased&&(a=e[r][Pr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Wi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):oC(e,a,r,s)}finally{Te(o)}}function FO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zs(~i);else{let s=i,o=n[++r],a=n[++r];Ek(o,s);let u=e[s];a(2,u)}}}finally{Zs(-1)}}function ef(t,e,n,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[$r]=i,g[se]=r|4|128|8|64,(d!==null||t&&t[se]&2048)&&(g[se]|=2048),fC(g),g[Ut]=g[La]=t,g[jn]=n,g[lr]=o||t&&t[lr],g[mt]=a||t&&t[mt],g[Ma]=u||t&&t[Ma]||null,g[$n]=s,g[Wh]=nO(),g[bh]=p,g[rC]=d,g[dr]=e.type==2?t[dr]:g,g}function tf(t,e,n,r,i){let s=t.data[e];if(s===null)s=LO(t,e,n,r,i),Ik()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=mk();s.injectorIndex=o===null?-1:o.injectorIndex}return Cu(s,!0),s}function LO(t,e,n,r,i){let s=vC(),o=wC(),a=o?s:s&&s.parent,u=t.data[e]=HO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function hD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fD(t,e,n,r,i){let s=Va(),o=r&2;try{Zs(-1),o&&e.length>Bn&&lD(t,e,Bn,!1),ar(o?2:0,i),n(r,i)}finally{Zs(s),ar(o?3:1,i)}}function pD(t,e,n){if(sC(e)){let r=Te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Te(r)}}}function gD(t,e,n){yC()&&(QO(t,e,n,bn(n,e)),(n.flags&64)===64&&ID(t,e,n))}function mD(t,e,n=bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function yD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Yy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yy(t,e,n,r,i,s,o,a,u,d,p){let g=Bn+r,_=g+i,E=VO(g,_),M=typeof d=="function"?d():d;return E[de]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function VO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:oo);return n}function UO(t,e,n,r){let s=r.get(uO,YC)||n===ur.ShadowDom,o=t.selectRootElement(e,s);return jO(o),o}function jO(t){BO(t)}var BO=()=>null;function $O(t,e,n,r){let i=CD(e);i.push(n),t.firstCreatePass&&DD(t).push(r,i.length-1)}function HO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return fk()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function f0(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Wi.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?p0(r,n,d,a,u):p0(r,n,d,a)}return r}function p0(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function qO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],_=n?n.get(g):null,E=_?_.inputs:null,M=_?_.outputs:null;u=f0(0,g.inputs,p,u,E),d=f0(1,g.outputs,p,d,M);let O=u!==null&&o!==null&&!Dy(e)?o1(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function zO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vD(t,e,n,r,i,s,o,a){let u=bn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Zy(t,n,p,r,i),Kh(e)&&GO(n,e.index)):e.type&3?(r=zO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function GO(t,e){let n=Zi(e,t);n[se]&16||(n[se]|=64)}function wD(t,e,n,r){if(yC()){let i=r===null?null:{"":-1},s=ZO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&_D(t,e,n,o,i,a),i&&JO(n,r,i)}n.mergedAttrs=mu(n.mergedAttrs,n.attrs)}function _D(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Bm(Mh(n,e),t,r[d].type);e1(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=hD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=mu(n.mergedAttrs,p.hostAttrs),t1(t,n,e,u,p),XO(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}qO(t,n,s)}function WO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;KO(o)!=a&&o.push(a),o.push(n,r,s)}}function KO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function QO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Kh(n)&&n1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Mh(n,e),eo(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=Xs(e,t,a,n);if(eo(d,e),o!==null&&s1(e,a-i,d,u,n,o),Ki(u)){let p=Zi(n.index,e);p[jn]=Xs(e,t,a,n)}}}function ID(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=bk();try{Zs(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];Vm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YO(u,d)}}finally{Zs(-1),Vm(o)}}function YO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(PP(e,o.selectors,!1))if(r||(r=[]),Ki(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Jm(t,e,u)}else r.unshift(o),Jm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Jm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function JO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function XO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ki(e)&&(n[""]=t)}}function e1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function t1(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Gs(i.type,!0)),o=new Js(s,Ki(i),J);t.blueprint[r]=o,n[r]=o,WO(t,e,r,hD(t,n,i.hostVars,oo),i)}function n1(t,e,n){let r=bn(e,t),i=yD(n),s=t[lr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=nf(t,ef(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function r1(t,e,n,r,i,s){let o=bn(t,e);i1(e[mt],o,s,t.value,n,r,i)}function i1(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?qh(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function s1(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];dD(r,n,u,d,p,g)}}function o1(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function ED(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function bD(t,e){let n=t.contentQueries;if(n!==null){let r=Te(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Ry(s),a.contentQueries(2,e[o],o)}}}finally{Te(r)}}}function nf(t,e){return t[vu]?t[Xb][Un]=e:t[vu]=e,t[Xb]=e,e}function Xm(t,e,n){Ry(0);let r=Te(null);try{e(t,n)}finally{Te(r)}}function CD(t){return t[Ch]??=[]}function DD(t){return t.cleanup??=[]}function TD(t,e){let n=t[Ma],r=n?n.get(Lr,null):null;r&&r.handleError(e)}function Zy(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],d=e[o],p=t.data[o];dD(p,d,r,a,u,i)}}function a1(t,e,n){let r=lC(e,t);vO(t[mt],r,n)}function c1(t,e){let n=Zi(e,t),r=n[de];u1(r,n);let i=n[$r];i!==null&&n[bh]===null&&(n[bh]=qy(i,n[Ma])),Jy(r,n,n[jn])}function u1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jy(t,e,n){My(e);try{let r=t.viewQuery;r!==null&&Xm(1,r,n);let i=t.template;i!==null&&fD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Fr]?.finishViewCreation(t),t.staticContentQueries&&bD(t,e),t.staticViewQueries&&Xm(2,t.viewQuery,n);let s=t.components;s!==null&&l1(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,Ny()}}function l1(t,e){for(let n=0;n<e.length;n++)c1(t,e[n])}function d1(t,e,n,r){let i=Te(null);try{let s=e.tView,a=t[se]&4096?4096:16,u=ef(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Ks]=d;let p=t[Fr];return p!==null&&(u[Fr]=p.createEmbeddedView(s)),Jy(s,u,n),u}finally{Te(i)}}function g0(t,e){return!e||e.firstChild===null||qC(t)}function h1(t,e,n,r=!0){let i=e[de];if(EO(i,e,t,n),r){let o=Zm(n,t),a=e[mt],u=oD(a,t[Qs]);u!==null&&_O(i,t[$n],a,e,u,o)}let s=e[bh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Fh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(hr(s)),Hr(s)&&f1(s,r);let o=n.type;if(o&8)Fh(t,e,n.child,r);else if(o&32){let a=Gy(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=aD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ys(e[dr]);Fh(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function f1(t,e){for(let n=dn;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&Fh(r[de],r,i,e)}t[Qs]!==t[$r]&&e.push(t[Qs])}var SD=[];function p1(t){return t[_n]??g1(t)}function g1(t){let e=SD.pop()??Object.create(y1);return e.lView=t,e}function m1(t){t.lView[_n]!==t&&(t.lView=null,SD.push(t))}var y1=we(j({},cu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yh(t.lView)},consumerOnSignalRead(){this.lView[_n]=this}});function v1(t){let e=t[_n]??Object.create(w1);return e.lView=t,e}var w1=we(j({},cu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ys(t.lView);for(;e&&!AD(e[de]);)e=Ys(e);e&&pC(e)},consumerOnSignalRead(){this.lView[_n]=this}});function AD(t){return t.type!==2}var _1=100;function xD(t,e=!0,n=0){let r=t[lr],i=r.rendererFactory,s=!1;s||i.begin?.();try{I1(t,n)}catch(o){throw e&&TD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function I1(t,e){let n=_C();try{t0(!0),ey(t,e);let r=0;for(;Qh(t);){if(r===_1)throw new Q(103,!1);r++,ey(t,1)}}finally{t0(n)}}function E1(t,e,n,r){let i=e[se];if((i&256)===256)return;let s=!1,o=!1;!s&&e[lr].inlineEffectRunner?.flush(),My(e);let a=!0,u=null,d=null;s||(AD(t)?(d=p1(e),u=Md(d)):sb()===null?(a=!1,d=v1(e),u=Md(d)):e[_n]&&(Qg(e[_n]),e[_n]=null));try{fC(e),wk(t.bindingStartIndex),n!==null&&fD(t,e,n,2,r);let p=(i&3)===3;if(!s)if(p){let E=t.preOrderCheckHooks;E!==null&&ph(e,E,null)}else{let E=t.preOrderHooks;E!==null&&gh(e,E,0,null),ym(e,0)}if(o||b1(e),RD(e,0),t.contentQueries!==null&&bD(t,e),!s)if(p){let E=t.contentCheckHooks;E!==null&&ph(e,E)}else{let E=t.contentHooks;E!==null&&gh(e,E,1),ym(e,1)}FO(t,e);let g=t.components;g!==null&&ND(e,g,0);let _=t.viewQuery;if(_!==null&&Xm(2,_,r),!s)if(p){let E=t.viewCheckHooks;E!==null&&ph(e,E)}else{let E=t.viewHooks;E!==null&&gh(e,E,2),ym(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[mm]){for(let E of e[mm])E();e[mm]=null}s||(e[se]&=-73)}catch(p){throw s||Yh(e),p}finally{d!==null&&(Wg(d,u),a&&m1(d)),Ny()}}function RD(t,e){for(let n=GC(t);n!==null;n=WC(n))for(let r=dn;r<n.length;r++){let i=n[r];MD(i,e)}}function b1(t){for(let e=GC(t);e!==null;e=WC(e)){if(!(e[se]&Th.HasTransplantedViews))continue;let n=e[Na];for(let r=0;r<n.length;r++){let i=n[r];pC(i)}}}function C1(t,e,n){let r=Zi(e,t);MD(r,n)}function MD(t,e){xy(t)&&ey(t,e)}function ey(t,e){let r=t[de],i=t[se],s=t[_n],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Kg(s)),o||=!1,s&&(s.dirty=!1),t[se]&=-9217,o)E1(r,t,r.template,t[jn]);else if(i&8192){RD(t,1);let a=r.components;a!==null&&ND(t,a,1)}}function ND(t,e,n){for(let r=0;r<e.length;r++)C1(t,e[r],n)}function Xy(t,e){let n=_C()?64:1088;for(t[lr].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=Ys(t);if(Om(t)&&!r)return t;t=r}return null}var to=class{get rootNodes(){let e=this._lView,n=e[de];return Fh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(e){this._lView[jn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(Hr(e)){let n=e[Dh],r=n?n.indexOf(this):-1;r>-1&&(Ym(e,r),Ih(n,r))}this._attachedToViewContainer=!1}iD(this._lView[de],this._lView)}onDestroy(e){gC(this._lView,e)}markForCheck(){Xy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Lm(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,xD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Om(this._lView),n=this._lView[Ks];n!==null&&!e&&Wy(n,this._lView),nD(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=Om(this._lView),r=this._lView[Ks];r!==null&&!n&&rD(r,this._lView),Lm(this._lView)}},no=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S1;let t=e;return t})(),D1=no,T1=class extends D1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=d1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new to(i)}};function S1(){return ev($t(),Re())}function ev(t,e){return t.type&4?new T1(e,t,ja(t,e)):null}var d8=new RegExp(`^(\\d+)*(${aO}|${oO})*(.*)`);var A1=()=>null;function m0(t,e){return A1(t,e)}var Pa=class{},tv=new K("",{providedIn:"root",factory:()=>!1});var PD=new K(""),kD=new K(""),ty=class{},Lh=class{};function x1(t){let e=Error(`No component factory found for ${Kt(t)}.`);return e[R1]=t,e}var R1="ngComponent";var ny=class{resolveComponentFactory(e){throw x1(e)}},cv=class cv{};cv.NULL=new ny;var ka=cv,Oa=class{},zr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>M1();let t=e;return t})();function M1(){let t=Re(),e=$t(),n=Zi(e.index,t);return(Gi(n)?n:t)[mt]}var N1=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function ry(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Hb(i,a);else if(s==2){let u=a,d=e[++o];r=Hb(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Vh=class extends ka{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ws(e);return new wu(n,this.ngModule)}};function y0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Wi.None;e?n.push({propName:o,templateName:r,isSignal:(a&Wi.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function P1(t){let e=t.toLowerCase();return e==="svg"?ik:e==="math"?sk:null}var wu=class extends Lh{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=y0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return y0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Te(null);try{i=i||this.ngModule;let o=i instanceof In?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Um(e,o):e,u=a.get(Oa,null);if(u===null)throw new Q(407,!1);let d=a.get(N1,null),p=a.get(Pa,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",M=r?UO(_,r,this.componentDef.encapsulation,a):tD(_,E,P1(E)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let k=null;M!==null&&(k=qy(M,a,!0));let V=Yy(0,null,null,1,0,null,null,null,null,null,null),W=ef(null,V,null,O,null,null,g,_,a,null,k);My(W);let G,Z,Ae=null;try{let X=this.componentDef,T,I=null;X.findHostDirectiveDefs?(T=[],I=new Map,X.findHostDirectiveDefs(X,T,I),T.push(X)):T=[X];let b=k1(W,M);Ae=O1(b,M,X,T,W,g,_),Z=dC(V,Bn),M&&V1(_,X,M,r),n!==void 0&&U1(Z,this.ngContentSelectors,n),G=L1(Ae,X,T,I,W,[j1]),Jy(V,W,null)}catch(X){throw Ae!==null&&Km(Ae),Km(W),X}finally{Ny()}return new iy(this.componentType,G,ja(Z,W),W,Z)}finally{Te(s)}}},iy=class extends ty{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new to(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Zy(s[de],s,i,e,n),this.previousInputValues.set(e,n);let o=Zi(this._tNode.index,s);Xy(o,1)}}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function k1(t,e){let n=t[de],r=Bn;return t[r]=e,tf(n,r,2,"#host",null)}function O1(t,e,n,r,i,s,o){let a=i[de];F1(r,t,e,o);let u=null;e!==null&&(u=qy(e,i[Ma]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=ef(i,yD(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&Jm(a,t,r.length-1),nf(i,g),i[t.index]=g}function F1(t,e,n,r){for(let i of t)e.mergedAttrs=mu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ry(e,e.mergedAttrs,!0),n!==null&&uD(r,n,e))}function L1(t,e,n,r,i,s){let o=$t(),a=i[de],u=bn(o,i);_D(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let g=o.directiveStart+p,_=Xs(i,a,g,o);eo(_,i)}ID(a,i,o),u&&eo(u,i);let d=Xs(i,a,o.directiveStart+o.componentOffset,o);if(t[jn]=i[jn]=d,s!==null)for(let p of s)p(d,e);return pD(a,o,i),d}function V1(t,e,n,r){if(r)Mm(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=VP(e.selectors[0]);i&&Mm(t,n,i),s&&s.length>0&&cD(t,n,s.join(" "))}}function U1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function j1(){let t=$t();Fy(Re()[de],t)}var es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=B1;let t=e;return t})();function B1(){let t=$t();return FD(t,Re())}var $1=es,OD=class extends $1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ly(this._hostTNode,this._hostLView);if(RC(e)){let n=xh(e,this._hostLView),r=Ah(e),i=n[de].data[r+8];return new zs(i,n)}else return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=v0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-dn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=m0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,g0(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!ek(e),a;if(o)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}let u=o?e:new wu(Ws(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(In,null);O&&(s=O)}let p=Ws(u.componentType??{}),g=m0(this._lContainer,p?.id??null),_=g?.firstChild??null,E=u.create(d,i,_,s);return this.insertImpl(E.hostView,a,g0(this._hostTNode,g)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ak(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ut],d=new OD(u,u[$n],u[Ut]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return h1(o,i,s,r),e.attachToViewContainerRef(),j0(Em(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=v0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ym(this._lContainer,n);r&&(Ih(Em(this._lContainer),n),iD(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ym(this._lContainer,n);return r&&Ih(Em(this._lContainer),n)!=null?new to(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function v0(t){return t[Dh]}function Em(t){return t[Dh]||(t[Dh]=[])}function FD(t,e){let n,r=e[t.index];return Hr(r)?n=r:(n=ED(r,e,null,t),e[t.index]=n,nf(e,n)),q1(n,e,t,r),new OD(n,t,e)}function H1(t,e){let n=t[mt],r=n.createComment(""),i=bn(e,t),s=oD(n,i);return Oh(n,s,r,SO(n,i),!1),r}var q1=W1,z1=()=>!1;function G1(t,e,n){return z1(t,e,n)}function W1(t,e,n,r){if(t[Qs])return;let i;n.type&8?i=hr(r):i=H1(e,n),t[Qs]=i}var sy=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},oy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)nv(e,n).matches!==null&&this.queries[n].setDirty()}},ay=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=tF(e):this.predicate=e}},cy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},uy=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,K1(n,s)),this.matchTNodeWithReadOption(e,n,mh(n,e,s,!1,!1))}else r===no?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,mh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===hn||i===es||i===no&&n.type&4)this.addMatch(n.index,-2);else{let s=mh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function K1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Q1(t,e){return t.type&11?ja(t,e):t.type&4?ev(t,e):null}function Y1(t,e,n,r){return n===-1?Q1(e,t):n===-2?Z1(t,e,r):Xs(t,t[de],n,e)}function Z1(t,e,n){if(n===hn)return ja(e,t);if(n===no)return ev(e,t);if(n===es)return FD(e,t)}function LD(t,e,n,r){let i=e[Fr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let d=o[u];if(d<0)a.push(null);else{let p=s[d];a.push(Y1(e,p,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ly(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=LD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let d=s[a+1],p=e[-u];for(let g=dn;g<p.length;g++){let _=p[g];_[Ks]===_[Ut]&&ly(_[de],_,d,r)}if(p[Na]!==null){let g=p[Na];for(let _=0;_<g.length;_++){let E=g[_];ly(E[de],E,d,r)}}}}}return r}function J1(t,e){return t[Fr].queries[e].queryList}function X1(t,e,n){let r=new Wm((n&4)===4);return $O(t,e,r,r.destroy),(e[Fr]??=new oy).queries.push(new sy(r))-1}function eF(t,e,n,r){let i=Bt();if(i.firstCreatePass){let s=$t();nF(i,new ay(e,n,r),s.index),rF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return X1(i,Re(),n)}function tF(t){return t.split(",").map(e=>e.trim())}function nF(t,e,n){t.queries===null&&(t.queries=new cy),t.queries.track(new uy(e,n))}function rF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function nv(t,e){return t.queries.getByIndex(e)}function iF(t,e){let n=t[de],r=nv(n,e);return r.crossesNgTemplate?ly(n,t,e,[]):LD(n,t,r,e)}var w0=new Set;function Tu(t){w0.has(t)||(w0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function sF(t){return typeof t=="function"&&t[Pr]!==void 0}function Su(t,e){Tu("NgSignals");let n=mb(t),r=n[Pr];return e?.equal&&(r.equal=e.equal),n.set=i=>Yg(r,i),n.update=i=>yb(r,i),n.asReadonly=oF.bind(n),n}function oF(){let t=this[Pr];if(t.readonlyFn===void 0){let e=()=>this();e[Pr]=t,t.readonlyFn=e}return t.readonlyFn}function VD(t){return sF(t)&&typeof t.set=="function"}function aF(t){return Object.getPrototypeOf(t.prototype).constructor}function Hn(t){let e=aF(t.type),n=!0,r=[t];for(;e;){let i;if(Ki(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=lh(t.inputs),o.inputTransforms=lh(t.inputTransforms),o.declaredInputs=lh(t.declaredInputs),o.outputs=lh(t.outputs);let a=i.hostBindings;a&&hF(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&lF(t,u),d&&dF(t,d),cF(t,i),rP(t.outputs,i.outputs),Ki(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Hn&&(n=!1)}}e=Object.getPrototypeOf(e)}uF(r)}function cF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function uF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mu(i.hostAttrs,n=mu(n,i.hostAttrs))}}function lh(t){return t===Aa?{}:t===wn?[]:t}function lF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function hF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function rv(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Qi=class{},_u=class{};var dy=class extends Qi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vh(this);let s=Y0(e);this._bootstrapComponents=eD(s.bootstrap),this._r3Injector=UC(e,n,[{provide:Qi,useValue:this},{provide:ka,useValue:this.componentFactoryResolver},...r],Kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hy=class extends _u{constructor(e){super(),this.moduleType=e}create(e){return new dy(this.moduleType,e,[])}};var Uh=class extends Qi{constructor(e){super(),this.componentFactoryResolver=new Vh(this),this.instance=null;let n=new yu([...e.providers,{provide:Qi,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],e.parent||Sy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function iv(t,e,n=null){return new Uh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function UD(t){return pF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function fF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function pF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jD(t,e,n){return t[e]=n}function Yi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gF(t,e,n,r){let i=Yi(t,e,n);return Yi(t,e+1,r)||i}function mF(t){return(t.flags&32)===32}function yF(t,e,n,r,i,s,o,a,u){let d=e.consts,p=tf(e,t,4,o||null,a||null);wD(e,n,p,Sh(d,u)),Fy(e,p);let g=p.tView=Yy(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function vF(t,e,n,r,i,s,o,a,u,d){let p=n+Bn,g=e.firstCreatePass?yF(p,e,t,r,i,s,o,a,u):e.data[p];Cu(g,!1);let _=wF(e,t,g,n);ky()&&Ky(e,t,_,g),eo(_,t);let E=ED(_,t,_,g);return t[p]=E,nf(t,E),G1(E,g,t),Ay(g)&&gD(e,t,g),u!=null&&mD(t,g,d),g}function bt(t,e,n,r,i,s,o,a){let u=Re(),d=Bt(),p=Sh(d.consts,s);return vF(u,d,t,e,n,r,i,p,o,a),bt}var wF=_F;function _F(t,e,n,r){return Oy(!0),e[mt].createComment("")}var fu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fu||{}),IF=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Hs=class Hs{constructor(){this.ngZone=B(ke),this.scheduler=B(Pa),this.errorHandler=B(Lr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Hs.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Hs.PHASES=[fu.EarlyRead,fu.Write,fu.MixedReadWrite,fu.Read],Hs.\u0275prov=ee({token:Hs,providedIn:"root",factory:()=>new Hs});var _0=Hs;function Ba(t,e,n,r){let i=Re(),s=Zh();if(Yi(i,s,e)){let o=Bt(),a=Py();r1(a,i,t,e,n,r)}return Ba}function EF(t,e,n,r){return Yi(t,Zh(),n)?e+qh(n)+r:oo}function dh(t,e){return t<<17|e<<2}function ro(t){return t>>17&32767}function bF(t){return(t&2)==2}function CF(t,e){return t&131071|e<<17}function fy(t){return t|2}function Fa(t){return(t&131068)>>2}function bm(t,e){return t&-131069|e<<2}function DF(t){return(t&1)===1}function py(t){return t|1}function TF(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ro(o),u=Fa(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||bu(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let _=ro(t[a+1]);t[r+1]=dh(_,a),_!==0&&(t[_+1]=bm(t[_+1],r)),t[a+1]=CF(t[a+1],r)}else t[r+1]=dh(a,0),a!==0&&(t[a+1]=bm(t[a+1],r)),a=r;else t[r+1]=dh(u,0),a===0?a=r:t[u+1]=bm(t[u+1],r),u=r;d&&(t[r+1]=fy(t[r+1])),I0(t,p,r,!0),I0(t,p,r,!1),SF(e,p,t,r,s),o=dh(a,u),s?e.classBindings=o:e.styleBindings=o}function SF(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&bu(s,e)>=0&&(n[r+1]=py(n[r+1]))}function I0(t,e,n,r){let i=t[n+1],s=e===null,o=r?ro(i):Fa(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],d=t[o+1];AF(u,e)&&(a=!0,t[o+1]=r?py(d):fy(d)),o=r?ro(d):Fa(d)}a&&(t[n+1]=r?fy(i):py(i))}function AF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bu(t,e)>=0:!1}function He(t,e,n){let r=Re(),i=Zh();if(Yi(r,i,e)){let s=Bt(),o=Py();vD(s,o,r,t,e,r[mt],n,!1)}return He}function E0(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Zy(t,n,s[o],o,r)}function rf(t,e){return xF(t,e,null,!0),rf}function xF(t,e,n,r){let i=Re(),s=Bt(),o=_k(2);if(s.firstUpdatePass&&MF(s,t,o,r),e!==oo&&Yi(i,o,e)){let a=s.data[Va()];FF(s,a,i,i[mt],t,i[o+1]=LF(e,n),r,o)}}function RF(t,e){return e>=t.expandoStartIndex}function MF(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Va()],o=RF(t,n);VF(s,r)&&e===null&&!o&&(e=!1),e=NF(i,s,e,r),TF(i,s,e,n,o,r)}}function NF(t,e,n,r){let i=Ck(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cm(null,t,e,n,r),n=Iu(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Cm(i,t,e,n,r),s===null){let u=PF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Cm(null,t,e,u[1],r),u=Iu(u,e.attrs,r),kF(t,e,r,u))}else s=OF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function PF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fa(r)!==0)return t[ro(r)]}function kF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ro(i)]=r}function OF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Iu(r,o,n)}return Iu(r,e.attrs,n)}function Cm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Iu(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Iu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DP(t,o,n?!0:e[++s]))}return t===void 0?null:t}function FF(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=DF(d)?b0(u,e,n,i,Fa(d),o):void 0;if(!jh(p)){jh(s)||bF(d)&&(s=b0(u,null,n,i,a,o));let g=lC(Va(),n);kO(r,o,g,i,s)}}function b0(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=n[i+1];_===oo&&(_=g?wn:void 0);let E=g?pm(_,r):p===r?_:void 0;if(d&&!jh(E)&&(E=pm(u,r)),jh(E)&&(a=E,o))return a;let M=t[i+1];i=o?ro(M):Fa(M)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=pm(u,r))}return a}function jh(t){return t!==void 0}function LF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Kt(Du(t)))),t}function VF(t,e){return(t.flags&(e?8:16))!==0}function UF(t,e,n,r,i,s){let o=e.consts,a=Sh(o,i),u=tf(e,t,2,r,a);return wD(e,n,u,Sh(o,s)),u.attrs!==null&&ry(u,u.attrs,!1),u.mergedAttrs!==null&&ry(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function H(t,e,n,r){let i=Re(),s=Bt(),o=Bn+t,a=i[mt],u=s.firstCreatePass?UF(o,s,i,e,n,r):s.data[o],d=jF(s,i,u,a,e,t);i[o]=d;let p=Ay(u);return Cu(u,!0),uD(a,d,u),!mF(u)&&ky()&&Ky(s,i,d,u),lk()===0&&eo(d,i),dk(),p&&(gD(s,i,u),pD(s,u,i)),r!==null&&mD(i,u),H}function z(){let t=$t();wC()?yk():(t=t.parent,Cu(t,!1));let e=t;pk(e)&&gk(),hk();let n=Bt();return n.firstCreatePass&&(Fy(n,t),sC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Mk(e)&&E0(n,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Nk(e)&&E0(n,e,Re(),e.stylesWithoutHost,!1),z}function Gr(t,e,n,r){return H(t,e,n,r),z(),Gr}var jF=(t,e,n,r,i,s)=>(Oy(!0),tD(r,i,Sk()));function ao(){return Re()}var Bs=void 0;function BF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var $F=["en",[["a","p"],["AM","PM"],Bs],[["AM","PM"],Bs,Bs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bs,"{1} 'at' {0}",Bs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",BF],Dm={};function Cn(t){let e=HF(t),n=C0(e);if(n)return n;let r=e.split("-")[0];if(n=C0(r),n)return n;if(r==="en")return $F;throw new Q(701,!1)}function C0(t){return t in Dm||(Dm[t]=qs.ng&&qs.ng.common&&qs.ng.common.locales&&qs.ng.common.locales[t]),Dm[t]}var rt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(rt||{});function HF(t){return t.toLowerCase().replace(/_/g,"-")}var Bh="en-US";var qF=Bh;function zF(t){typeof t=="string"&&(qF=t.toLowerCase().replace(/_/g,"-"))}var GF=(t,e,n)=>{};function Ct(t,e,n,r){let i=Re(),s=Bt(),o=$t();return BD(s,i,i[mt],o,t,e,r),Ct}function WF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ch],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function BD(t,e,n,r,i,s,o){let a=Ay(r),d=t.firstCreatePass&&DD(t),p=e[jn],g=CD(e),_=!0;if(r.type&3||o){let O=bn(r,e),k=o?o(O):O,V=g.length,W=o?Z=>o(hr(Z[r.index])):r.index,G=null;if(!o&&a&&(G=WF(t,e,i,r.index)),G!==null){let Z=G.__ngLastListenerFn__||G;Z.__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,_=!1}else{s=T0(r,e,p,s),GF(O,i,s);let Z=n.listen(k,i,s);g.push(s,Z),d&&d.push(i,W,V,V+1)}}else s=T0(r,e,p,s);let E=r.outputs,M;if(_&&E!==null&&(M=E[i])){let O=M.length;if(O)for(let k=0;k<O;k+=2){let V=M[k],W=M[k+1],Ae=e[V][W].subscribe(s),X=g.length;g.push(s,Ae),d&&d.push(i,r.index,X,-(X+1))}}}function D0(t,e,n,r){let i=Te(null);try{return ar(6,e,n),n(r)!==!1}catch(s){return TD(t,s),!1}finally{ar(7,e,n),Te(i)}}function T0(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Zi(t.index,e):e;Xy(o,5);let a=D0(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=D0(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function tn(t=1){return Tk(t)}function $D(t,e,n,r){eF(t,e,n,r)}function HD(t){let e=Re(),n=Bt(),r=EC();Ry(r+1);let i=nv(n,r);if(t.dirty&&ok(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=iF(e,r);t.reset(s,Xk),t.notifyOnChanges()}return!0}return!1}function qD(){return J1(Re(),EC())}function KF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function qn(t){let e=vk();return hC(e,Bn+t)}function ue(t,e=""){let n=Re(),r=Bt(),i=t+Bn,s=r.firstCreatePass?tf(r,i,1,e,null):r.data[i],o=QF(r,n,s,e,t);n[i]=o,ky()&&Ky(r,n,o,s),Cu(s,!1)}var QF=(t,e,n,r,i)=>(Oy(!0),yO(e[mt],r));function Au(t){return sf("",t,""),Au}function sf(t,e,n){let r=Re(),i=EF(r,t,e,n);return i!==oo&&a1(r,Va(),i),sf}function ts(t,e,n){VD(e)&&(e=e());let r=Re(),i=Zh();if(Yi(r,i,e)){let s=Bt(),o=Py();vD(s,o,r,t,e,r[mt],n,!1)}return ts}function co(t,e){let n=VD(t);return n&&t.set(e),n}function ns(t,e){let n=Re(),r=Bt(),i=$t();return BD(r,n,n[mt],i,t,e),ns}function YF(t,e,n){let r=Bt();if(r.firstCreatePass){let i=Ki(t);gy(n,r.data,r.blueprint,i,!0),gy(e,r.data,r.blueprint,i,!1)}}function gy(t,e,n,r,i){if(t=Wt(t),Array.isArray(t))for(let s=0;s<t.length;s++)gy(t[s],e,n,r,i);else{let s=Bt(),o=Re(),a=$t(),u=Ra(t)?t:Wt(t.provide),d=nC(t),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Ra(t)||!t.multi){let E=new Js(d,i,J),M=Sm(u,e,i?p:p+_,g);M===-1?(Bm(Mh(a,o),s,u),Tm(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)):(n[M]=E,o[M]=E)}else{let E=Sm(u,e,p+_,g),M=Sm(u,e,p,p+_),O=E>=0&&n[E],k=M>=0&&n[M];if(i&&!k||!i&&!O){Bm(Mh(a,o),s,u);let V=XF(i?JF:ZF,n.length,i,r,d);!i&&k&&(n[M].providerFactory=V),Tm(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=zD(n[i?M:E],d,!i&&r);Tm(s,t,E>-1?E:M,V)}!i&&r&&k&&n[M].componentProviders++}}}function Tm(t,e,n,r){let i=Ra(e),s=GP(e);if(i||s){let u=(s?Wt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function zD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZF(t,e,n,r){return my(this.multi,[])}function JF(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Xs(n,n[de],this.providerFactory.index,r);s=a.slice(0,o),my(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],my(i,s);return s}function my(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function XF(t,e,n,r,i){let s=new Js(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,zD(s,i,r&&!n),s}function uo(t,e=[]){return n=>{n.providersResolver=(r,i)=>YF(r,i?i(t):t,e)}}var eL=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=X0(!1,r.type),s=i.length>0?iv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ee({token:e,providedIn:"environment",factory:()=>new e(fe(In))});let t=e;return t})();function nn(t){Tu("NgStandalone"),t.getStandaloneInjector=e=>e.get(eL).getOrCreateStandaloneInjector(t)}function GD(t,e,n,r){return tL(Re(),IC(),t,e,n,r)}function WD(t,e){let n=t[e];return n===oo?void 0:n}function tL(t,e,n,r,i,s){let o=e+n;return Yi(t,o,i)?jD(t,o+1,s?r.call(s,i):r(i)):WD(t,o+1)}function nL(t,e,n,r,i,s,o){let a=e+n;return gF(t,a,i,s)?jD(t,a+2,o?r.call(o,i,s):r(i,s)):WD(t,a+2)}function KD(t,e){let n=Bt(),r,i=t+Bn;n.firstCreatePass?(r=rL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Gs(r.type,!0)),o,a=Xt(J);try{let u=Rh(!1),d=s();return Rh(u),KF(n,Re(),i,d),d}finally{Xt(a)}}function rL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function QD(t,e,n,r){let i=t+Bn,s=Re(),o=hC(s,i);return iL(s,i)?nL(s,IC(),e,o.transform,n,r,o):o.transform(n,r)}function iL(t,e){return t[de].data[e].pure}var Ur=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},YD=new Ur("18.2.3");var of=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ZD=new K("");function lo(t){return!!t&&typeof t.then=="function"}function JD(t){return!!t&&typeof t.subscribe=="function"}var XD=new K(""),eT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=B(XD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(lo(o))r.push(o);else if(JD(o)){let a=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sv=new K("");function sL(){gb(()=>{throw new Q(600,!1)})}function oL(t){return t.isBoundToModule}var aL=10;function cL(t,e,n){try{let r=n();return lo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ho=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(Zk),this.afterRenderManager=B(IF),this.zonelessEnabled=B(tv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Et,this.afterTick=new Et,this.componentTypes=[],this.components=[],this.isStable=B(Ua).hasPendingTasks.pipe(ie(r=>!r)),this._injector=B(In)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Lh;if(!this._injector.get(eT).done){let E=!s&&Q0(r),M=!1;throw new Q(405,M)}let a;s?a=r:a=this._injector.get(ka).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=oL(a)?void 0:this._injector.get(Qi),d=i||a.selector,p=a.create(jt.NULL,[],d,u),g=p.location.nativeElement,_=p.injector.get(ZD,null);return _?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),yh(this.components,p),_?.unregisterApplication(g)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let r=Te(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Te(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Oa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<aL;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)uL(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Qh(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;yh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(sv,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>yh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uL(t,e,n,r){if(!n&&!Qh(t))return;xD(t,e,n&&!r?0:1)}var yy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ov=(()=>{let e=class e{compileModuleSync(r){return new hy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Y0(r),o=eD(s.declarations).reduce((a,u)=>{let d=Ws(u);return d&&a.push(new wu(d)),a},[]);return new yy(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lL=(()=>{let e=class e{constructor(){this.zone=B(ke),this.changeDetectionScheduler=B(Pa),this.applicationRef=B(ho)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dL=new K("",{factory:()=>!1});function tT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ke(we(j({},rT()),{scheduleInRootZone:n})),[{provide:ke,useFactory:t},{provide:xa,multi:!0,useFactory:()=>{let r=B(lL,{optional:!0});return()=>r.initialize()}},{provide:xa,multi:!0,useFactory:()=>{let r=B(hL);return()=>{r.initialize()}}},e===!0?{provide:PD,useValue:!0}:[],{provide:kD,useValue:n??jC}]}function nT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=tT({ngZoneFactory:()=>{let i=rT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Tu("NgZone_CoalesceEvent"),new ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return En([{provide:dL,useValue:!0},{provide:tv,useValue:!1},r])}function rT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hL=(()=>{let e=class e{constructor(){this.subscription=new Ze,this.initialized=!1,this.zone=B(ke),this.pendingTasks=B(Ua)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fL=(()=>{let e=class e{constructor(){this.appRef=B(ho),this.taskService=B(Ua),this.ngZone=B(ke),this.zonelessEnabled=B(tv),this.disableScheduling=B(PD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ze,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ph):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(kD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gm||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?o0:$C;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ph+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,o0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pL(){return typeof $localize<"u"&&$localize.locale||Bh}var af=new K("",{providedIn:"root",factory:()=>B(af,pe.Optional|pe.SkipSelf)||pL()});var iT=new K("");function hh(t){return!!t.platformInjector}function gL(t){let e=hh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ke);return n.run(()=>{hh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Lr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),hh(t)){let s=()=>e.destroy(),o=t.platformInjector.get(iT);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{yh(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return cL(r,n,()=>{let s=e.get(eT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(af,Bh);if(zF(o||Bh),hh(t)){let a=e.get(ho);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return mL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function mL(t,e){let n=t.injector.get(ho);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}var vh=null;function yL(t=[],e){return jt.create({name:e,providers:[{provide:Gh,useValue:"platform"},{provide:iT,useValue:new Set([()=>vh=null])},...t]})}function vL(t=[]){if(vh)return vh;let e=yL(t);return vh=e,sL(),wL(e),e}function wL(t){t.get($y,null)?.forEach(n=>n())}var rs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_L;let t=e;return t})();function _L(t){return IL($t(),Re(),(t&16)===16)}function IL(t,e,n){if(Kh(t)&&!n){let r=Zi(t.index,e);return new to(r,r)}else if(t.type&175){let r=e[dr];return new to(r,e)}return null}var vy=class{constructor(){}supports(e){return UD(e)}create(e){return new wy(e)}},EL=(t,e)=>e,wy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||EL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<S0(r,i,s)?n:r,a=S0(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let E=_<s.length?s[_]:s[_]=0,M=E+_;p<=M&&M<d&&(s[_]=E+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!UD(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,fF(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new _y(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $h),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $h),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_y=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Iy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$h=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Iy,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function S0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function A0(){return new av([new vy])}var av=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||A0()),deps:[[e,new U0,new ct]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new Q(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:A0});let t=e;return t})();function sT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vL(r),s=[tT({}),{provide:Pa,useExisting:fL},...n||[]],o=new Uh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return gL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var oT=new K("");function Wr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function xu(t,e){Tu("NgSignals");let n=hb(t);return e?.equal&&(n[Pr].equal=e.equal),n}function Kr(t){let e=Te(null);try{return t()}finally{Te(e)}}var fT=null;function Zr(){return fT}function pT(t){fT??=t}var mf=class{};var pn=new K(""),gT=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>B(bL),providedIn:"platform"});let t=e;return t})();var bL=(()=>{let e=class e extends gT{constructor(){super(),this._doc=B(pn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(r){let i=Zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function mT(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function aT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function fo(t){return t&&t[0]!=="?"?"?"+t:t}var $a=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>B(yT),providedIn:"root"});let t=e;return t})(),CL=new K(""),yT=(()=>{let e=class e extends $a{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(pn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return mT(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+fo(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+fo(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+fo(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(fe(gT),fe(CL,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ru=(()=>{let e=class e{constructor(r){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=SL(aT(cT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+fo(i))}normalize(r){return e.stripTrailingSlash(TL(this._basePath,cT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fo(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fo(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=fo,e.joinWithSlash=mT,e.stripTrailingSlash=aT,e.\u0275fac=function(i){return new(i||e)(fe($a))},e.\u0275prov=ee({token:e,factory:()=>DL(),providedIn:"root"});let t=e;return t})();function DL(){return new Ru(fe($a))}function TL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cT(t){return t.replace(/\/index.html$/,"")}function SL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Qt||{}),je=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(je||{}),fn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(fn||{}),is={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function AL(t){return Cn(t)[rt.LocaleId]}function xL(t,e,n){let r=Cn(t),i=[r[rt.DayPeriodsFormat],r[rt.DayPeriodsStandalone]],s=Tn(i,e);return Tn(s,n)}function RL(t,e,n){let r=Cn(t),i=[r[rt.DaysFormat],r[rt.DaysStandalone]],s=Tn(i,e);return Tn(s,n)}function ML(t,e,n){let r=Cn(t),i=[r[rt.MonthsFormat],r[rt.MonthsStandalone]],s=Tn(i,e);return Tn(s,n)}function NL(t,e){let r=Cn(t)[rt.Eras];return Tn(r,e)}function cf(t,e){let n=Cn(t);return Tn(n[rt.DateFormat],e)}function uf(t,e){let n=Cn(t);return Tn(n[rt.TimeFormat],e)}function lf(t,e){let r=Cn(t)[rt.DateTimeFormat];return Tn(r,e)}function wf(t,e){let n=Cn(t),r=n[rt.NumberSymbols][e];if(typeof r>"u"){if(e===is.CurrencyDecimal)return n[rt.NumberSymbols][is.Decimal];if(e===is.CurrencyGroup)return n[rt.NumberSymbols][is.Group]}return r}function vT(t){if(!t[rt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[rt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PL(t){let e=Cn(t);return vT(e),(e[rt.ExtraData][2]||[]).map(r=>typeof r=="string"?uv(r):[uv(r[0]),uv(r[1])])}function kL(t,e,n){let r=Cn(t);vT(r);let i=[r[rt.ExtraData][0],r[rt.ExtraData][1]],s=Tn(i,e)||[];return Tn(s,n)||[]}function Tn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function uv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var OL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,df={},FL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Yr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Yr||{}),Ne=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ne||{}),Me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Me||{});function LL(t,e,n,r){let i=GL(t);e=Qr(n,e)||e;let o=[],a;for(;e;)if(a=FL.exec(e),a){o=o.concat(a.slice(1));let p=o.pop();if(!p)break;e=p}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=_T(r,u),i=zL(i,r,!0));let d="";return o.forEach(p=>{let g=HL(p);d+=g?g(i,n,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function yf(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Qr(t,e){let n=AL(t);if(df[n]??={},df[n][e])return df[n][e];let r="";switch(e){case"shortDate":r=cf(t,fn.Short);break;case"mediumDate":r=cf(t,fn.Medium);break;case"longDate":r=cf(t,fn.Long);break;case"fullDate":r=cf(t,fn.Full);break;case"shortTime":r=uf(t,fn.Short);break;case"mediumTime":r=uf(t,fn.Medium);break;case"longTime":r=uf(t,fn.Long);break;case"fullTime":r=uf(t,fn.Full);break;case"short":let i=Qr(t,"shortTime"),s=Qr(t,"shortDate");r=hf(lf(t,fn.Short),[i,s]);break;case"medium":let o=Qr(t,"mediumTime"),a=Qr(t,"mediumDate");r=hf(lf(t,fn.Medium),[o,a]);break;case"long":let u=Qr(t,"longTime"),d=Qr(t,"longDate");r=hf(lf(t,fn.Long),[u,d]);break;case"full":let p=Qr(t,"fullTime"),g=Qr(t,"fullDate");r=hf(lf(t,fn.Full),[p,g]);break}return r&&(df[n][e]=r),r}function hf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function zn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function VL(t,e){return zn(t,3).substring(0,e)}function ut(t,e,n=0,r=!1,i=!1){return function(s,o){let a=UL(t,s);if((n>0||a>-n)&&(a+=n),t===Ne.Hours)a===0&&n===-12&&(a=12);else if(t===Ne.FractionalSeconds)return VL(a,e);let u=wf(o,is.MinusSign);return zn(a,e,u,r,i)}}function UL(t,e){switch(t){case Ne.FullYear:return e.getFullYear();case Ne.Month:return e.getMonth();case Ne.Date:return e.getDate();case Ne.Hours:return e.getHours();case Ne.Minutes:return e.getMinutes();case Ne.Seconds:return e.getSeconds();case Ne.FractionalSeconds:return e.getMilliseconds();case Ne.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function $e(t,e,n=Qt.Format,r=!1){return function(i,s){return jL(i,s,t,e,n,r)}}function jL(t,e,n,r,i,s){switch(n){case Me.Months:return ML(e,i,r)[t.getMonth()];case Me.Days:return RL(e,i,r)[t.getDay()];case Me.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let d=PL(e),p=kL(e,i,r),g=d.findIndex(_=>{if(Array.isArray(_)){let[E,M]=_,O=o>=E.hours&&a>=E.minutes,k=o<M.hours||o===M.hours&&a<M.minutes;if(E.hours<M.hours){if(O&&k)return!0}else if(O||k)return!0}else if(_.hours===o&&_.minutes===a)return!0;return!1});if(g!==-1)return p[g]}return xL(e,i,r)[o<12?0:1];case Me.Eras:return NL(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function ff(t){return function(e,n,r){let i=-1*r,s=wf(n,is.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Yr.Short:return(i>=0?"+":"")+zn(o,2,s)+zn(Math.abs(i%60),2,s);case Yr.ShortGMT:return"GMT"+(i>=0?"+":"")+zn(o,1,s);case Yr.Long:return"GMT"+(i>=0?"+":"")+zn(o,2,s)+":"+zn(Math.abs(i%60),2,s);case Yr.Extended:return r===0?"Z":(i>=0?"+":"")+zn(o,2,s)+":"+zn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var BL=0,gf=4;function $L(t){let e=yf(t,BL,1).getDay();return yf(t,0,1+(e<=gf?gf:gf+7)-e)}function wT(t){let e=t.getDay(),n=e===0?-3:gf-e;return yf(t.getFullYear(),t.getMonth(),t.getDate()+n)}function lv(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=wT(n),o=$L(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return zn(i,t,wf(r,is.MinusSign))}}function pf(t,e=!1){return function(n,r){let s=wT(n).getFullYear();return zn(s,t,wf(r,is.MinusSign),e)}}var dv={};function HL(t){if(dv[t])return dv[t];let e;switch(t){case"G":case"GG":case"GGG":e=$e(Me.Eras,je.Abbreviated);break;case"GGGG":e=$e(Me.Eras,je.Wide);break;case"GGGGG":e=$e(Me.Eras,je.Narrow);break;case"y":e=ut(Ne.FullYear,1,0,!1,!0);break;case"yy":e=ut(Ne.FullYear,2,0,!0,!0);break;case"yyy":e=ut(Ne.FullYear,3,0,!1,!0);break;case"yyyy":e=ut(Ne.FullYear,4,0,!1,!0);break;case"Y":e=pf(1);break;case"YY":e=pf(2,!0);break;case"YYY":e=pf(3);break;case"YYYY":e=pf(4);break;case"M":case"L":e=ut(Ne.Month,1,1);break;case"MM":case"LL":e=ut(Ne.Month,2,1);break;case"MMM":e=$e(Me.Months,je.Abbreviated);break;case"MMMM":e=$e(Me.Months,je.Wide);break;case"MMMMM":e=$e(Me.Months,je.Narrow);break;case"LLL":e=$e(Me.Months,je.Abbreviated,Qt.Standalone);break;case"LLLL":e=$e(Me.Months,je.Wide,Qt.Standalone);break;case"LLLLL":e=$e(Me.Months,je.Narrow,Qt.Standalone);break;case"w":e=lv(1);break;case"ww":e=lv(2);break;case"W":e=lv(1,!0);break;case"d":e=ut(Ne.Date,1);break;case"dd":e=ut(Ne.Date,2);break;case"c":case"cc":e=ut(Ne.Day,1);break;case"ccc":e=$e(Me.Days,je.Abbreviated,Qt.Standalone);break;case"cccc":e=$e(Me.Days,je.Wide,Qt.Standalone);break;case"ccccc":e=$e(Me.Days,je.Narrow,Qt.Standalone);break;case"cccccc":e=$e(Me.Days,je.Short,Qt.Standalone);break;case"E":case"EE":case"EEE":e=$e(Me.Days,je.Abbreviated);break;case"EEEE":e=$e(Me.Days,je.Wide);break;case"EEEEE":e=$e(Me.Days,je.Narrow);break;case"EEEEEE":e=$e(Me.Days,je.Short);break;case"a":case"aa":case"aaa":e=$e(Me.DayPeriods,je.Abbreviated);break;case"aaaa":e=$e(Me.DayPeriods,je.Wide);break;case"aaaaa":e=$e(Me.DayPeriods,je.Narrow);break;case"b":case"bb":case"bbb":e=$e(Me.DayPeriods,je.Abbreviated,Qt.Standalone,!0);break;case"bbbb":e=$e(Me.DayPeriods,je.Wide,Qt.Standalone,!0);break;case"bbbbb":e=$e(Me.DayPeriods,je.Narrow,Qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(Me.DayPeriods,je.Abbreviated,Qt.Format,!0);break;case"BBBB":e=$e(Me.DayPeriods,je.Wide,Qt.Format,!0);break;case"BBBBB":e=$e(Me.DayPeriods,je.Narrow,Qt.Format,!0);break;case"h":e=ut(Ne.Hours,1,-12);break;case"hh":e=ut(Ne.Hours,2,-12);break;case"H":e=ut(Ne.Hours,1);break;case"HH":e=ut(Ne.Hours,2);break;case"m":e=ut(Ne.Minutes,1);break;case"mm":e=ut(Ne.Minutes,2);break;case"s":e=ut(Ne.Seconds,1);break;case"ss":e=ut(Ne.Seconds,2);break;case"S":e=ut(Ne.FractionalSeconds,1);break;case"SS":e=ut(Ne.FractionalSeconds,2);break;case"SSS":e=ut(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ff(Yr.Short);break;case"ZZZZZ":e=ff(Yr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ff(Yr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ff(Yr.Long);break;default:return null}return dv[t]=e,e}function _T(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function qL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function zL(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=_T(e,i);return qL(t,r*(s-i))}function GL(t){if(uT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return yf(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(OL))return WL(r)}let e=new Date(t);if(!uT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function WL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,d),e}function uT(t){return t instanceof Date&&!isNaN(t.valueOf())}function IT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var hv=/\s+/,lT=[],ET=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=lT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(hv):lT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(hv):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(hv).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(J(hn),J(zr))},e.\u0275dir=nt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var fv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bT=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new fv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),dT(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);dT(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(es),J(no),J(av))},e.\u0275dir=nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function dT(t,e){t.context.$implicit=e.item}var Ha=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new pv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){hT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){hT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(es),J(no))},e.\u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),pv=class{constructor(){this.$implicit=null,this.ngIf=null}};function hT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Kt(e)}'.`)}function KL(t,e){return new Q(2100,!1)}var QL="mediumDate",YL=new K(""),ZL=new K(""),CT=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??QL,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return LL(r,a,o||this.locale,u)}catch(a){throw KL(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(J(af,16),J(YL,24),J(ZL,24))},e.\u0275pipe=G0({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Jr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=so({type:e}),e.\u0275inj=io({});let t=e;return t})(),DT="browser",JL="server";function gv(t){return t===JL}var vf=class{};var vv=class extends mf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wv=class t extends vv{static makeCurrent(){pT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=XL();return n==null?null:eV(n)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return IT(document.cookie,e)}},Mu=null;function XL(){return Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null}function eV(t){return new URL(t,document.baseURI).pathname}var tV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),If=new K(""),xT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(fe(If),fe(ke))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Nu=class{constructor(e){this._doc=e}},mv="ng-app-id",RT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gv(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${mv}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(mv),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(mv,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(fe(pn),fe(By),fe(Hy,8),fe(Xi))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),yv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iv=/%COMP%/g,MT="%COMP%",nV=`_nghost-${MT}`,rV=`_ngcontent-${MT}`,iV=!0,sV=new K("",{providedIn:"root",factory:()=>iV});function oV(t){return rV.replace(Iv,t)}function aV(t){return nV.replace(Iv,t)}function NT(t,e){return e.map(n=>n.replace(Iv,t))}var TT=(()=>{let e=class e{constructor(r,i,s,o,a,u,d,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=gv(u),this.defaultRenderer=new Pu(r,a,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ur.ShadowDom&&(i=we(j({},i),{encapsulation:ur.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Ef?s.applyToHost(r):s instanceof ku&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case ur.Emulated:o=new Ef(d,p,i,this.appId,g,a,u,_);break;case ur.ShadowDom:return new _v(d,p,r,i,a,u,this.nonce,_);default:o=new ku(d,p,i,g,a,u,_);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(fe(xT),fe(RT),fe(By),fe(sV),fe(pn),fe(Xi),fe(ke),fe(Hy))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Pu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ST(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ST(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=yv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=yv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vr.DashCase|Vr.Important)?e.style.setProperty(n,r,i&Vr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Zr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ST(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _v=class extends Pu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=NT(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ku=class extends Pu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?NT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ef=class extends ku{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=oV(d),this.hostAttr=aV(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},cV=(()=>{let e=class e extends Nu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(fe(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),uV=(()=>{let e=class e extends Nu{constructor(r){super(r),this.delegate=B(oT,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(fe(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),AT=["alt","control","meta","shift"],lV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hV=(()=>{let e=class e extends Nu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),AT.forEach(p=>{let g=i.indexOf(p);g>-1&&(i.splice(g,1),a+=p+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=s,d.fullKey=a,d}static matchEventFullKeyCode(r,i){let s=lV[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),AT.forEach(a=>{if(a!==s){let u=dV[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(fe(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function PT(t,e){return sT(j({rootComponent:t},fV(e)))}function fV(t){return{appProviders:[...vV,...t?.providers??[]],platformProviders:yV}}function pV(){wv.makeCurrent()}function gV(){return new Lr}function mV(){return QC(document),document}var yV=[{provide:Xi,useValue:DT},{provide:$y,useValue:pV,multi:!0},{provide:pn,useFactory:mV,deps:[]}];var vV=[{provide:Gh,useValue:"root"},{provide:Lr,useFactory:gV,deps:[]},{provide:If,useClass:cV,multi:!0,deps:[pn,ke,Xi]},{provide:If,useClass:hV,multi:!0,deps:[pn]},{provide:If,useClass:uV,multi:!0},TT,RT,xT,{provide:Oa,useExisting:TT},{provide:vf,useClass:tV,deps:[]},[]];var kT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(fe(pn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he="primary",Yu=Symbol("RouteTitle"),Tv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qa(t){return new Tv(t)}function _V(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function IV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fr(t[n],e[n]))return!1;return!0}function fr(t,e){let n=t?Sv(t):void 0,r=e?Sv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!$T(t[i],e[i]))return!1;return!0}function Sv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $T(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function HT(t){return t.length>0?t[t.length-1]:null}function ss(t){return um(t)?t:lo(t)?Ge(Promise.resolve(t)):oe(t)}var EV={exact:zT,subset:GT},qT={exact:bV,subset:CV,ignored:()=>!0};function OT(t,e,n){return EV[n.paths](t.root,e.root,n.matrixParams)&&qT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bV(t,e){return fr(t,e)}function zT(t,e,n){if(!go(t.segments,e.segments)||!Df(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!zT(t.children[r],e.children[r],n))return!1;return!0}function CV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$T(t[n],e[n]))}function GT(t,e,n){return WT(t,e,e.segments,n)}function WT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!go(i,n)||e.hasChildren()||!Df(i,n,r))}else if(t.segments.length===n.length){if(!go(t.segments,n)||!Df(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!GT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!go(t.segments,i)||!Df(t.segments,i,r)||!t.children[he]?!1:WT(t.children[he],e,s,r)}}function Df(t,e,n){return e.every((r,i)=>qT[n](t[i].parameters,r.parameters))}var ei=class{constructor(e=new Oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){return SV.serialize(this)}},Oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tf(this)}},po=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qa(this.parameters),this._parameterMap}toString(){return QT(this)}};function DV(t,e){return go(t,e)&&t.every((n,r)=>fr(n.parameters,e[r].parameters))}function go(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function TV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===he&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==he&&(n=n.concat(e(i,r)))}),n}var Xv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>new Bu,providedIn:"root"});let t=e;return t})(),Bu=class{parse(e){let n=new xv(e);return new ei(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ou(e.root,!0)}`,r=RV(e.queryParams),i=typeof e.fragment=="string"?`#${AV(e.fragment)}`:"";return`${n}${r}${i}`}},SV=new Bu;function Tf(t){return t.segments.map(e=>QT(e)).join("/")}function Ou(t,e){if(!t.hasChildren())return Tf(t);if(e){let n=t.children[he]?Ou(t.children[he],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${Ou(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=TV(t,(r,i)=>i===he?[Ou(t.children[he],!1)]:[`${i}:${Ou(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[he]!=null?`${Tf(t)}/${n[0]}`:`${Tf(t)}/(${n.join("//")})`}}function KT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(t){return KT(t).replace(/%3B/gi,";")}function AV(t){return encodeURI(t)}function Av(t){return KT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sf(t){return decodeURIComponent(t)}function FT(t){return Sf(t.replace(/\+/g,"%20"))}function QT(t){return`${Av(t.path)}${xV(t.parameters)}`}function xV(t){return Object.entries(t).map(([e,n])=>`;${Av(e)}=${Av(n)}`).join("")}function RV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bf(n)}=${bf(i)}`).join("&"):`${bf(n)}=${bf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var MV=/^[^\/()?;#]+/;function Ev(t){let e=t.match(MV);return e?e[0]:""}var NV=/^[^\/()?;=#]+/;function PV(t){let e=t.match(NV);return e?e[0]:""}var kV=/^[^=?&#]+/;function OV(t){let e=t.match(kV);return e?e[0]:""}var FV=/^[^&#]+/;function LV(t){let e=t.match(FV);return e?e[0]:""}var xv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new Oe(e,n)),r}parseSegment(){let e=Ev(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new po(Sf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=PV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ev(this.remaining);i&&(r=i,this.capture(r))}e[Sf(n)]=Sf(r)}parseQueryParam(e){let n=OV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=LV(this.remaining);o&&(r=o,this.capture(r))}let i=FT(n),s=FT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ev(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[he]:new Oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function YT(t){return t.segments.length>0?new Oe([],{[he]:t}):t}function ZT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ZT(i);if(r===he&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Oe(t.segments,e);return VV(n)}function VV(t){if(t.numberOfChildren===1&&t.children[he]){let e=t.children[he];return new Oe(t.segments.concat(e.segments),e.children)}return t}function mo(t){return t instanceof ei}function UV(t,e,n=null,r=null){let i=JT(t);return XT(i,e,n,r)}function JT(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new Oe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=YT(r);return e??i}function XT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bv(i,i,i,n,r);let s=jV(e);if(s.toRoot())return bv(i,i,new Oe([],{}),n,r);let o=BV(s,i,t),a=o.processChildren?Vu(o.segmentGroup,o.index,s.commands):tS(o.segmentGroup,o.index,s.commands);return bv(i,o.segmentGroup,a,n,r)}function Af(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $u(t){return typeof t=="object"&&t!=null&&t.outlets}function bv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=eS(t,e,n);let a=YT(ZT(o));return new ei(a,s,i)}function eS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=eS(s,e,n)}),new Oe(t.segments,r)}var xf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Af(r[0]))throw new Q(4003,!1);let i=r.find($u);if(i&&i!==HT(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xf(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new xf(n,e,r)}var Ga=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function BV(t,e,n){if(t.isAbsolute)return new Ga(e,!0,0);if(!n)return new Ga(e,!1,NaN);if(n.parent===null)return new Ga(n,!0,0);let r=Af(t.commands[0])?0:1,i=n.segments.length-1+r;return $V(n,i,t.numberOfDoubleDots)}function $V(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Ga(r,!1,i-s)}function HV(t){return $u(t[0])?t[0].outlets:{[he]:t}}function tS(t,e,n){if(t??=new Oe([],{}),t.segments.length===0&&t.hasChildren())return Vu(t,e,n);let r=qV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Oe(t.segments.slice(0,r.pathIndex),{});return s.children[he]=new Oe(t.segments.slice(r.pathIndex),t.children),Vu(s,0,i)}else return r.match&&i.length===0?new Oe(t.segments,{}):r.match&&!t.hasChildren()?Rv(t,e,n):r.match?Vu(t,0,i):Rv(t,e,n)}function Vu(t,e,n){if(n.length===0)return new Oe(t.segments,{});{let r=HV(n),i={};if(Object.keys(r).some(s=>s!==he)&&t.children[he]&&t.numberOfChildren===1&&t.children[he].segments.length===0){let s=Vu(t.children[he],e,n);return new Oe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=tS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Oe(t.segments,i)}}function qV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if($u(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!VT(u,d,o))return s;r+=2}else{if(!VT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if($u(s)){let u=zV(s.outlets);return new Oe(r,u)}if(i===0&&Af(n[0])){let u=t.segments[e];r.push(new po(u.path,LT(n[0]))),i++;continue}let o=$u(s)?s.outlets[he]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Af(a)?(r.push(new po(o,LT(a))),i+=2):(r.push(new po(o,{})),i++)}return new Oe(r,{})}function zV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Rv(new Oe([],{}),0,r))}),e}function LT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VT(t,e,n){return t==n.path&&fr(e,n.parameters)}var Uu="imperative",Pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pt||{}),Sn=class{constructor(e,n){this.id=e,this.url=n}},Hu=class extends Sn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ti=class extends Sn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(mn||{}),Mv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Mv||{}),Xr=class extends Sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yo=class extends Sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pt.NavigationSkipped}},qu=class extends Sn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rf=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nv=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pv=class extends Sn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kv=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ov=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fv=class{constructor(e){this.route=e,this.type=Pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lv=class{constructor(e){this.route=e,this.type=Pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vv=class{constructor(e){this.snapshot=e,this.type=Pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uv=class{constructor(e){this.snapshot=e,this.type=Pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jv=class{constructor(e){this.snapshot=e,this.type=Pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bv=class{constructor(e){this.snapshot=e,this.type=Pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zu=class{},Ya=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function GV(t,e){return t.providers&&!t._injector&&(t._injector=iv(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Gn(t){return t.outlet||he}function WV(t,e){let n=t.filter(r=>Gn(r)===e);return n.push(...t.filter(r=>Gn(r)!==e)),n}function Zu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $v=class{get injector(){return Zu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Vf(this.rootInjector),this.attachRef=null}},Vf=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new $v(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(fe(In))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qv(e,this._root).map(n=>n.value)}};function Hv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hv(t,n);if(r)return r}return null}function qv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qv(t,n);if(r.length)return r.unshift(e),r}return[]}var gn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function za(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nf=class extends Mf{constructor(e,n){super(e),this.snapshot=n,ew(this,e)}toString(){return this.snapshot.toString()}};function nS(t){let e=KV(t),n=new Rt([new po("",{})]),r=new Rt({}),i=new Rt({}),s=new Rt({}),o=new Rt(""),a=new vo(n,r,s,o,i,he,t,e.root);return a.snapshot=e.root,new Nf(new gn(a,[]),e)}function KV(t){let e={},n={},r={},i="",s=new Wa([],e,r,i,n,he,t,null,{});return new kf("",new gn(s,[]))}var vo=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(d=>d[Yu]))??oe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Qa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Qa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&iS(i)&&(r.resolve[Yu]=i.title),r}var Wa=class{get title(){return this.data?.[Yu]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kf=class extends Mf{constructor(e,n){super(n),this.url=e,ew(this,n)}toString(){return rS(this._root)}};function ew(t,e){e.value._routerState=t,e.children.forEach(n=>ew(t,n))}function rS(t){let e=t.children.length>0?` { ${t.children.map(rS).join(", ")} } `:"";return`${t.value}${e}`}function Cv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fr(e.params,n.params)||t.paramsSubject.next(n.params),IV(e.url,n.url)||t.urlSubject.next(n.url),fr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zv(t,e){let n=fr(t.params,e.params)&&DV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zv(t.parent,e.parent))}function iS(t){return typeof t.title=="string"||t.title===null}var tw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=B(Vf),this.location=B(es),this.changeDetector=B(rs),this.inputBinder=B(nw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new Gv(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qr]});let t=e;return t})(),Gv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vo?this.route:e===Vf?this.childContexts:this.parent.get(e,n)}},nw=new K("");function QV(t,e,n){let r=Gu(t,e._root,n?n._root:void 0);return new Nf(r,e)}function Gu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=YV(t,e,n);return new gn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Gu(t,a)),o}}let r=ZV(e.value),i=e.children.map(s=>Gu(t,s));return new gn(r,i)}}function YV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gu(t,r,i);return Gu(t,r)})}function ZV(t){return new vo(new Rt(t.url),new Rt(t.params),new Rt(t.queryParams),new Rt(t.fragment),new Rt(t.data),t.outlet,t.component,t)}var Wu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},sS="ngNavigationCancelingError";function Of(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oS(!1,mn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function oS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sS]=!0,n.cancellationCode=e,n}function JV(t){return aS(t)&&mo(t.url)}function aS(t){return!!t&&t[sS]}var XV=(t,e,n,r)=>ie(i=>(new Wv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=za(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=za(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=za(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=za(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Bv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Uv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Cv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Cv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ff=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ka=class{constructor(e,n){this.component=e,this.route=n}};function e2(t,e,n){let r=t._root,i=e?e._root:null;return Fu(r,i,n,[r.value])}function t2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ja(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!N0(t)?t:e.get(t):r}function Fu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=za(e);return t.children.forEach(o=>{n2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ju(a,n.getContext(o),i)),i}function n2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=r2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ff(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Fu(t,e,a?a.children:null,r,i):Fu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ka(a.outlet.component,o))}else o&&ju(e,a,i),i.canActivateChecks.push(new Ff(r)),s.component?Fu(t,null,a?a.children:null,r,i):Fu(t,null,n,r,i);return i}function r2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!go(t.url,e.url);case"pathParamsOrQueryParamsChange":return!go(t.url,e.url)||!fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zv(t,e)||!fr(t.queryParams,e.queryParams);case"paramsChange":default:return!zv(t,e)}}function ju(t,e,n){let r=za(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ju(o,e.children.getContext(s),n):ju(o,null,n):ju(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ka(e.outlet.component,i)):n.canDeactivateChecks.push(new Ka(null,i)):n.canDeactivateChecks.push(new Ka(null,i))}function Ju(t){return typeof t=="function"}function i2(t){return typeof t=="boolean"}function s2(t){return t&&Ju(t.canLoad)}function o2(t){return t&&Ju(t.canActivate)}function a2(t){return t&&Ju(t.canActivateChild)}function c2(t){return t&&Ju(t.canDeactivate)}function u2(t){return t&&Ju(t.canMatch)}function cS(t){return t instanceof kr||t?.name==="EmptyError"}var Cf=Symbol("INITIAL_VALUE");function Za(){return Ln(t=>rh(t.map(e=>e.pipe(Or(1),ah(Cf)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Cf)return Cf;if(n===!1||l2(n))return n}return!0}),vn(e=>e!==Cf),Or(1)))}function l2(t){return mo(t)||t instanceof Wu}function d2(t,e){return pt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?oe(we(j({},n),{guardsResult:!0})):h2(o,r,i,t).pipe(pt(a=>a&&i2(a)?f2(r,s,t,e):oe(a)),ie(a=>we(j({},n),{guardsResult:a})))})}function h2(t,e,n,r){return Ge(t).pipe(pt(i=>v2(i.component,i.route,n,e,r)),or(i=>i!==!0,!0))}function f2(t,e,n,r){return Ge(e).pipe(Ia(i=>_a(g2(i.route.parent,r),p2(i.route,r),y2(t,i.path,n),m2(t,i.route,n))),or(i=>i!==!0,!0))}function p2(t,e){return t!==null&&e&&e(new jv(t)),oe(!0)}function g2(t,e){return t!==null&&e&&e(new Vv(t)),oe(!0)}function m2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(s=>ih(()=>{let o=Zu(e)??n,a=Ja(s,o),u=o2(a)?a.canActivate(e,t):Br(o,()=>a(e,t));return ss(u).pipe(or())}));return oe(i).pipe(Za())}function y2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>t2(o)).filter(o=>o!==null).map(o=>ih(()=>{let a=o.guards.map(u=>{let d=Zu(o.node)??n,p=Ja(u,d),g=a2(p)?p.canActivateChild(r,t):Br(d,()=>p(r,t));return ss(g).pipe(or())});return oe(a).pipe(Za())}));return oe(s).pipe(Za())}function v2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return oe(!0);let o=s.map(a=>{let u=Zu(e)??i,d=Ja(a,u),p=c2(d)?d.canDeactivate(t,e,n,r):Br(u,()=>d(t,e,n,r));return ss(p).pipe(or())});return oe(o).pipe(Za())}function w2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return oe(!0);let s=i.map(o=>{let a=Ja(o,t),u=s2(a)?a.canLoad(e,n):Br(t,()=>a(e,n));return ss(u)});return oe(s).pipe(Za(),uS(r))}function uS(t){return Vd(gt(e=>{if(typeof e!="boolean")throw Of(t,e)}),ie(e=>e===!0))}function _2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return oe(!0);let s=i.map(o=>{let a=Ja(o,t),u=u2(a)?a.canMatch(e,n):Br(t,()=>a(e,n));return ss(u)});return oe(s).pipe(Za(),uS(r))}var Ku=class{constructor(e){this.segmentGroup=e||null}},Qu=class extends Error{constructor(e){super(),this.urlTree=e}};function qa(t){return va(new Ku(t))}function I2(t){return va(new Q(4e3,!1))}function E2(t){return va(oS(!1,mn.GuardRejected))}var Kv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return oe(r);if(i.numberOfChildren>1||!i.children[he])return I2(`${e.redirectTo}`);i=i.children[he]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:E,data:M,title:O}=i,k=Br(s,()=>a({params:E,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(k instanceof ei)throw new Qu(k);n=k}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Qu(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ei(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b2(t,e,n,r,i){let s=lS(t,e,n);return s.matched?(r=GV(e,r),_2(r,e,n,i).pipe(ie(o=>o===!0?s:j({},Qv)))):oe(s)}function lS(t,e,n){if(e.path==="**")return C2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Qv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_V)(n,t,e);if(!i)return j({},Qv);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function C2(t){return{matched:!0,parameters:t.length>0?HT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function UT(t,e,n,r){return n.length>0&&S2(t,n,r)?{segmentGroup:new Oe(e,T2(r,new Oe(n,t.children))),slicedSegments:[]}:n.length===0&&A2(t,n,r)?{segmentGroup:new Oe(t.segments,D2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Oe(t.segments,t.children),slicedSegments:n}}function D2(t,e,n,r){let i={};for(let s of n)if(Uf(t,e,s)&&!r[Gn(s)]){let o=new Oe([],{});i[Gn(s)]=o}return j(j({},r),i)}function T2(t,e){let n={};n[he]=e;for(let r of t)if(r.path===""&&Gn(r)!==he){let i=new Oe([],{});n[Gn(r)]=i}return n}function S2(t,e,n){return n.some(r=>Uf(t,e,r)&&Gn(r)!==he)}function A2(t,e,n){return n.some(r=>Uf(t,e,r))}function Uf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function x2(t,e,n){return e.length===0&&!t.children[n]}var Yv=class{};function R2(t,e,n,r,i,s,o="emptyOnly"){return new Zv(t,e,n,r,i,o,s).recognize()}var M2=31,Zv=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Kv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=UT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new gn(r,n),s=new kf("",i),o=UV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Wa([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,he,n).pipe(ie(r=>({children:r,rootSnapshot:n})),$i(r=>{if(r instanceof Qu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ku?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof gn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ge(s).pipe(Ia(o=>{let a=r.children[o],u=WV(n,o);return this.processSegmentGroup(e,u,a,o,i)}),oh((o,a)=>(o.push(...a),o)),Hi(null),hm(),pt(o=>{if(o===null)return qa(r);let a=dS(o);return N2(a),oe(a)}))}processSegment(e,n,r,i,s,o,a){return Ge(n).pipe(Ia(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe($i(d=>{if(d instanceof Ku)return oe(null);throw d}))),or(u=>!!u),$i(u=>{if(cS(u))return x2(r,i,s)?oe(new Yv):qa(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Gn(r)!==o&&(o===he||!Uf(i,s,r))?qa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):qa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=lS(n,i,s);if(!u)return qa(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>M2&&(this.allowRedirects=!1));let E=new Wa(s,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,jT(i),Gn(i),i.component??i._loadedComponent??null,i,BT(i)),M=Pf(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(pt(k=>this.processSegment(e,r,n,k.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=b2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ln(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ln(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:E}=u,M=new Wa(_,g,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,jT(r),Gn(r),r.component??r._loadedComponent??null,r,BT(r)),O=Pf(M,o,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:V}=UT(n,_,E,d);if(V.length===0&&k.hasChildren())return this.processChildren(p,d,k,M).pipe(ie(G=>new gn(M,G)));if(d.length===0&&V.length===0)return oe(new gn(M,[]));let W=Gn(r)===s;return this.processSegment(p,d,k,V,W?he:s,!0,M).pipe(ie(G=>new gn(M,G instanceof gn?[G]:[])))}))):qa(n)))}getChildConfig(e,n,r){return n.children?oe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?oe({routes:n._loadedRoutes,injector:n._loadedInjector}):w2(e,n,r,this.urlSerializer).pipe(pt(i=>i?this.configLoader.loadChildren(e,n).pipe(gt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):E2(n))):oe({routes:[],injector:e})}};function N2(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}function P2(t){let e=t.value.routeConfig;return e&&e.path===""}function dS(t){let e=[],n=new Set;for(let r of t){if(!P2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=dS(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!n.has(r))}function jT(t){return t.data||{}}function BT(t){return t.resolve||{}}function k2(t,e,n,r,i,s){return pt(o=>R2(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>we(j({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function O2(t,e){return pt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return oe(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of hS(u))o.add(d);let a=0;return Ge(o).pipe(Ia(u=>s.has(u)?F2(u,r,t,e):(u.data=Pf(u,u.parent,t).resolve,oe(void 0))),gt(()=>a++),Ea(1),pt(u=>a===o.size?oe(n):ln))})}function hS(t){let e=t.children.map(n=>hS(n)).flat();return[t,...e]}function F2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!iS(i)&&(s[Yu]=i.title),L2(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=Pf(t,t.parent,n).resolve,null)))}function L2(t,e,n,r){let i=Sv(t);if(i.length===0)return oe({});let s={};return Ge(i).pipe(pt(o=>V2(t[o],e,n,r).pipe(or(),gt(a=>{if(a instanceof Wu)throw Of(new Bu,a);s[o]=a}))),Ea(1),dm(s),$i(o=>cS(o)?ln:va(o)))}function V2(t,e,n,r){let i=Zu(e)??r,s=Ja(t,i),o=s.resolve?s.resolve(e,n):Br(i,()=>s(e,n));return ss(o)}function Dv(t){return Ln(e=>{let n=t(e);return n?Ge(n).pipe(ie(()=>e)):oe(e)})}var fS=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===he);return i}getResolvedTitleForRoute(r){return r.data[Yu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>B(U2),providedIn:"root"});let t=e;return t})(),U2=(()=>{let e=class e extends fS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(fe(kT))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rw=new K("",{providedIn:"root",factory:()=>({})}),j2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=en({type:e,selectors:[["ng-component"]],standalone:!0,features:[nn],decls:1,vars:0,template:function(i,s){i&1&&Gr(0,"router-outlet")},dependencies:[tw],encapsulation:2});let t=e;return t})();function iw(t){let e=t.children&&t.children.map(iw),n=e?we(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=j2),n}var sw=new K(""),B2=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(ov)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return oe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ss(r.loadComponent()).pipe(ie(pS),gt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),du(()=>{this.componentLoaders.delete(r)})),s=new pa(i,()=>new Et).pipe(fa());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return oe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=$2(i,this.compiler,r,this.onLoadEndListener).pipe(du(()=>{this.childrenLoaders.delete(i)})),a=new pa(o,()=>new Et).pipe(fa());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $2(t,e,n,r){return ss(t.loadChildren()).pipe(ie(pS),pt(i=>i instanceof _u||Array.isArray(i)?oe(i):Ge(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(sw,[],{optional:!0,self:!0}).flat()),{routes:o.map(iw),injector:s}}))}function H2(t){return t&&typeof t=="object"&&"default"in t}function pS(t){return H2(t)?t.default:t}var ow=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>B(q2),providedIn:"root"});let t=e;return t})(),q2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z2=new K("");var G2=new K(""),W2=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=B(B2),this.environmentInjector=B(In),this.urlSerializer=B(Xv),this.rootContexts=B(Vf),this.location=B(Ru),this.inputBindingEnabled=B(nw,{optional:!0})!==null,this.titleStrategy=B(fS),this.options=B(rw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(ow),this.createViewTransition=B(z2,{optional:!0}),this.navigationErrorHandler=B(G2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Fv(s)),i=s=>this.events.next(new Lv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(we(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Rt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(o=>o.id!==0),ie(o=>we(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ln(o=>{let a=!1,u=!1;return oe(o).pipe(Ln(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",mn.SupersededByNewNavigation),ln;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?we(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&g!=="reload"){let _="";return this.events.next(new yo(d.id,this.urlSerializer.serialize(d.rawUrl),_,Mv.IgnoredSameUrlNavigation)),d.resolve(!1),ln}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return oe(d).pipe(Ln(_=>{let E=this.transitions?.getValue();return this.events.next(new Hu(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),E!==this.transitions?.getValue()?ln:Promise.resolve(_)}),k2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=we(j({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let E=new Rf(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:_,extractedUrl:E,source:M,restoredState:O,extras:k}=d,V=new Hu(_,this.urlSerializer.serialize(E),M,O);this.events.next(V);let W=nS(this.rootComponentType).snapshot;return this.currentTransition=o=we(j({},d),{targetSnapshot:W,urlAfterRedirects:E,extras:we(j({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,oe(o)}else{let _="";return this.events.next(new yo(d.id,this.urlSerializer.serialize(d.extractedUrl),_,Mv.IgnoredByUrlHandlingStrategy)),d.resolve(!1),ln}}),gt(d=>{let p=new Nv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ie(d=>(this.currentTransition=o=we(j({},d),{guards:e2(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),d2(this.environmentInjector,d=>this.events.next(d)),gt(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Of(this.urlSerializer,d.guardsResult);let p=new Pv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),vn(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",mn.GuardRejected),!1)),Dv(d=>{if(d.guards.canActivateChecks.length)return oe(d).pipe(gt(p=>{let g=new kv(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),Ln(p=>{let g=!1;return oe(p).pipe(O2(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",mn.NoDataFromResolver)}}))}),gt(p=>{let g=new Ov(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),Dv(d=>{let p=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(gt(E=>{g.component=E}),ie(()=>{})));for(let E of g.children)_.push(...p(E));return _};return rh(p(d.targetSnapshot.root)).pipe(Hi(null),Or(1))}),Dv(()=>this.afterPreactivation()),Ln(()=>{let{currentSnapshot:d,targetSnapshot:p}=o,g=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return g?Ge(g).pipe(ie(()=>o)):oe(o)}),ie(d=>{let p=QV(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=we(j({},d),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,o}),gt(()=>{this.events.next(new zu)}),XV(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Or(1),gt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ti(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),fm(this.transitionAbortSubject.pipe(gt(d=>{throw d}))),du(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",mn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),$i(d=>{if(u=!0,aS(d))this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),JV(d)?this.events.next(new Ya(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let p=new qu(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let g=Br(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(g instanceof Wu){let{message:_,cancellationCode:E}=Of(this.urlSerializer,g);this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.extractedUrl),_,E)),this.events.next(new Ya(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(p);let _=r.errorHandler(d);o.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return ln}))}))}cancelNavigationTransition(r,i,s){let o=new Xr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K2(t){return t!==Uu}var Q2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>B(Y2),providedIn:"root"});let t=e;return t})(),Jv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Y2=(()=>{let e=class e extends Jv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ji(e)))(s||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:()=>B(Z2),providedIn:"root"});let t=e;return t})(),Z2=(()=>{let e=class e extends gS{constructor(){super(...arguments),this.location=B(Ru),this.urlSerializer=B(Xv),this.options=B(rw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(ow),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Hu)this.stateMemento=this.createStateMemento();else if(r instanceof yo)this.rawUrlTree=i.initialUrl;else if(r instanceof Rf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof zu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Xr&&(r.code===mn.GuardRejected||r.code===mn.NoDataFromResolver)?this.restoreHistory(i):r instanceof qu?this.restoreHistory(i,!0):r instanceof ti&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof ei?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ji(e)))(s||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Lu||{});function J2(t,e){t.events.pipe(vn(n=>n instanceof ti||n instanceof Xr||n instanceof qu||n instanceof yo),ie(n=>n instanceof ti||n instanceof yo?Lu.COMPLETE:(n instanceof Xr?n.code===mn.Redirect||n.code===mn.SupersededByNewNavigation:!1)?Lu.REDIRECTING:Lu.FAILED),vn(n=>n!==Lu.REDIRECTING),Or(1)).subscribe(()=>{e()})}function X2(t){throw t}var eU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xa=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(of),this.stateManager=B(gS),this.options=B(rw,{optional:!0})||{},this.pendingTasks=B(Ua),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(W2),this.urlSerializer=B(Xv),this.location=B(Ru),this.urlHandlingStrategy=B(ow),this._events=new Et,this.errorHandler=this.options.errorHandler||X2,this.navigated=!1,this.routeReuseStrategy=B(Q2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(sw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(nw,{optional:!0}),this.eventsSubscription=new Ze,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Xr&&i.code!==mn.Redirect&&i.code!==mn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ti)this.navigated=!0;else if(i instanceof Ya){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d=j({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||K2(s.source)},a);this.scheduleNavigation(u,Uu,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}rU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let d=j({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(iw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:a,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let E=s?s.snapshot:this.routerState.snapshot.root;_=JT(E)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return XT(_,r,g,p??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=mo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Uu,null,i)}navigate(r,i={skipLocationChange:!1}){return nU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=j({},eU):i===!1?s=j({},tU):s=i,mo(r))return OT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return OT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,d,p;a?(u=a.resolve,d=a.reject,p=a.promise):p=new Promise((_,E)=>{u=_,d=E});let g=this.pendingTasks.add();return J2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function rU(t){return!(t instanceof zu)&&!(t instanceof Ya)}var Lf=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new Et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mo(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:JC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:mo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(J(Xa),J(vo),Vy("tabindex"),J(zr),J(hn),J($a))},e.\u0275dir=nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ct("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ba("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wr],replaceUrl:[2,"replaceUrl","replaceUrl",Wr],routerLink:"routerLink"},standalone:!0,features:[rv,qr]});let t=e;return t})(),mS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Je,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof ti&&this.update()})}ngAfterContentInit(){oe(this.links.changes,oe(null)).pipe(wa()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ge(r).pipe(wa()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=iU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(J(Xa),J(hn),J(zr),J(rs),J(Lf,8))},e.\u0275dir=nt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&$D(o,Lf,5),i&2){let a;HD(a=qD())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[qr]});let t=e;return t})();function iU(t){return!!t.paths}var sU=new K("");function yS(t,...e){return En([{provide:sw,multi:!0,useValue:t},[],{provide:vo,useFactory:oU,deps:[Xa]},{provide:sv,multi:!0,useFactory:aU},e.map(n=>n.\u0275providers)])}function oU(t){return t.routerState.root}function aU(){let t=B(jt);return e=>{let n=t.get(ho);if(e!==n.components[0])return;let r=t.get(Xa),i=t.get(cU);t.get(uU)===1&&r.initialNavigation(),t.get(lU,null,pe.Optional)?.setUpPreloading(),t.get(sU,null,pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cU=new K("",{factory:()=>new Et}),uU=new K("",{providedIn:"root",factory:()=>1});var lU=new K("");var wS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,_=(a&15)<<2|d>>6,E=d&63;u||(E=64,o||(_=64)),r.push(n[p],n[g],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new cw;let _=s<<2|a>>4;if(r.push(_),d!==64){let E=a<<4&240|d>>2;if(r.push(E),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fU=function(t){let e=wS(t);return _S.encodeByteArray(e,!0)},Xu=function(t){return fU(t).replace(/\./g,"")},lw=function(t){try{return _S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gU=()=>pU().__FIREBASE_DEFAULTS__,mU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&lw(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return gU()||mU()||yU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dw=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$f=t=>{let e=dw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hw=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},fw=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};var jf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Hf(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xu(JSON.stringify(n)),Xu(JSON.stringify(o)),""].join(".")}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function vU(){var t;let e=(t=Bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ES(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CS(){let t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DS(){return!vU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pw(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var wU="FirebaseError",Yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ni.prototype.create)}},ni=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_U(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yt(i,a,r)}};function _U(t,e){return t.replace(IU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IU=/\{\$([^}]+)}/g;function SS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(vS(s)&&vS(o)){if(!wo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function vS(t){return t!==null&&typeof t=="object"}function el(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AS(t,e){let n=new uw(t,e);return n.subscribe.bind(n)}var uw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=aw),i.error===void 0&&(i.error=aw),i.complete===void 0&&(i.complete=aw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function aw(){}var R7=4*60*60*1e3;function yt(t){return t&&t._delegate?t._delegate:t}var rn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _o="[DEFAULT]";var gw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new jf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CU(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bU(t){return t===_o?void 0:t}function CU(t){return t.instantiationMode==="EAGER"}var qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var DU=[],Ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ie||{}),TU={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},SU=Ie.INFO,AU={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},xU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},os=class{constructor(e){this.name=e,this._logLevel=SU,this._logHandler=xU,this._userLogHandler=null,DU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var RU=(t,e)=>e.some(n=>t instanceof n),xS,RS;function MU(){return xS||(xS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NU(){return RS||(RS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MS=new WeakMap,yw=new WeakMap,NS=new WeakMap,mw=new WeakMap,ww=new WeakMap;function PU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MS.set(n,t)}).catch(()=>{}),ww.set(e,t),e}function kU(t){if(yw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yw.set(t,e)}var vw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PS(t){vw=t(vw)}function OU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zf(this),e,...n);return NS.set(r,e.sort?e.sort():[e]),pr(r)}:NU().includes(t)?function(...e){return t.apply(zf(this),e),pr(MS.get(this))}:function(...e){return pr(t.apply(zf(this),e))}}function FU(t){return typeof t=="function"?OU(t):(t instanceof IDBTransaction&&kU(t),RU(t,MU())?new Proxy(t,vw):t)}function pr(t){if(t instanceof IDBRequest)return PU(t);if(mw.has(t))return mw.get(t);let e=FU(t);return e!==t&&(mw.set(t,e),ww.set(e,t)),e}var zf=t=>ww.get(t);function OS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pr(o.result),u.oldVersion,u.newVersion,pr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var LU=["get","getKey","getAll","getAllKeys","count"],VU=["put","add","delete","clear"],_w=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_w.get(e))return _w.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LU.includes(n)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return _w.set(e,s),s}PS(t=>we(j({},t),{get:(e,n,r)=>kS(e,n)||t.get(e,n,r),has:(e,n)=>!!kS(e,n)||t.has(e,n)}));var Ew=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UU(t){let e=t.getComponent();return e?.type==="VERSION"}var bw="@firebase/app",FS="0.10.10";var ri=new os("@firebase/app"),jU="@firebase/app-compat",BU="@firebase/analytics-compat",$U="@firebase/analytics",HU="@firebase/app-check-compat",qU="@firebase/app-check",zU="@firebase/auth",GU="@firebase/auth-compat",WU="@firebase/database",KU="@firebase/database-compat",QU="@firebase/functions",YU="@firebase/functions-compat",ZU="@firebase/installations",JU="@firebase/installations-compat",XU="@firebase/messaging",ej="@firebase/messaging-compat",tj="@firebase/performance",nj="@firebase/performance-compat",rj="@firebase/remote-config",ij="@firebase/remote-config-compat",sj="@firebase/storage",oj="@firebase/storage-compat",aj="@firebase/firestore",cj="@firebase/vertexai-preview",uj="@firebase/firestore-compat",lj="firebase",dj="10.13.1";var Cw="[DEFAULT]",hj={[bw]:"fire-core",[jU]:"fire-core-compat",[$U]:"fire-analytics",[BU]:"fire-analytics-compat",[qU]:"fire-app-check",[HU]:"fire-app-check-compat",[zU]:"fire-auth",[GU]:"fire-auth-compat",[WU]:"fire-rtdb",[KU]:"fire-rtdb-compat",[QU]:"fire-fn",[YU]:"fire-fn-compat",[ZU]:"fire-iid",[JU]:"fire-iid-compat",[XU]:"fire-fcm",[ej]:"fire-fcm-compat",[tj]:"fire-perf",[nj]:"fire-perf-compat",[rj]:"fire-rc",[ij]:"fire-rc-compat",[sj]:"fire-gcs",[oj]:"fire-gcs-compat",[aj]:"fire-fst",[uj]:"fire-fst-compat",[cj]:"fire-vertex","fire-js":"fire-js",[lj]:"fire-js-all"};var tl=new Map,fj=new Map,Dw=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gr(t){let e=t.name;if(Dw.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Dw.set(e,t);for(let n of tl.values())LS(n,t);for(let n of fj.values())LS(n,t);return!0}function Io(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t.settings!==void 0}var pj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new ni("app","Firebase",pj);var Tw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}};var mr=dj;function xw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Cw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw as.create("bad-app-name",{appName:String(i)});if(n||(n=hw()),!n)throw as.create("no-options");let s=tl.get(i);if(s){if(wo(n,s.options)&&wo(r,s.config))return s;throw as.create("duplicate-app",{appName:i})}let o=new qf(i);for(let u of Dw.values())o.addComponent(u);let a=new Tw(n,r,o);return tl.set(i,a),a}function cs(t=Cw){let e=tl.get(t);if(!e&&t===Cw&&hw())return xw();if(!e)throw as.create("no-app",{appName:t});return e}function Gf(){return Array.from(tl.values())}function We(t,e,n){var r;let i=(r=hj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(a.join(" "));return}gr(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gj="firebase-heartbeat-database",mj=1,nl="firebase-heartbeat-store",Iw=null;function BS(){return Iw||(Iw=OS(gj,mj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Iw}function yj(t){return D(this,null,function*(){try{let n=(yield BS()).transaction(nl),r=yield n.objectStore(nl).get($S(t));return yield n.done,r}catch(e){if(e instanceof Yt)ri.warn(e.message);else{let n=as.create("idb-get",{originalErrorMessage:e?.message});ri.warn(n.message)}}})}function VS(t,e){return D(this,null,function*(){try{let r=(yield BS()).transaction(nl,"readwrite");yield r.objectStore(nl).put(e,$S(t)),yield r.done}catch(n){if(n instanceof Yt)ri.warn(n.message);else{let r=as.create("idb-set",{originalErrorMessage:n?.message});ri.warn(r.message)}}})}function $S(t){return`${t.name}!${t.options.appId}`}var vj=1024,wj=30*24*60*60*1e3,Sw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Aw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=US();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=wj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ri.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=US(),{heartbeatsToSend:r,unsentEntries:i}=_j(this._heartbeatsCache.heartbeats),s=Xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ri.warn(n),""}})}};function US(){return new Date().toISOString().substring(0,10)}function _j(t,e=vj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Aw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return pw()?TS().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jS(t){return Xu(JSON.stringify({version:2,heartbeats:t})).length}function Ij(t){gr(new rn("platform-logger",e=>new Ew(e),"PRIVATE")),gr(new rn("heartbeat",e=>new Sw(e),"PRIVATE")),We(bw,FS,t),We(bw,FS,"esm2017"),We("fire-js","")}Ij("");var Ej="firebase",bj="10.13.1";We(Ej,bj,"app");var ii=new Ur("ANGULARFIRE2_VERSION");function rc(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bo=(t,e)=>{let n=e?[e]:Gf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},us=class{constructor(){return bo(Cj)}},Cj="app-check";function nc(){}var Wf=class{zone;delegate;constructor(e,n=am){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Rw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc)),n.pipe(gt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ls=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Wf(Zone.current)),this.insideAngular=n.run(()=>new Wf(Zone.current,om)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(fe(ke))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Dj(t){return Kf().ngZone.runOutsideAngular(()=>t())}function Eo(t){return Kf().ngZone.run(()=>t())}function Tj(t){return Sj(Kf())(t)}function Sj(t){return function(n){return n=n.lift(new Rw(t.ngZone)),n.pipe(Bi(t.outsideAngular),ji(t.insideAngular))}}var Aj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Eo(()=>t.apply(void 0,r))},Zt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc))),r[s]=Aj(r[s],n));let i=Dj(()=>t.apply(this,r));if(!e)if(i instanceof ye){let s=Kf();return i.pipe(Bi(s.outsideAngular),ji(s.insideAngular))}else return Eo(()=>i);return i instanceof ye?i.pipe(Tj):i instanceof Promise?Eo(()=>new Promise((s,o)=>i.then(a=>Eo(()=>s(a)),a=>Eo(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Eo(()=>i)};var Kn=class{constructor(e){return e}},si=class{constructor(){return Gf()}};function xj(t){return t&&t.length===1?t[0]:new Kn(cs())}var Mw=new K("angularfire2._apps"),Rj={provide:Kn,useFactory:xj,deps:[[new ct,Mw]]},Mj={provide:si,deps:[[new ct,Mw]]};function Nj(t){return(e,n)=>{let r=n.get(Xi);We("angularfire",ii.full,"core"),We("angularfire",ii.full,"app"),We("angular",YD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Kn(i)}}function HS(t,...e){return En([Rj,Mj,{provide:Mw,useFactory:Nj(t),multi:!0,deps:[ke,jt,ls,...e]}])}var qS=Zt(xw,!0);function aA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cA=aA,uA=new ni("auth","Firebase",aA());var ep=new os("@firebase/auth");function Pj(t,...e){ep.logLevel<=Ie.WARN&&ep.warn(`Auth (${mr}): ${t}`,...e)}function Yf(t,...e){ep.logLevel<=Ie.ERROR&&ep.error(`Auth (${mr}): ${t}`,...e)}function vr(t,...e){throw e_(t,...e)}function Co(t,...e){return e_(t,...e)}function lA(t,e,n){let r=Object.assign(Object.assign({},cA()),{[e]:n});return new ni("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return lA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uA.create(t,...e)}function ne(t,e,...n){if(!t)throw e_(e,...n)}function oi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function hs(t,e){t||oi(e)}function Ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kj(){return zS()==="http:"||zS()==="https:"}function zS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kj()||ES()||"connection"in navigator)?navigator.onLine:!0}function Fj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Do=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=IS()||bS()}get(){return Oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function t_(t,e){hs(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Vj=new Do(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ps(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){return dA(t,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=el(Object.assign({key:t.config.apiKey},p)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),tp.fetch()(hA(t,t.config.apiHost,n,g),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},d))}))})}function dA(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Lj),e);try{let i=new Fw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Qf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Qf(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Qf(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw lA(t,p,d);vr(t,p)}}catch(i){if(i instanceof Yt)throw i;vr(t,"network-request-failed",{message:String(i)})}})}function ll(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){let d=yield ps(t,e,n,r,i);return"mfaPendingCredential"in d&&vr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function hA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?t_(t.config,i):`${t.config.apiScheme}://${i}`}function Uj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Fw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Co(this.auth,"network-request-failed")),Vj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Qf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Co(t,e,r);return i.customData._tokenResponse=n,i}function GS(t){return t!==void 0&&t.enterprise!==void 0}var Lw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jj(t,e){return D(this,null,function*(){return ps(t,"GET","/v2/recaptchaConfig",fs(t,e))})}function Bj(t,e){return D(this,null,function*(){return ps(t,"POST","/v1/accounts:delete",e)})}function fA(t,e){return D(this,null,function*(){return ps(t,"POST","/v1/accounts:lookup",e)})}function rl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function n_(t,e=!1){return D(this,null,function*(){let n=yt(t),r=yield n.getIdToken(e),i=r_(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:rl(Nw(i.auth_time)),issuedAtTime:rl(Nw(i.iat)),expirationTime:rl(Nw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Nw(t){return Number(t)*1e3}function r_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{let i=lw(n);return i?JSON.parse(i):(Yf("Failed to decode base64 JWT payload"),null)}catch(i){return Yf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WS(t){let e=r_(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function sl(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Yt&&$j(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $j({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Vw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ol=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function np(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield sl(t,fA(n,{idToken:r}));ne(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pA(s.providerUserInfo):[],a=Hj(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ol(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function i_(t){return D(this,null,function*(){let e=yt(t);yield np(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Hj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pA(t){return t.map(e=>{var{providerId:n}=e,r=cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qj(t,e){return D(this,null,function*(){let n=yield dA(t,{},()=>D(this,null,function*(){let r=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zj(t,e){return D(this,null,function*(){return ps(t,"POST","/v2/accounts:revokeToken",fs(t,e))})}var il=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let n=WS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield qj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return oi("not implemented")}};function ds(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ic=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ol(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield sl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return n_(this,e)}reload(){return i_(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield np(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Wn(this.auth.app))return Promise.reject(ci(this.auth));let e=yield this.getIdToken();return yield sl(this,Bj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=n.createdAt)!==null&&d!==void 0?d:void 0,W=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:G,emailVerified:Z,isAnonymous:Ae,providerData:X,stsTokenManager:T}=n;ne(G&&T,e,"internal-error");let I=il.fromJSON(this.name,T);ne(typeof G=="string",e,"internal-error"),ds(g,e.name),ds(_,e.name),ne(typeof Z=="boolean",e,"internal-error"),ne(typeof Ae=="boolean",e,"internal-error"),ds(E,e.name),ds(M,e.name),ds(O,e.name),ds(k,e.name),ds(V,e.name),ds(W,e.name);let b=new t({uid:G,auth:e,email:_,emailVerified:Z,displayName:g,isAnonymous:Ae,photoURL:M,phoneNumber:E,tenantId:O,stsTokenManager:I,createdAt:V,lastLoginAt:W});return X&&Array.isArray(X)&&(b.providerData=X.map(S=>Object.assign({},S))),k&&(b._redirectEventId=k),b}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new il;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield np(s),s})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];ne(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?pA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new il;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ol(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var KS=new Map;function ai(t){hs(t instanceof Function,"Expected a class definition");let e=KS.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KS.set(t,e),e)}var Gj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Uw=Gj;function Zf(t,e,n){return`firebase:${t}:${e}:${n}`}var rp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Zf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ic._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(ai(Uw),e,r);let i=(yield Promise.all(n.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||ai(Uw),o=Zf(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let g=ic._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>D(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function QS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_A(e))return"Blackberry";if(IA(e))return"Webos";if(mA(e))return"Safari";if((e.includes("chrome/")||yA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function gA(t=Dt()){return/firefox\//i.test(t)}function mA(t=Dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yA(t=Dt()){return/crios\//i.test(t)}function vA(t=Dt()){return/iemobile/i.test(t)}function wA(t=Dt()){return/android/i.test(t)}function _A(t=Dt()){return/blackberry/i.test(t)}function IA(t=Dt()){return/webos/i.test(t)}function s_(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wj(t=Dt()){var e;return s_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kj(){return CS()&&document.documentMode===10}function EA(t=Dt()){return s_(t)||wA(t)||IA(t)||_A(t)||/windows phone/i.test(t)||vA(t)}function bA(t,e=[]){let n;switch(t){case"Browser":n=QS(Dt());break;case"Worker":n=`${QS(Dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${r}`}var jw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Qj(n){return D(this,arguments,function*(t,e={}){return ps(t,"GET","/v2/passwordPolicy",fs(t,e))})}var Yj=6,Bw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Yj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var $w=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ip(this),this.idTokenSubscription=new ip(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield fA(this,{idToken:e}),r=yield ic._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(Wn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield np(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Fj()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Wn(this.app))return Promise.reject(ci(this));let n=e?yt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Wn(this.app)?Promise.reject(ci(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wn(this.app)?Promise.reject(ci(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield Qj(this),n=new Bw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ni("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield zj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ai(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=yield rp.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Pj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function So(t){return yt(t)}var ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dp={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zj(t){dp=t}function CA(t){return dp.loadJS(t)}function Jj(){return dp.recaptchaEnterpriseScript}function Xj(){return dp.gapiScript}function DA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var eB="recaptcha-enterprise",tB="NO_RECAPTCHA",Hw=class{constructor(e){this.type=eB,this.auth=So(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(s){return D(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>D(this,null,function*(){jj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Lw(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;GS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(tB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Jj();u.length!==0&&(u+=a),CA(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function YS(t,e,n,r=!1){return D(this,null,function*(){let i=new Hw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function qw(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield YS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>D(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield YS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function o_(t,e){let n=Io(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(wo(s,e??{}))return i;vr(i,"already-initialized")}return n.initialize({options:e})}function nB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function a_(t,e,n){let r=So(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=TA(e),{host:o,port:a}=rB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iB()}function TA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rB(t){let e=TA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ZS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ZS(o)}}}function ZS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var al=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}};function sB(t,e){return D(this,null,function*(){return ps(t,"POST","/v1/accounts:signUp",e)})}function oB(t,e){return D(this,null,function*(){return ll(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))})}function aB(t,e){return D(this,null,function*(){return ll(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))})}function cB(t,e){return D(this,null,function*(){return ll(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))})}var cl=class t extends al{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qw(e,n,"signInWithPassword",oB);case"emailLink":return aB(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qw(e,r,"signUpPassword",sB);case"emailLink":return cB(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Pw(t,e){return D(this,null,function*(){return ll(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))})}function uB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lB(t){let e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}var sp=class t{constructor(e){var n,r,i,s,o,a;let u=ec(tc(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=uB((i=u.mode)!==null&&i!==void 0?i:null);ne(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=lB(e);try{return new t(n)}catch{return null}}};var SA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return cl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=sp.parseLink(r);return ne(i,"argument-error"),cl._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),op=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zw=class extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function dB(t,e){return D(this,null,function*(){return ll(t,"POST","/v1/accounts:signUp",fs(t,e))})}var sc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let s=yield ic._fromIdTokenResponse(e,r,i),o=JS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=JS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function JS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Gw=class t extends Yt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function AA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gw._fromErrorAndOperation(t,s,e,r):s})}function hB(t,e,n=!1){return D(this,null,function*(){let r=yield sl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return sc._forOperation(t,"link",r)})}function fB(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(Wn(r.app))return Promise.reject(ci(r));let i="reauthenticate";try{let s=yield sl(t,AA(r,i,e,t),n);ne(s.idToken,r,"internal-error");let o=r_(s.idToken);ne(o,r,"internal-error");let{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),sc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&vr(r,"user-mismatch"),s}})}function xA(t,e,n=!1){return D(this,null,function*(){if(Wn(t.app))return Promise.reject(ci(t));let r="signIn",i=yield AA(t,r,e),s=yield sc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function c_(t,e){return D(this,null,function*(){return xA(So(t),e)})}function RA(t){return D(this,null,function*(){let e=So(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function u_(t,e,n){return D(this,null,function*(){if(Wn(t.app))return Promise.reject(ci(t));let r=So(t),o=yield qw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&RA(t),u}),a=yield sc._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function l_(t,e,n){return Wn(t.app)?Promise.reject(ci(t)):c_(yt(t),SA.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&RA(t),r}))}function hp(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function d_(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function fp(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function h_(t){return yt(t).signOut()}var ap="__sak";var cp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pB=1e3,gB=10,mB=(()=>{class t extends cp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Kj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,gB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield Vi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield Vi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield Vi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),MA=mB;var yB=(()=>{class t extends cp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),f_=yB;function vB(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var wB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,o)})),d=yield vB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function NA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ww=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=NA("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yr(){return window}function _B(t){yr().location.href=t}function PA(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}function IB(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function EB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bB(){return PA()?self:null}var kA="firebaseLocalStorageDb",CB=1,up="firebaseLocalStorage",OA="fbase_key",To=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function pp(t,e){return t.transaction([up],e?"readwrite":"readonly").objectStore(up)}function DB(){let t=indexedDB.deleteDatabase(kA);return new To(t).toPromise()}function Kw(){let t=indexedDB.open(kA,CB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(up,{keyPath:OA})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(up)?e(r):(r.close(),yield DB(),e(yield Kw()))}))})}function XS(t,e,n){return D(this,null,function*(){let r=pp(t,!0).put({[OA]:e,value:n});return new To(r).toPromise()})}function TB(t,e){return D(this,null,function*(){let n=pp(t,!1).get(e),r=yield new To(n).toPromise();return r===void 0?null:r.value})}function eA(t,e){let n=pp(t,!0).delete(e);return new To(n).toPromise()}var SB=800,AB=3,xB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield Kw(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>AB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return PA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=wB._getInstance(bB()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IB(),!this.activeServiceWorker)return;this.sender=new Ww(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||EB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Kw();return yield XS(n,ap,"1"),yield eA(n,ap),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>XS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>TB(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>eA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(s=>{let o=pp(s,!1).getAll();return new To(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),SB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),FA=xB;var bK=DA("rcb"),CK=new Do(3e4,6e4);function RB(t,e){return e?ai(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ul=class extends al{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function MB(t){return xA(t.auth,new ul(t),t.bypassAuthState)}function NB(t){let{auth:e,user:n}=t;return ne(n,e,"internal-error"),fB(n,new ul(t),t.bypassAuthState)}function PB(t){return D(this,null,function*(){let{auth:e,user:n}=t;return ne(n,e,"internal-error"),hB(n,new ul(t),t.bypassAuthState)})}var Qw=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MB;case"linkViaPopup":case"linkViaRedirect":return PB;case"reauthViaPopup":case"reauthViaRedirect":return NB;default:vr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var DK=new Do(2e3,1e4);var kB="pendingRedirect",Jf=new Map,Yw=class t extends Qw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=Jf.get(this.auth._key());if(!e){try{let r=(yield OB(this.resolver,this.auth))?yield Vi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Vi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Vi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function OB(t,e){return D(this,null,function*(){let n=VB(e),r=LB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FB(t,e){Jf.set(t._key(),e)}function LB(t){return ai(t._redirectPersistence)}function VB(t){return Zf(kB,t.config.apiKey,t.name)}function UB(t,e,n=!1){return D(this,null,function*(){if(Wn(t.app))return Promise.reject(ci(t));let r=So(t),i=RB(r,e),o=yield new Yw(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var jB=10*60*1e3,Zw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Co(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jB&&this.cachedEventUids.clear(),this.cachedEventUids.has(tA(e))}saveEventToCache(e){this.cachedEventUids.add(tA(e)),this.lastProcessedEventTime=Date.now()}};function tA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LA(t);default:return!1}}function $B(n){return D(this,arguments,function*(t,e={}){return ps(t,"GET","/v1/projects",e)})}var HB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qB=/^https?/;function zB(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $B(t);for(let n of e)try{if(GB(n))return}catch{}vr(t,"unauthorized-domain")})}function GB(t){let e=Ow(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qB.test(n))return!1;if(HB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WB=new Do(3e4,6e4);function nA(){let t=yr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KB(t){return new Promise((e,n)=>{var r,i,s;function o(){nA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nA(),n(Co(t,"network-request-failed"))},timeout:WB.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{let a=DA("iframefcb");return yr()[a]=()=>{gapi.load?o():n(Co(t,"network-request-failed"))},CA(`${Xj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Xf=null,e})}var Xf=null;function QB(t){return Xf=Xf||KB(t),Xf}var YB=new Do(5e3,15e3),ZB="__/auth/iframe",JB="emulator/auth/iframe",XB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t$(t){let e=t.config;ne(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?t_(e,JB):`https://${t.config.authDomain}/${ZB}`,r={apiKey:e.apiKey,appName:t.name,v:mr},i=e$.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${el(r).slice(1)}`}function n$(t){return D(this,null,function*(){let e=yield QB(t),n=yr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:t$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XB,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Co(t,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},YB.get());function u(){yr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var r$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i$=500,s$=600,o$="_blank",a$="http://localhost",lp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c$(t,e,n,r=i$,i=s$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},r$),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Dt().toLowerCase();n&&(a=yA(d)?o$:n),gA(d)&&(e=e||a$,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[E,M])=>`${_}${E}=${M},`,"");if(Wj(d)&&a!=="_self")return u$(e||"",a),new lp(null);let g=window.open(e||"",a,p);ne(g,t,"popup-blocked");try{g.focus()}catch{}return new lp(g)}function u$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var l$="__/auth/handler",d$="emulator/auth/handler",h$=encodeURIComponent("fac");function rA(t,e,n,r,i,s){return D(this,null,function*(){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(e instanceof op){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof zw){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${h$}=${encodeURIComponent(u)}`:"";return`${f$(t)}?${el(a).slice(1)}${d}`})}function f$({config:t}){return t.emulator?t_(t,d$):`https://${t.authDomain}/${l$}`}var kw="webStorageSupport",Jw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f_,this._completeRedirectFn=UB,this._overrideRedirectResult=FB}_openPopup(e,n,r,i){return D(this,null,function*(){var s;hs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield rA(e,n,r,Ow(),i);return c$(e,o,NA())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield rA(e,n,r,Ow(),i);return _B(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hs(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield n$(e),r=new Zw(e);return n.register("authEvent",i=>(ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kw,{type:kw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[kw];o!==void 0&&n(!!o),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EA()||mA()||s_()}},VA=Jw;var iA="@firebase/auth",sA="1.7.8";var Xw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g$(t){gr(new rn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bA(t)},d=new $w(r,i,s,u);return nB(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gr(new rn("auth-internal",e=>{let n=So(e.getProvider("auth").getImmediate());return(r=>new Xw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(iA,sA,p$(t)),We(iA,sA,"esm2017")}var m$=5*60,y$=fw("authIdTokenMaxAge")||m$,oA=null,v$=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y$)return;let i=n?.token;oA!==i&&(oA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function p_(t=cs()){let e=Io(t,"auth");if(e.isInitialized())return e.getImmediate();let n=o_(t,{popupRedirectResolver:VA,persistence:[FA,MA,f_]}),r=fw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=v$(s.toString());d_(n,o,()=>o(n.currentUser)),hp(n,a=>o(a))}}let i=dw("auth");return i&&a_(n,`http://${i}`),n}function w$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Co("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g$("Browser");function jA(t){return new ye(function(e){var n=fp(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var BA="auth",Ao=class{constructor(e){return e}},xo=class{constructor(){return bo(BA)}};var g_=new K("angularfire2.auth-instances");function aH(t,e){let n=rc(BA,t,e);return n&&new Ao(n)}function cH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ao(r)}}var uH={provide:xo,deps:[[new ct,g_]]},lH={provide:Ao,useFactory:aH,deps:[[new ct,g_],Kn]};function $A(t,...e){return We("angularfire",ii.full,"auth"),En([lH,uH,{provide:g_,useFactory:cH(t),multi:!0,deps:[ke,jt,ls,si,[new ct,us],...e]}])}var HA=Zt(jA,!0);var qA=Zt(u_,!0);var zA=Zt(p_,!0);var GA=Zt(l_,!0);var WA=Zt(h_,!0);var gp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-home"]],standalone:!0,features:[nn],decls:10,vars:0,consts:[[1,"wrapper"],[1,"grid-container"],[1,"placeholder"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"div",1)(2,"div",2),ue(3,"Juego 1"),z(),H(4,"div",2),ue(5,"Juego 2"),z(),H(6,"div",2),ue(7,"Juego 3"),z(),H(8,"div",2),ue(9,"Juego 4"),z()()())},styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:100vh;margin:0;background-color:#f4f4f9;padding:20px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:20px;width:100%;height:100%}.placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#ddd;height:100%;min-height:200px;border-radius:10px;box-shadow:0 4px 6px #0000001a}"]})};var mp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[nn],decls:10,vars:0,consts:[[1,"about-container"],[1,"about-card"],["src","about-me.png","alt","Your Photo",1,"about-photo"],[1,"about-text"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"div",1),Gr(2,"img",2),H(3,"div",3)(4,"h1"),ue(5,"Javier Fernandez"),z(),H(6,"p"),ue(7," 30 a\xF1os, Apasionado por el desarrollo, cursando las ultimas materias de la Tecnicatura en Programaci\xF3n en UTN FRA. "),z(),H(8,"p"),ue(9," Actualmente me encuentro craneando cual ser\xE1 mi primer juego propio. A\xF1adir\xE9 detalles aqu\xED una vez est\xE9 en desarrollo! "),z()()()())},dependencies:[Jr],styles:[".about-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f4f4f9}.about-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;border-radius:15px;box-shadow:0 4px 8px #0000001a;padding:2rem;max-width:700px;text-align:center}.about-photo[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:50%;object-fit:cover;margin-bottom:1rem;border:5px solid #e0e0e0}.about-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#333}.about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;line-height:1.6}"]})};var oc=class{email;password;constructor(e,n){this.email=e,this.password=n}};var nx=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(J(zr),J(hn))},e.\u0275dir=nt({type:e});let t=e;return t})(),hH=(()=>{let e=class e extends nx{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ji(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[Hn]});let t=e;return t})(),rx=new K("");var fH={provide:rx,useExisting:jr(()=>dc),multi:!0};function pH(){let t=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gH=new K(""),dc=(()=>{let e=class e extends nx{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(J(zr),J(hn),J(gH,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Ct("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[uo([fH]),Hn]});let t=e;return t})();function y_(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function mH(t){return t!=null&&typeof t.length=="number"}var vl=new K(""),ix=new K(""),yH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function vH(t){return y_(t.value)?{required:!0}:null}function wH(t){return y_(t.value)||yH.test(t.value)?null:{email:!0}}function _H(t){return e=>y_(e.value)||!mH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function KA(t){return null}function sx(t){return t!=null}function ox(t){return lo(t)?Ge(t):t}function ax(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function cx(t,e){return e.map(n=>n(t))}function IH(t){return!t.validate}function ux(t){return t.map(e=>IH(e)?e:n=>e.validate(n))}function EH(t){if(!t)return null;let e=t.filter(sx);return e.length==0?null:function(n){return ax(cx(n,e))}}function v_(t){return t!=null?EH(ux(t)):null}function bH(t){if(!t)return null;let e=t.filter(sx);return e.length==0?null:function(n){let r=cx(n,e).map(ox);return lm(r).pipe(ie(ax))}}function w_(t){return t!=null?bH(ux(t)):null}function QA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CH(t){return t._rawValidators}function DH(t){return t._rawAsyncValidators}function m_(t){return t?Array.isArray(t)?t:[t]:[]}function vp(t,e){return Array.isArray(t)?t.includes(e):t===e}function YA(t,e){let n=m_(e);return m_(t).forEach(i=>{vp(n,i)||n.push(i)}),n}function ZA(t,e){return m_(e).filter(n=>!vp(t,n))}var wp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=v_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=w_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},uc=class extends wp{get formDirective(){return null}get path(){return null}},yl=class extends wp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},_p=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},TH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kQ=we(j({},TH),{"[class.ng-submitted]":"isSubmitted"}),Cp=(()=>{let e=class e extends _p{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(yl,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&rf("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Hn]});let t=e;return t})(),lx=(()=>{let e=class e extends _p{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(uc,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&rf("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Hn]});let t=e;return t})();var hl="VALID",yp="INVALID",ac="PENDING",fl="DISABLED",lc=class{},Ip=class extends lc{constructor(e,n){super(),this.value=e,this.source=n}},gl=class extends lc{constructor(e,n){super(),this.pristine=e,this.source=n}},ml=class extends lc{constructor(e,n){super(),this.touched=e,this.source=n}},cc=class extends lc{constructor(e,n){super(),this.status=e,this.source=n}};function dx(t){return(Dp(t)?t.validators:t)||null}function SH(t){return Array.isArray(t)?v_(t):t||null}function hx(t,e){return(Dp(e)?e.asyncValidators:t)||null}function AH(t){return Array.isArray(t)?w_(t):t||null}function Dp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function xH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function RH(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Ep=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=xu(()=>this.statusReactive()),this.statusReactive=Su(void 0),this._pristine=xu(()=>this.pristineReactive()),this.pristineReactive=Su(!0),this._touched=xu(()=>this.touchedReactive()),this.touchedReactive=Su(!1),this._events=new Et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Kr(this.statusReactive)}set status(e){Kr(()=>this.statusReactive.set(e))}get valid(){return this.status===hl}get invalid(){return this.status===yp}get pending(){return this.status==ac}get disabled(){return this.status===fl}get enabled(){return this.status!==fl}get pristine(){return Kr(this.pristineReactive)}set pristine(e){Kr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Kr(this.touchedReactive)}set touched(e){Kr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZA(e,this._rawAsyncValidators))}hasValidator(e){return vp(this._rawValidators,e)}hasAsyncValidator(e){return vp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(we(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ml(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ml(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(we(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new gl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new gl(!0,r))}markAsPending(e={}){this.status=ac;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(we(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fl,this.errors=null,this._forEachChild(i=>{i.disable(we(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ip(this.value,r)),this._events.next(new cc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=hl,this._forEachChild(r=>{r.enable(we(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(we(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hl||this.status===ac)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ip(this.value,n)),this._events.next(new cc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(we(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fl:hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ac,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ox(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new cc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?fl:this.errors?yp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ac)?ac:this._anyControlsHaveStatus(yp)?yp:hl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new gl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ml(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=SH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=AH(this._rawAsyncValidators)}},bp=class extends Ep{constructor(e,n,r){super(dx(n),hx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){RH(this,!0,e),Object.keys(e).forEach(r=>{xH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var __=new K("CallSetDisabledState",{providedIn:"root",factory:()=>I_}),I_="always";function MH(t,e){return[...e.path,t]}function fx(t,e,n=I_){px(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),PH(t,e),OH(t,e),kH(t,e),NH(t,e)}function JA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function NH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function px(t,e){let n=CH(t);e.validator!==null?t.setValidators(QA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=DH(t);e.asyncValidator!==null?t.setAsyncValidators(QA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();JA(e._rawValidators,i),JA(e._rawAsyncValidators,i)}function PH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gx(t,e)})}function kH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function FH(t,e){t==null,px(t,e)}function LH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function VH(t){return Object.getPrototypeOf(t.constructor)===hH}function UH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===dc?n=s:VH(s)?r=s:i=s}),i||r||n||null}var BH={provide:uc,useExisting:jr(()=>E_)},pl=Promise.resolve(),E_=(()=>{let e=class e extends uc{get submitted(){return Kr(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=xu(()=>this.submittedReactive()),this.submittedReactive=Su(!1),this._directives=new Set,this.ngSubmit=new Je,this.form=new bp({},v_(r),w_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){pl.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),fx(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){pl.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){pl.then(()=>{let i=this._findContainer(r.path),s=new bp({});FH(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){pl.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){pl.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),UH(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(J(vl,10),J(ix,10),J(__,8))},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Ct("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[uo([BH]),Hn]});let t=e;return t})();function XA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ex(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $H=class extends Ep{constructor(e=null,n,r){super(dx(n),hx(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ex(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ex(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HH={provide:yl,useExisting:jr(()=>wl)},tx=Promise.resolve(),wl=(()=>{let e=class e extends yl{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new $H,this._registered=!1,this.name="",this.update=new Je,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=jH(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),LH(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){tx.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Wr(i);tx.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?MH(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(J(uc,9),J(vl,10),J(ix,10),J(rx,10),J(rs,8),J(__,8))},e.\u0275dir=nt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[uo([HH]),Hn,qr]});let t=e;return t})(),mx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();function qH(t){return typeof t=="number"?t:parseInt(t,10)}var b_=(()=>{let e=class e{constructor(){this._validator=KA}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):KA,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,features:[qr]});let t=e;return t})();var zH={provide:vl,useExisting:jr(()=>C_),multi:!0};var C_=(()=>{let e=class e extends b_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wr,this.createValidator=r=>vH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ji(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Ba("required",s._enabled?"":null)},inputs:{required:"required"},features:[uo([zH]),Hn]});let t=e;return t})();var GH={provide:vl,useExisting:jr(()=>D_),multi:!0},D_=(()=>{let e=class e extends b_{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Wr,this.createValidator=r=>wH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ji(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[uo([GH]),Hn]});let t=e;return t})(),WH={provide:vl,useExisting:jr(()=>T_),multi:!0},T_=(()=>{let e=class e extends b_{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>qH(r),this.createValidator=r=>_H(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ji(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Ba("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[uo([WH]),Hn]});let t=e;return t})();var KH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=so({type:e}),e.\u0275inj=io({});let t=e;return t})();var Tp=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:__,useValue:r.callSetDisabledState??I_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=so({type:e}),e.\u0275inj=io({imports:[KH]});let t=e;return t})();var vg=AN(vx());var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_x={};var gs,A_;(function(){var t;function e(T,I){function b(){}b.prototype=I.prototype,T.D=I.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(S,A,x){for(var C=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)C[xn-2]=arguments[xn];return I.prototype[A].apply(S,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,b){b||(b=0);var S=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)S[A]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=T.g[0],b=T.g[1],A=T.g[2];var x=T.g[3],C=I+(x^b&(A^x))+S[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[1]+3905402710&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[2]+606105819&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[3]+3250441966&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(x^b&(A^x))+S[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[5]+1200080426&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[6]+2821735955&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[7]+4249261313&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(x^b&(A^x))+S[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[9]+2336552879&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[10]+4294925233&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[11]+2304563134&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(x^b&(A^x))+S[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=x+(A^I&(b^A))+S[13]+4254626195&4294967295,x=I+(C<<12&4294967295|C>>>20),C=A+(b^x&(I^b))+S[14]+2792965006&4294967295,A=x+(C<<17&4294967295|C>>>15),C=b+(I^A&(x^I))+S[15]+1236535329&4294967295,b=A+(C<<22&4294967295|C>>>10),C=I+(A^x&(b^A))+S[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[6]+3225465664&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[11]+643717713&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[0]+3921069994&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(A^x&(b^A))+S[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[10]+38016083&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[15]+3634488961&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[4]+3889429448&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(A^x&(b^A))+S[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[14]+3275163606&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[3]+4107603335&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[8]+1163531501&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(A^x&(b^A))+S[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=x+(b^A&(I^b))+S[2]+4243563512&4294967295,x=I+(C<<9&4294967295|C>>>23),C=A+(I^b&(x^I))+S[7]+1735328473&4294967295,A=x+(C<<14&4294967295|C>>>18),C=b+(x^I&(A^x))+S[12]+2368359562&4294967295,b=A+(C<<20&4294967295|C>>>12),C=I+(b^A^x)+S[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[8]+2272392833&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[11]+1839030562&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[14]+4259657740&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(b^A^x)+S[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[4]+1272893353&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[7]+4139469664&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[10]+3200236656&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(b^A^x)+S[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[0]+3936430074&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[3]+3572445317&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[6]+76029189&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(b^A^x)+S[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=x+(I^b^A)+S[12]+3873151461&4294967295,x=I+(C<<11&4294967295|C>>>21),C=A+(x^I^b)+S[15]+530742520&4294967295,A=x+(C<<16&4294967295|C>>>16),C=b+(A^x^I)+S[2]+3299628645&4294967295,b=A+(C<<23&4294967295|C>>>9),C=I+(A^(b|~x))+S[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[7]+1126891415&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[14]+2878612391&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[5]+4237533241&4294967295,b=A+(C<<21&4294967295|C>>>11),C=I+(A^(b|~x))+S[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[3]+2399980690&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[10]+4293915773&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[1]+2240044497&4294967295,b=A+(C<<21&4294967295|C>>>11),C=I+(A^(b|~x))+S[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[15]+4264355552&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[6]+2734768916&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[13]+1309151649&4294967295,b=A+(C<<21&4294967295|C>>>11),C=I+(A^(b|~x))+S[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=x+(b^(I|~A))+S[11]+3174756917&4294967295,x=I+(C<<10&4294967295|C>>>22),C=A+(I^(x|~b))+S[2]+718787259&4294967295,A=x+(C<<15&4294967295|C>>>17),C=b+(x^(A|~I))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+x&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var b=I-this.blockSize,S=this.B,A=this.h,x=0;x<I;){if(A==0)for(;x<=b;)i(this,T,x),x+=this.blockSize;if(typeof T=="string"){for(;x<I;)if(S[A++]=T.charCodeAt(x++),A==this.blockSize){i(this,S),A=0;break}}else for(;x<I;)if(S[A++]=T[x++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var b=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=b&255,b/=256;for(this.u(T),T=Array(16),I=b=0;4>I;++I)for(var S=0;32>S;S+=8)T[b++]=this.g[I]>>>S&255;return T};function s(T,I){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=I(T)}function o(T,I){this.h=I;for(var b=[],S=!0,A=T.length-1;0<=A;A--){var x=T[A]|0;S&&x==I||(b[A]=x,S=!1)}this.g=b}var a={};function u(T){return-128<=T&&128>T?s(T,function(I){return new o([I|0],0>I?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return k(d(-T));for(var I=[],b=1,S=0;T>=b;S++)I[S]=T/b|0,b*=4294967296;return new o(I,0)}function p(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return k(p(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),S=g,A=0;A<T.length;A+=8){var x=Math.min(8,T.length-A),C=parseInt(T.substring(A,A+x),I);8>x?(x=d(Math.pow(I,x)),S=S.j(x).add(d(C))):(S=S.j(b),S=S.add(d(C)))}return S}var g=u(0),_=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(O(this))return-k(this).m();for(var T=0,I=1,b=0;b<this.g.length;b++){var S=this.i(b);T+=(0<=S?S:4294967296+S)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(O(this))return"-"+k(this).toString(T);for(var I=d(Math.pow(T,6)),b=this,S="";;){var A=Z(b,I).g;b=V(b,A.j(I));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=A,M(b))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=V(this,T),O(T)?-1:M(T)?0:1};function k(T){for(var I=T.g.length,b=[],S=0;S<I;S++)b[S]=~T.g[S];return new o(b,~T.h).add(_)}t.abs=function(){return O(this)?k(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0,A=0;A<=I;A++){var x=S+(this.i(A)&65535)+(T.i(A)&65535),C=(x>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);S=C>>>16,x&=65535,C&=65535,b[A]=C<<16|x}return new o(b,b[b.length-1]&-2147483648?-1:0)};function V(T,I){return T.add(k(I))}t.j=function(T){if(M(this)||M(T))return g;if(O(this))return O(T)?k(this).j(k(T)):k(k(this).j(T));if(O(T))return k(this.j(k(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var I=this.g.length+T.g.length,b=[],S=0;S<2*I;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<T.g.length;A++){var x=this.i(S)>>>16,C=this.i(S)&65535,xn=T.i(A)>>>16,vi=T.i(A)&65535;b[2*S+2*A]+=C*vi,W(b,2*S+2*A),b[2*S+2*A+1]+=x*vi,W(b,2*S+2*A+1),b[2*S+2*A+1]+=C*xn,W(b,2*S+2*A+1),b[2*S+2*A+2]+=x*xn,W(b,2*S+2*A+2)}for(S=0;S<I;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=I;S<2*I;S++)b[S]=0;return new o(b,0)};function W(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function G(T,I){this.g=T,this.h=I}function Z(T,I){if(M(I))throw Error("division by zero");if(M(T))return new G(g,g);if(O(T))return I=Z(k(T),I),new G(k(I.g),k(I.h));if(O(I))return I=Z(T,k(I)),new G(k(I.g),I.h);if(30<T.g.length){if(O(T)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,S=I;0>=S.l(T);)b=Ae(b),S=Ae(S);var A=X(b,1),x=X(S,1);for(S=X(S,2),b=X(b,2);!M(S);){var C=x.add(S);0>=C.l(T)&&(A=A.add(b),x=C),S=X(S,1),b=X(b,1)}return I=V(T,A.j(I)),new G(A,I)}for(A=g;0<=T.l(I);){for(b=Math.max(1,Math.floor(T.m()/I.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),x=d(b),C=x.j(I);O(C)||0<C.l(T);)b-=S,x=d(b),C=x.j(I);M(x)&&(x=_),A=A.add(x),T=V(T,C)}return new G(A,T)}t.A=function(T){return Z(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)&T.i(S);return new o(b,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)|T.i(S);return new o(b,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)^T.i(S);return new o(b,this.h^T.h)};function Ae(T){for(var I=T.g.length+1,b=[],S=0;S<I;S++)b[S]=T.i(S)<<1|T.i(S-1)>>>31;return new o(b,T.h)}function X(T,I){var b=I>>5;I%=32;for(var S=T.g.length-b,A=[],x=0;x<S;x++)A[x]=0<I?T.i(x+b)>>>I|T.i(x+b+1)<<32-I:T.i(x+b);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A_=_x.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,gs=_x.Integer=o}).apply(typeof wx<"u"?wx:typeof self<"u"?self:typeof window<"u"?window:{});var Sp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ui={};var x_,R_,hc,M_,_l,Ap,N_,P_,k_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sp=="object"&&Sp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var R=c[v];if(!(R in m))break e;m=m[R]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,R={next:function(){if(!v&&m<c.length){var P=m++;return{value:f(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,v),c.apply(f,R)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function E(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,R,P){for(var U=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)U[Fe-2]=arguments[Fe];return f.prototype[R].apply(v,U)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let R=c.length||0,P=v.length||0;c.length=R+P;for(let U=0;U<P;U++)c[R+U]=v[U]}else c.push(v)}}class V{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function W(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var Ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function X(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function T(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let m,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(m in v)c[m]=v[m];for(let P=0;P<b.length;P++)m=b[P],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function x(c){a.setTimeout(()=>{throw c},0)}function C(){var c=_i;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class xn{constructor(){this.h=this.g=null}add(f,m){let v=vi.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var vi=new V(()=>new Lc,c=>c.reset());class Lc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let wi,Ar=!1,_i=new xn,sn=()=>{let c=a.Promise.resolve(void 0);wi=()=>{c.then(Ii)}};var Ii=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(m){x(m)}var f=vi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Ar=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var Ei=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function Rn(c,f){if(wt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Ae){e:{try{Z(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rn.aa.h.call(this)}}M(Rn,wt);var zl={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Zn="closure_listenable_"+(1e6*Math.random()|0),Vc=0;function bg(c,f,m,v,R){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=R,this.key=++Vc,this.da=this.fa=!1}function bi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,f,m,v,R){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=Uc(c,f,v,R);return-1<U?(f=c[U],m||(f.fa=!1)):(f=new bg(f,this.src,P,!!v,R),f.fa=m,c.push(f)),f};function Di(c,f){var m=f.type;if(m in c.g){var v=c.g[m],R=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=R)&&Array.prototype.splice.call(v,R,1),P&&(bi(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Uc(c,f,m,v){for(var R=0;R<c.length;++R){var P=c[R];if(!P.da&&P.listener==f&&P.capture==!!m&&P.ha==v)return R}return-1}var St="closure_lm_"+(1e6*Math.random()|0),on={};function Gl(c,f,m,v,R){if(v&&v.once)return jc(c,f,m,v,R);if(Array.isArray(f)){for(var P=0;P<f.length;P++)Gl(c,f[P],m,v,R);return null}return m=it(m),c&&c[Zn]?c.K(f,m,d(v)?!!v.capture:!!v,R):Ft(c,f,m,!1,v,R)}function Ft(c,f,m,v,R,P){if(!f)throw Error("Invalid event type");var U=d(R)?!!R.capture:!!R,Fe=Mn(c);if(Fe||(c[St]=Fe=new Ci(c)),m=Fe.add(f,m,v,U,P),m.proxy)return m;if(v=Bo(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)Ei||(R=U),R===void 0&&(R=!1),c.addEventListener(f.toString(),v,R);else if(c.attachEvent)c.attachEvent(an(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Bo(){function c(m){return f.call(c.src,c.listener,m)}let f=Jn;return c}function jc(c,f,m,v,R){if(Array.isArray(f)){for(var P=0;P<f.length;P++)jc(c,f[P],m,v,R);return null}return m=it(m),c&&c[Zn]?c.L(f,m,d(v)?!!v.capture:!!v,R):Ft(c,f,m,!0,v,R)}function Bc(c,f,m,v,R){if(Array.isArray(f))for(var P=0;P<f.length;P++)Bc(c,f[P],m,v,R);else v=d(v)?!!v.capture:!!v,m=it(m),c&&c[Zn]?(c=c.i,f=String(f).toString(),f in c.g&&(P=c.g[f],m=Uc(P,m,v,R),-1<m&&(bi(P[m]),Array.prototype.splice.call(P,m,1),P.length==0&&(delete c.g[f],c.h--)))):c&&(c=Mn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Uc(f,m,v,R)),(m=-1<c?f[c]:null)&&ve(m))}function ve(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Zn])Di(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(an(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Mn(f))?(Di(m,c),m.h==0&&(m.src=null,f[St]=null)):bi(c)}}}function an(c){return c in on?on[c]:on[c]="on"+c}function Jn(c,f){if(c.da)c=!0;else{f=new Rn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&ve(c),c=m.call(v,f)}return c}function Mn(c){return c=c[St],c instanceof Ci?c:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(c){return typeof c=="function"?c:(c[Ye]||(c[Ye]=function(f){return c.handleEvent(f)}),c[Ye])}function st(){Ot.call(this),this.i=new Ci(this),this.M=this,this.F=null}M(st,Ot),st.prototype[Zn]=!0,st.prototype.removeEventListener=function(c,f,m,v){Bc(this,c,f,m,v)};function _t(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new wt(f,c);else if(f instanceof wt)f.target=f.target||c;else{var R=f;f=new wt(v,c),S(f,R)}if(R=!0,m)for(var P=m.length-1;0<=P;P--){var U=f.g=m[P];R=Xn(U,v,!0,f)&&R}if(U=f.g=c,R=Xn(U,v,!0,f)&&R,R=Xn(U,v,!1,f)&&R,m)for(P=0;P<m.length;P++)U=f.g=m[P],R=Xn(U,v,!1,f)&&R}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)bi(m[v]);delete c.g[f],c.h--}}this.F=null},st.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},st.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Xn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var R=!0,P=0;P<f.length;++P){var U=f[P];if(U&&!U.da&&U.capture==m){var Fe=U.listener,ot=U.ha||U.src;U.fa&&Di(c.i,U),R=Fe.call(ot,v)!==!1&&R}}return R&&!v.defaultPrevented}function At(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Wl(c){c.g=At(()=>{c.g=null,c.i&&(c.i=!1,Wl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Kl extends Ot{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(c){Ot.call(this),this.h=c,this.g={}}M(Ti,Ot);var $o=[];function Ql(c){X(c.g,function(f,m){this.g.hasOwnProperty(m)&&ve(f)},c),c.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),Ql(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=a.JSON.stringify,Cg=a.JSON.parse,Dg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nn(){}Nn.prototype.h=null;function Yl(c){return c.h||(c.h=c.i())}function Zl(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $c(){wt.call(this,"d")}M($c,wt);function Hc(){wt.call(this,"c")}M(Hc,wt);var Pn={},Jl=null;function qo(){return Jl=Jl||new st}Pn.La="serverreachability";function er(c){wt.call(this,Pn.La,c)}M(er,wt);function Es(c){let f=qo();_t(f,new er(f))}Pn.STAT_EVENT="statevent";function Xl(c,f){wt.call(this,Pn.STAT_EVENT,c),this.stat=f}M(Xl,wt);function xt(c){let f=qo();_t(f,new Xl(f,c))}Pn.Ma="timingevent";function zo(c,f){wt.call(this,Pn.Ma,c),this.size=f}M(zo,wt);function bs(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Cs(){this.g=!0}Cs.prototype.xa=function(){this.g=!1};function Tg(c,f,m,v,R,P){c.info(function(){if(c.g)if(P)for(var U="",Fe=P.split("&"),ot=0;ot<Fe.length;ot++){var be=Fe[ot].split("=");if(1<be.length){var ht=be[0];be=be[1];var It=ht.split("_");U=2<=It.length&&It[1]=="type"?U+(ht+"="+be+"&"):U+(ht+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+f+`
`+m+`
`+U})}function Sg(c,f,m,v,R,P,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+f+`
`+m+`
`+P+" "+U})}function Si(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Ag(c,m)+(v?" "+v:"")})}function Le(c,f){c.info(function(){return"TIMEOUT: "+f})}Cs.prototype.info=function(){};function Ag(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var R=v[1];if(Array.isArray(R)&&!(1>R.length)){var P=R[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<R.length;U++)R[U]=""}}}}return Ho(m)}catch{return f}}var Go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ed={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qc;function Wo(){}M(Wo,Nn),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},qc=new Wo;function tr(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}var Ai={},Qo={};function xi(c,f,m){c.L=1,c.v=ea(Lt(f)),c.m=m,c.P=!0,qe(c,null)}function qe(c,f){c.F=Date.now(),Yo(c),c.A=Lt(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),hd(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Ko,c.g=iu(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Kl(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var R="readystatechange";Array.isArray(R)||(R&&($o[0]=R.toString()),R=$o);for(var P=0;P<R.length;P++){var U=Gl(m,R[P],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Es(),Tg(c.i,c.u,c.A,c.l,c.R,c.m)}tr.prototype.ca=function(c){c=c.target;let f=this.M;f&&On(c)==3?f.j():this.Y(c)},tr.prototype.Y=function(c){try{if(c==this.g)e:{let It=On(this.g);var f=this.g.Ba();let Nr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Id(this.g)))){this.J||It!=4||f==7||(f==8||0>=Nr?Es(3):Es(2)),Gc(this);var m=this.g.Z();this.X=m;t:if(td(this)){var v=Id(this.g);c="";var R=v.length,P=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),Ds(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(P&&f==R-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,Sg(this.i,this.u,this.A,this.l,this.R,It,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ot=this.g;if((Fe=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Fe)){var be=Fe;break t}}be=null}if(m=be)Si(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zo(this,m);else{this.o=!1,this.s=3,xt(12),xr(this),Ds(this);break e}}if(this.P){m=!0;let Gt;for(;!this.J&&this.C<U.length;)if(Gt=xg(this,U),Gt==Qo){It==4&&(this.s=4,xt(14),m=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ai){this.s=4,xt(15),Si(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else Si(this.i,this.l,Gt,null),Zo(this,Gt);if(td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||U.length!=0||this.h.h||(this.s=1,xt(16),m=!1),this.o=this.o&&m,!m)Si(this.i,this.l,U,"[Invalid Chunked Response]"),xr(this),Ds(this);else if(0<U.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Ps(ht),ht.M=!0,xt(11))}}else Si(this.i,this.l,U,null),Zo(this,U);It==4&&xr(this),this.o&&!this.J&&(It==4?eu(this.j,this):(this.o=!1,Yo(this)))}else Ug(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),xr(this),Ds(this)}}}catch{}finally{}};function td(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?Qo:(m=Number(f.substring(m,v)),isNaN(m)?Ai:(v+=1,v+m>f.length?Qo:(f=f.slice(v,v+m),c.C=v+m,f)))}tr.prototype.cancel=function(){this.J=!0,xr(this)};function Yo(c){c.S=Date.now()+c.I,zc(c,c.I)}function zc(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bs(_(c.ba,c),f)}function Gc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Le(this.i,this.A),this.L!=2&&(Es(),xt(17)),xr(this),this.s=2,Ds(this)):zc(this,this.S-c)};function Ds(c){c.j.G==0||c.J||eu(c.j,c)}function xr(c){Gc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Ql(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Zo(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Kc(m.h,c))){if(!c.K&&Kc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)sa(m),Ms(m);else break e;ia(m),xt(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=bs(_(m.Za,m),6e3));if(1>=rd(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ir(m,11)}else if((c.K||m.g==c)&&sa(m),!W(f))for(R=m.Da.g.parse(f),f=0;f<R.length;f++){let be=R[f];if(m.T=be[0],be=be[1],m.G==2)if(be[0]=="c"){m.K=be[1],m.ia=be[2];let ht=be[3];ht!=null&&(m.la=ht,m.j.info("VER="+m.la));let It=be[4];It!=null&&(m.Aa=It,m.j.info("SVER="+m.Aa));let Nr=be[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(v=1.5*Nr,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Gt=c.g;if(Gt){let oa=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var P=v.h;P.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Qc(P,P.h),P.h=null))}if(v.D){let ou=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;ou&&(v.ya=ou,Ve(v.I,v.D,ou))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var U=c;if(v.qa=ru(v,v.J?v.ia:null,v.W),U.K){id(v.h,U);var Fe=U,ot=v.L;ot&&(Fe.I=ot),Fe.B&&(Gc(Fe),Yo(Fe)),v.g=U}else Xc(v);0<m.i.length&&na(m)}else be[0]!="stop"&&be[0]!="close"||ir(m,7);else m.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?ir(m,7):Fi(m):be[0]!="noop"&&m.l&&m.l.ta(be),m.v=0)}}Es(4)}catch{}}var Rg=class{constructor(c,f){this.g=c,this.map=f}};function Wc(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rd(c){return c.h?1:c.g?c.g.size:0}function Kc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Qc(c,f){c.g?c.g.add(f):c.h=f}function id(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Wc.prototype.cancel=function(){if(this.i=sd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function sd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function Mg(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function od(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function ad(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=od(c),v=Mg(c),R=v.length,P=0;P<R;P++)f.call(void 0,v[P],m&&m[P],c)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ng(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),R=null;if(0<=v){var P=c[m].substring(0,v);R=c[m].substring(v+1)}else P=c[m];f(P,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Rr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rr){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,Jo(this,c.s),this.l=c.l;var f=c.i,m=new Mi;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Xo(this,m),this.m=c.m}else c&&(f=String(c).match(Yc))?(this.h=!1,Ts(this,f[1]||"",!0),this.o=Ss(f[2]||""),this.g=Ss(f[3]||"",!0),Jo(this,f[4]),this.l=Ss(f[5]||"",!0),Xo(this,f[6]||"",!0),this.m=Ss(f[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Rr.prototype.toString=function(){var c=[],f=this.j;f&&c.push(As(f,cd,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(As(f,cd,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(As(m,m.charAt(0)=="/"?Ri:kg,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",As(m,ud)),c.join("")};function Lt(c){return new Rr(c)}function Ts(c,f,m){c.j=m?Ss(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Jo(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Xo(c,f,m){f instanceof Mi?(c.i=f,Fg(c.i,c.h)):(m||(f=As(f,Og)),c.i=new Mi(f,c.h))}function Ve(c,f,m){c.i.set(f,m)}function ea(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ss(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,Pg),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cd=/[#\/\?@]/g,kg=/[#\?:]/g,Ri=/[#\?]/g,Og=/[#\?@]/g,ud=/#/g;function Mi(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ng(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Mi.prototype,t.add=function(c,f){nr(this),this.i=null,c=Ni(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function ld(c,f){nr(c),f=Ni(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function dd(c,f){return nr(c),f=Ni(c,f),c.g.has(f)}t.forEach=function(c,f){nr(this),this.g.forEach(function(m,v){m.forEach(function(R){c.call(f,R,v,this)},this)},this)},t.na=function(){nr(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let R=c[v];for(let P=0;P<R.length;P++)m.push(f[v])}return m},t.V=function(c){nr(this);let f=[];if(typeof c=="string")dd(this,c)&&(f=f.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return nr(this),this.i=null,c=Ni(this,c),dd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function hd(c,f,m){ld(c,f),0<m.length&&(c.i=null,c.g.set(Ni(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let P=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var R=P;U[v]!==""&&(R+="="+encodeURIComponent(String(U[v]))),c.push(R)}}return this.i=c.join("&")};function Ni(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Fg(c,f){f&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(m,v){var R=v.toLowerCase();v!=R&&(ld(this,v),hd(this,R,m))},c)),c.j=f}function Lg(c,f){let m=new Cs;if(a.Image){let v=new Image;v.onload=E(rr,m,"TestLoadImage: loaded",!0,f,v),v.onerror=E(rr,m,"TestLoadImage: error",!1,f,v),v.onabort=E(rr,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(rr,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Pi(c,f){let m=new Cs,v=new AbortController,R=setTimeout(()=>{v.abort(),rr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(R),P.ok?rr(m,"TestPingServer: ok",!0,f):rr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(R),rr(m,"TestPingServer: error",!1,f)})}function rr(c,f,m,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(m)}catch{}}function Vg(){this.g=new Dg}function fd(c,f,m){let v=m||"";try{ad(c,function(R,P){let U=R;d(R)&&(U=Ho(R)),f.push(v+P+"="+encodeURIComponent(U))})}catch(R){throw f.push(v+"type="+encodeURIComponent("_badmap")),R}}function xs(c){this.l=c.Ub||null,this.j=c.eb||!1}M(xs,Nn),xs.prototype.g=function(){return new cn(this.l,this.j)},xs.prototype.i=function(c){return function(){return c}}({});function cn(c,f){st.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(cn,st),t=cn.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,kn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pd(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pd(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?ki(this):kn(this),this.readyState==3&&pd(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ki(this))},t.Qa=function(c){this.g&&(this.response=c,ki(this))},t.ga=function(){this.g&&ki(this)};function ki(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kn(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gd(c){let f="";return X(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Zc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=gd(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ve(c,f,m))}function ze(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ze,st);var md=/^https?$/i,Oi=["POST","PUT"];t=ze.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qc.g(),this.v=this.o?Yl(this.o):Yl(qc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){yd(this,P);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)m.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())m.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(P=>P.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Oi,f,void 0))||v||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of m)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_d(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){yd(this,P)}};function yd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,vd(c),ta(c)}function vd(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},t.bb=function(){wd(this)};function wd(c){if(c.h&&typeof o<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)At(c.Ea,0,c);else if(_t(c,"readystatechange"),On(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=U===0){var R=String(c.D).match(Yc)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),v=!md.test(R?R.toLowerCase():"")}m=v}if(m)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var P=2<On(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",vd(c)}}finally{ta(c)}}}}function ta(c,f){if(c.g){_d(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||_t(c,"ready");try{m.onreadystatechange=v}catch{}}}function _d(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Cg(f)}};function Id(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ug(c){let f={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(W(c[v]))continue;var m=A(c[v]);let R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let P=f[R]||[];f[R]=P,P.push(m)}T(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Ed(c){this.Aa=0,this.i=[],this.j=new Cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wc(c&&c.concurrentRequestLimit),this.Da=new Vg,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ed.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){xt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=ru(this,null,this.W),na(this)};function Fi(c){if(bd(c),c.G==3){var f=c.U++,m=Lt(c.I);if(Ve(m,"SID",c.K),Ve(m,"RID",f),Ve(m,"TYPE","terminate"),Ns(c,m),f=new tr(c,c.j,f),f.L=2,f.v=ea(Lt(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=iu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Yo(f)}nu(c)}function Ms(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function bd(c){Ms(c),c.u&&(a.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function na(c){if(!nd(c.h)&&!c.s){c.s=!0;var f=c.Ga;wi||sn(),Ar||(wi(),Ar=!0),_i.add(f,c),c.B=0}}function jg(c,f){return rd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bs(_(c.Ga,c,f),tu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new tr(this,this.j,c),P=this.o;if(this.S&&(P?(P=I(P),S(P,this.S)):P=this.S),this.m!==null||this.O||(R.H=P,P=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=ra(this,R,f),m=Lt(this.I),Ve(m,"RID",c),Ve(m,"CVER",22),this.D&&Ve(m,"X-HTTP-Session-Id",this.D),Ns(this,m),P&&(this.O?f="headers="+encodeURIComponent(String(gd(P)))+"&"+f:this.m&&Zc(m,this.m,P)),Qc(this.h,R),this.Ua&&Ve(m,"TYPE","init"),this.P?(Ve(m,"$req",f),Ve(m,"SID","null"),R.T=!0,xi(R,m,null)):xi(R,m,f),this.G=2}}else this.G==3&&(c?Jc(this,c):this.i.length==0||nd(this.h)||Jc(this))};function Jc(c,f){var m;f?m=f.l:m=c.U++;let v=Lt(c.I);Ve(v,"SID",c.K),Ve(v,"RID",m),Ve(v,"AID",c.T),Ns(c,v),c.m&&c.o&&Zc(v,c.m,c.o),m=new tr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=ra(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qc(c.h,m),xi(m,v,f)}function Ns(c,f){c.H&&X(c.H,function(m,v){Ve(f,v,m)}),c.l&&ad({},function(m,v){Ve(f,v,m)})}function ra(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var R=c.i;let P=-1;for(;;){let U=["count="+m];P==-1?0<m?(P=R[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let Fe=!0;for(let ot=0;ot<m;ot++){let be=R[ot].g,ht=R[ot].map;if(be-=P,0>be)P=Math.max(0,R[ot].g-100),Fe=!1;else try{fd(ht,U,"req"+be+"_")}catch{v&&v(ht)}}if(Fe){v=U.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function Xc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;wi||sn(),Ar||(wi(),Ar=!0),_i.add(f,c),c.v=0}}function ia(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bs(_(c.Fa,c),tu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ks(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bs(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Ms(this),ks(this))};function Ps(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ks(c){c.g=new tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Lt(c.qa);Ve(f,"RID","rpc"),Ve(f,"SID",c.K),Ve(f,"AID",c.T),Ve(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(f,"TO",c.ja),Ve(f,"TYPE","xmlhttp"),Ns(c,f),c.m&&c.o&&Zc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=ea(Lt(f)),m.m=null,m.P=!0,qe(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ms(this),ia(this),xt(19))};function sa(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function eu(c,f){var m=null;if(c.g==f){sa(c),Ps(c),c.g=null;var v=2}else if(Kc(c.h,f))m=f.D,id(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var R=c.B;v=qo(),_t(v,new zo(v,m)),na(c)}else Xc(c);else if(R=f.s,R==3||R==0&&0<f.X||!(v==1&&jg(c,f)||v==2&&ia(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),R){case 1:ir(c,5);break;case 4:ir(c,10);break;case 3:ir(c,6);break;default:ir(c,2)}}}function tu(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function ir(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let R=!v;v=new Rr(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ts(v,"https"),ea(v),R?Lg(v.toString(),m):Pi(v.toString(),m)}else xt(2);c.G=0,c.l&&c.l.sa(f),nu(c),bd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function nu(c){if(c.G=0,c.ka=[],c.l){let f=sd(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function ru(c,f,m){var v=m instanceof Rr?Lt(m):new Rr(m);if(v.g!="")f&&(v.g=f+"."+v.g),Jo(v,v.s);else{var R=a.location;v=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var P=new Rr(null);v&&Ts(P,v),f&&(P.g=f),R&&Jo(P,R),m&&(P.l=m),v=P}return m=c.D,f=c.ya,m&&f&&Ve(v,m,f),Ve(v,"VER",c.la),Ns(c,v),v}function iu(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new ze(new xs({eb:m})):new ze(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}t=su.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Os(){}Os.prototype.g=function(c,f){return new Vt(c,f)};function Vt(c,f){st.call(this),this.g=new Ed(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!W(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!W(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Li(this)}M(Vt,st),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Fi(this.g)},Vt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Ho(c),c=m);f.i.push(new Rg(f.Ya++,c)),f.G==3&&na(f)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Fi(this.g),delete this.g,Vt.aa.N.call(this)};function Mr(c){$c.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Mr,$c);function Cd(){Hc.call(this),this.status=1}M(Cd,Hc);function Li(c){this.g=c}M(Li,su),Li.prototype.ua=function(){_t(this.g,"a")},Li.prototype.ta=function(c){_t(this.g,new Mr(c))},Li.prototype.sa=function(c){_t(this.g,new Cd)},Li.prototype.ra=function(){_t(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,k_=ui.createWebChannelTransport=function(){return new Os},P_=ui.getStatEventTarget=function(){return qo()},N_=ui.Event=Pn,Ap=ui.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,_l=ui.ErrorCode=Go,ed.COMPLETE="complete",M_=ui.EventType=ed,Zl.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",st.prototype.listen=st.prototype.K,hc=ui.WebChannel=Zl,R_=ui.FetchXmlHttpFactory=xs,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,x_=ui.XhrIo=ze}).apply(typeof Sp<"u"?Sp:typeof self<"u"?self:typeof window<"u"?window:{});var Ix="@firebase/firestore";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var Pc="10.13.1";var ko=new os("@firebase/firestore");function Il(){return ko.logLevel}function q(t,...e){if(ko.logLevel<=Ie.DEBUG){let n=e.map(yE);ko.debug(`Firestore (${Pc}): ${t}`,...n)}}function di(t,...e){if(ko.logLevel<=Ie.ERROR){let n=e.map(yE);ko.error(`Firestore (${Pc}): ${t}`,...n)}}function wc(t,...e){if(ko.logLevel<=Ie.WARN){let n=e.map(yE);ko.warn(`Firestore (${Pc}): ${t}`,...n)}}function yE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function re(t="Unexpected state"){let e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function Be(t,e){t||re()}function ae(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var li=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Pp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},U_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}},j_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},B_=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new Pp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Tt(e)}},$_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},H_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},q_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},z_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function QH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=QH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function xe(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var kt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new kt(0,0))}static max(){return new t(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Op=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends Op{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},YH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yn=class t extends Op{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return YH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var G_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};G_.UNKNOWN_ID=-1;function ZH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Oo(i,te.empty(),e)}function JH(t){return new Oo(t.readTime,t.key,-1)}var Oo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(le.min(),te.empty(),-1)}static max(){return new t(le.max(),te.empty(),-1)}};function XH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}var eq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",W_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ul(t){return D(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==eq)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function tq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}var Xx=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function lg(t){return t==null}function Al(t){return t===0&&1/t==-1/0}function nq(t){return typeof t=="number"&&Number.isInteger(t)&&!Al(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var rq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KQ=[...rq,"documentOverlays"],iq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sq=iq,oq=[...sq,"indexConfiguration","indexState","indexEntries"];var QQ=[...oq,"globals"];function Ex(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}},mc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Er=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();let e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}};Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qt=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(e){return new Fp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Fp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ir=class t{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new t([])}unionWith(e){let n=new qt(yn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Lp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Lp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var aq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(Be(!!t),typeof t=="string"){let e=0,n=aq.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}function vE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wE(t){let e=t.mapValue.fields.__previous_value__;return vE(e)?wE(e):e}function xl(t){let e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}var K_=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Vp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var xp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vE(t)?4:nR(t)?9007199254740991:tR(t)?10:11:re()}function Dr(t,e){if(t===e)return!0;let n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=hi(i.timestampValue),a=hi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ys(i.bytesValue).isEqual(ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ke(i.doubleValue),a=Ke(s.doubleValue);return o===a?Al(o)===Al(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ex(o)!==Ex(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Dr(o[u],a[u])))return!1;return!0}(t,e);default:return re()}}function Rl(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Ic(t,e){if(t===e)return 0;let n=Fo(t),r=Fo(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ke(s.integerValue||s.doubleValue),u=Ke(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return bx(t.timestampValue,e.timestampValue);case 4:return bx(xl(t),xl(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ys(s),u=ys(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=xe(a[d],u[d]);if(p!==0)return p}return xe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=xe(Ke(s.latitude),Ke(o.latitude));return a!==0?a:xe(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},_=o.fields||{},E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=xe(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:Cx(E,M)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xp.mapValue&&o===xp.mapValue)return 0;if(s===xp.mapValue)return 1;if(o===xp.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=xe(u[g],p[g]);if(_!==0)return _;let E=Ic(a[u[g]],d[p[g]]);if(E!==0)return E}return xe(u.length,p.length)}(t.mapValue,e.mapValue);default:throw re()}}function bx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);let n=hi(t),r=hi(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Cx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ic(n[i],r[i]);if(s)return s}return xe(n.length,r.length)}function Ec(t){return Q_(t)}function Q_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Q_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Q_(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function Y_(t){return!!t&&"integerValue"in t}function _E(t){return!!t&&"arrayValue"in t}function Dx(t){return!!t&&"nullValue"in t}function Tx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mp(t){return!!t&&"mapValue"in t}function tR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return kc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Mp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){kc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(bl(this.value))}};function rR(t){let e=[];return kc(t.fields,(n,r)=>{let i=new yn([n]);if(Mp(r)){let s=rR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ir(e)}var Yn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,le.min(),le.min(),le.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,le.min(),le.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,le.min(),le.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bc=class{constructor(e,n){this.position=e,this.inclusive=n}};function Sx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ic(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ax(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}var Cc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function cq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Up=class{},vt=class t extends Up{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J_(e,n,r):n==="array-contains"?new tI(e,r):n==="in"?new nI(e,r):n==="not-in"?new rI(e,r):n==="array-contains-any"?new iI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X_(e,r):new eI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ic(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(Ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Tr=class t extends Up{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return iR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function iR(t){return t.op==="and"}function sR(t){return uq(t)&&iR(t)}function uq(t){for(let e of t.filters)if(e instanceof Tr)return!1;return!0}function Z_(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Ec(t.value);if(sR(t))return t.filters.map(e=>Z_(e)).join(",");{let e=t.filters.map(n=>Z_(n)).join(",");return`${t.op}(${e})`}}function oR(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof Tr?function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oR(o,i.filters[a]),!0):!1}(t,e):void re()}function aR(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ec(n.value)}`}(t):t instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(aR).join(" ,")+"}"}(t):"Filter"}var J_=class extends vt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},X_=class extends vt{constructor(e,n){super(e,"in",n),this.keys=cR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},eI=class extends vt{constructor(e,n){super(e,"not-in",n),this.keys=cR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var tI=class extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return _E(n)&&Rl(n.arrayValue,this.value)}},nI=class extends vt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}},rI=class extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}},iI=class extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!_E(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}};var sI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function xx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sI(t,e,n,r,i,s,o)}function IE(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ec(r)).join(",")),e.ue=n}return e.ue}function EE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ax(t.startAt,e.startAt)&&Ax(t.endAt,e.endAt)}function oI(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Dc=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function lq(t,e,n,r,i,s,o,a){return new Dc(t,e,n,r,i,s,o,a)}function bE(t){return new Dc(t)}function Rx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dq(t){return t.collectionGroup!==null}function Cl(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qt(yn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cc(s,r))}),n.has(yn.keyField().canonicalString())||e.ce.push(new Cc(yn.keyField(),r))}return e.ce}function br(t){let e=ae(t);return e.le||(e.le=hq(e,Cl(t))),e.le}function hq(t,e){if(t.limitType==="F")return xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Cc(i.field,s)});let n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return xx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function aI(t,e,n){return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dg(t,e){return EE(br(t),br(e))&&t.limitType===e.limitType}function uR(t){return`${IE(br(t))}|lt:${t.limitType}`}function fc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aR(i)).join(", ")}]`),lg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ec(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ec(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function hg(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Cl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=Sx(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Cl(r),i)||r.endAt&&!function(o,a,u){let d=Sx(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Cl(r),i))}(t,e)}function fq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lR(t){return(e,n)=>{let r=!1;for(let i of Cl(t)){let s=pq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pq(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?Ic(u,d):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}var vs=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}};var gq=new et(te.comparator);function fi(){return gq}var dR=new et(te.comparator);function El(...t){let e=dR;for(let n of t)e=e.insert(n.key,n);return e}function hR(t){let e=dR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return Dl()}function fR(){return Dl()}function Dl(){return new vs(t=>t.toString(),(t,e)=>t.isEqual(e))}var mq=new et(te.comparator),yq=new qt(te.comparator);function Ee(...t){let e=yq;for(let n of t)e=e.add(n);return e}var vq=new qt(xe);function wq(){return vq}function CE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function pR(t){return{integerValue:""+t}}function _q(t,e){return nq(e)?pR(e):CE(t,e)}var Tc=class{constructor(){this._=void 0}};function Iq(t,e,n){return t instanceof Sc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vE(s)&&(s=wE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Lo?mR(t,e):t instanceof Vo?yR(t,e):function(i,s){let o=gR(i,s),a=Mx(o)+Mx(i.Pe);return Y_(o)&&Y_(i.Pe)?pR(a):CE(i.serializer,a)}(t,e)}function Eq(t,e,n){return t instanceof Lo?mR(t,e):t instanceof Vo?yR(t,e):n}function gR(t,e){return t instanceof Ac?function(r){return Y_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Sc=class extends Tc{},Lo=class extends Tc{constructor(e){super(),this.elements=e}};function mR(t,e){let n=vR(e);for(let r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Vo=class extends Tc{constructor(e){super(),this.elements=e}};function yR(t,e){let n=vR(e);for(let r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}var Ac=class extends Tc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Mx(t){return Ke(t.integerValue||t.doubleValue)}function vR(t){return _E(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lo&&i instanceof Lo||r instanceof Vo&&i instanceof Vo?_c(r.elements,i.elements,Dr):r instanceof Ac&&i instanceof Ac?Dr(r.Pe,i.Pe):r instanceof Sc&&i instanceof Sc}(t.transform,e.transform)}var cI=class{constructor(e,n){this.version=e,this.transformResults=n}},Po=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var xc=class{};function wR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jp(t.key,Po.none()):new Uo(t.key,t.data,Po.none());{let n=t.data,r=Qn.empty(),i=new qt(yn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pi(t.key,r,new Ir(i.toArray()),Po.none())}}function Cq(t,e,n){t instanceof Uo?function(i,s,o){let a=i.value.clone(),u=Px(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(i,s,o){if(!Np(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Px(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(_R(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,r){return t instanceof Uo?function(s,o,a,u){if(!Np(s.precondition,o))return a;let d=s.value.clone(),p=kx(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(s,o,a,u){if(!Np(s.precondition,o))return a;let d=kx(s.fieldTransforms,u,o),p=o.data;return p.setAll(_R(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Np(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Dq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=gR(r.transform,i||null);s!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,s))}return n||null}function Nx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(s,o)=>bq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Uo=class extends xc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pi=class extends xc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _R(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Px(t,e,n){let r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Eq(o,a,n[i]))}return r}function kx(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Iq(s,o,e))}return r}var jp=class extends xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uI=class extends xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Cq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=fR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=wR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>Nx(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>Nx(n,r))}},dI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length);let i=function(){return mq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var hI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var lt,De;function Tq(t){switch(t){default:return re();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function IR(t){if(t===void 0)return di("GRPC error has no .code"),F.UNKNOWN;switch(t){case lt.OK:return F.OK;case lt.CANCELLED:return F.CANCELLED;case lt.UNKNOWN:return F.UNKNOWN;case lt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case lt.INTERNAL:return F.INTERNAL;case lt.UNAVAILABLE:return F.UNAVAILABLE;case lt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case lt.NOT_FOUND:return F.NOT_FOUND;case lt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case lt.ABORTED:return F.ABORTED;case lt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case lt.DATA_LOSS:return F.DATA_LOSS;default:return re()}}(De=lt||(lt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var Ox=null;function Sq(){return new TextEncoder}var Aq=new gs([4294967295,4294967295],0);function Fx(t){let e=Sq().encode(t),n=new A_;return n.update(e),new Uint8Array(n.digest())}function Lx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gs([n,r],0),new gs([i,s],0)]}var pI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=gs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(gs.fromNumber(r)));return i.compare(Aq)===1&&(i=new gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Fx(e),[r,i]=Lx(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=Fx(e),[r,i]=Lx(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Bp=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(le.min(),i,new et(xe),fi(),Ee())}},Ml=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ee(),Ee(),Ee())}};var yc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},$p=class{constructor(e,n){this.targetId=e,this.me=n}},Hp=class{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},qp=class{constructor(){this.fe=0,this.ge=Ux(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Ml(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ux()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},gI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=Vx(),this.Qe=new et(xe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(oI(s))if(r===0){let o=new te(s.path);this.Ue(n,o,Yn.newNoDocument(o,le.min()))}else Be(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}Ox?.et(function(p,g,_,E,M){var O,k,V,W,G,Z;let Ae={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},X=g.unchangedNames;return X&&(Ae.bloomFilter={applied:M===0,hashCount:(O=X?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(W=(V=(k=X?.bits)===null||k===void 0?void 0:k.bitmap)===null||V===void 0?void 0:V.length)!==null&&W!==void 0?W:0,padding:(Z=(G=X?.bits)===null||G===void 0?void 0:G.padding)!==null&&Z!==void 0?Z:0,mightContain:T=>{var I;return(I=E?.mightContain(T))!==null&&I!==void 0&&I}}),Ae}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ys(r).toUint8Array()}catch(u){if(u instanceof Lp)return wc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pI(o,i,s)}catch(u){return wc(u instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&oI(a.target)){let u=new te(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Yn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ee();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Bp(e,n,this.Qe,this.ke,r);return this.ke=fi(),this.qe=Vx(),this.Qe=new et(xe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new qp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qt(xe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Vx(){return new et(te.comparator)}function Ux(){return new et(te.comparator)}var xq={asc:"ASCENDING",desc:"DESCENDING"},Rq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mq={and:"AND",or:"OR"},mI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yI(t,e){return t.useProto3Json||lg(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ER(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nq(t,e){return zp(t,e.toTimestamp())}function Cr(t){return Be(!!t),le.fromTimestamp(function(n){let r=hi(n);return new kt(r.seconds,r.nanos)}(t))}function DE(t,e){return vI(t,e).canonicalString()}function vI(t,e){let n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bR(t){let e=Xe.fromString(t);return Be(AR(e)),e}function wI(t,e){return DE(t.databaseId,e.path)}function O_(t,e){let n=bR(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(DR(n))}function CR(t,e){return DE(t.databaseId,e)}function Pq(t){let e=bR(t);return e.length===4?Xe.emptyPath():DR(e)}function _I(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DR(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jx(t,e,n){return{name:wI(t,e),fields:n.value.mapValue.fields}}function kq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Be(p===void 0||typeof p=="string"),zt.fromBase64String(p||"")):(Be(p===void 0||p instanceof Buffer||p instanceof Uint8Array),zt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?F.UNKNOWN:IR(d.code);return new Y(p,d.message||"")}(o);n=new Hp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=O_(t,r.document.name),s=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):le.min(),a=new Qn({mapValue:{fields:r.document.fields}}),u=Yn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new yc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=O_(t,r.document),s=r.readTime?Cr(r.readTime):le.min(),o=Yn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=O_(t,r.document),s=r.removedTargetIds||[];n=new yc([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new fI(i,s),a=r.targetId;n=new $p(a,o)}}return n}function Oq(t,e){let n;if(e instanceof Uo)n={update:jx(t,e.key,e.value)};else if(e instanceof jp)n={delete:wI(t,e.key)};else if(e instanceof pi)n={update:jx(t,e.key,e.data),updateMask:qq(e.fieldMask)};else{if(!(e instanceof uI))return re();n={verify:wI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Nq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function Fq(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Cr(i.updateTime):Cr(s);return o.isEqual(le.min())&&(o=Cr(s)),new cI(o,i.transformResults||[])}(n,e))):[]}function Lq(t,e){return{documents:[CR(t,e.path)]}}function Vq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CR(t,i);let s=function(d){if(d.length!==0)return SR(Tr.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:pc(_.field),direction:Bq(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=yI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function Uq(t){let e=Pq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Be(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){let _=TR(g);return _ instanceof Tr&&sR(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(M){return new Cc(gc(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,lg(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,E=g.values||[];return new bc(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,E=g.values||[];return new bc(E,_)}(n.endAt)),lq(e,i,o,s,a,"F",u,d)}function jq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=gc(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=gc(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=gc(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=gc(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(gc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(r=>TR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function Bq(t){return xq[t]}function $q(t){return Rq[t]}function Hq(t){return Mq[t]}function pc(t){return{fieldPath:t.canonicalString()}}function gc(t){return yn.fromServerFormat(t.fieldPath)}function SR(t){return t instanceof vt?function(n){if(n.op==="=="){if(Tx(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(Dx(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tx(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(Dx(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:$q(n.op),value:n.value}}}(t):t instanceof Tr?function(n){let r=n.getFilters().map(i=>SR(i));return r.length===1?r[0]:{compositeFilter:{op:Hq(n.op),filters:r}}}(t):re()}function qq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Nl=class t{constructor(e,n,r,i,s=le.min(),o=le.min(),a=zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var II=class{constructor(e){this.ct=e}};function zq(t){let e=Uq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?aI(e,e.limit,"L"):e}var Gp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ke(e.integerValue));else if("doubleValue"in e){let r=Ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Al(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=hi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ys(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?nR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):tR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):re()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ke(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Gp.vt=new Gp;var EI=class{constructor(){this.un=new bI}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Oo.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},bI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(Xe.comparator)).toArray()}};var ZQ=new Uint8Array(0);var _r=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);var Pl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var CI=class{constructor(){this.changes=new vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var DI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var TI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tl(r.mutation,i,Ir.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){let i=Ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=El();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fi(),o=Dl(),a=function(){return Dl()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof pi)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Tl(p.mutation,d,p.mutation.getFieldMask(),kt.now())):o.set(d.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new DI(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Dl(),i=new et((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||Ir.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=fR();p.forEach(_=>{if(!s.has(_)){let E=wR(n.get(_),r.get(_));E!==null&&g.set(_,E),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Ro()),a=-1,u=s;return o.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Ee())).next(p=>({batchId:a,changes:hR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=El();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=El();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,u=>{let d=function(g,_){return new Dc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,Yn.newInvalidDocument(p)))});let a=El();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&Tl(p.mutation,d,Ir.empty(),kt.now()),hg(n,d)&&(a=a.insert(u,d))}),a})}};var SI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:zq(i.bundledQuery),readTime:Cr(i.readTime)}}(n)),L.resolve()}};var AI=class{constructor(){this.overlays=new et(te.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ro();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Ro(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Ro(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Ro(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hI(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ee(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var xI=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var kl=class{constructor(){this.Tr=new qt(dt.Er),this.dr=new qt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new Xe([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Xe([])),r=new dt(n,e),i=new dt(n,e+1),s=Ee();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||te.comparator(e.key,n.key)}};var RI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qt(dt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new lI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(xe);return n.forEach(i=>{let s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new dt(new te(s),0),a=new qt(xe);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new dt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var MI=class{constructor(e){this.Mr=e,this.docs=function(){return new et(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi(),o=n.path,a=new te(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||XH(JH(p),r)<=0||(i.has(p.key)||hg(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NI(this)}getSize(e){return L.resolve(this.size)}},NI=class extends CI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var PI=class{constructor(e){this.persistence=e,this.Nr=new vs(n=>IE(n),EE),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kl,this.targetCount=0,this.kr=Pl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Pl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var kI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xx(0),this.Kr=!1,this.Kr=!0,this.$r=new xI,this.referenceDelegate=e(this),this.Ur=new PI(this),this.indexManager=new EI,this.remoteDocumentCache=function(i){return new MI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new II(n),this.Gr=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new RI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new OI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},OI=class extends W_{constructor(e){super(),this.currentSequenceNumber=e}},FI=class t{constructor(e){this.persistence=e,this.Jr=new kl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var LI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var VI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var UI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DS()?8:tq(Dt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new VI;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Il()<=Ie.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",fc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Il()<=Ie.DEBUG&&q("QueryEngine","Query:",fc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Il()<=Ie.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",fc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):L.resolve())}Yi(e,n){if(Rx(n))return L.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=aI(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ee(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,aI(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return Rx(n)||i.isEqual(le.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?L.resolve(null):(Il()<=Ie.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fc(n)),this.rs(e,o,n,ZH(i,-1)).next(a=>a))})}ts(e,n){let r=new qt(lR(e));return n.forEach((i,s)=>{hg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Il()<=Ie.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",fc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var jI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(xe),this._s=new vs(s=>IE(s),EE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Gq(t,e,n,r){return new jI(t,e,n,r)}function xR(t,e){return D(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=Ee();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function Wq(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),E=L.resolve();return _.forEach(M=>{E=E.next(()=>p.getEntry(u,M)).next(O=>{let k=d.docVersions.get(M);Be(k!==null),O.version.compareTo(k)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RR(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Kq(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let E=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(zt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(g,E),function(O,k,V){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,E,p)&&a.push(n.Ur.updateTargetData(s,E))});let u=fi(),d=Ee();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(Qq(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(le.min())){let p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function Qq(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fi();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Yq(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zq(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Nl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function BI(t,e,n){return D(this,null,function*(){let r=ae(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!jl(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Bx(t,e,n){let r=ae(t),i=le.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=ae(u),_=g._s.get(p);return _!==void 0?L.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:Ee())).next(a=>(Jq(r,fq(e),a),{documents:a,Ts:s})))}function Jq(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Wp=class{constructor(){this.activeTargetIds=wq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $I=class{constructor(){this.so=new Wp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var HI=class{_o(e){}shutdown(){}};var Kp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rp=null;function F_(){return Rp===null?Rp=function(){return 268435456+Math.round(2147483648*Math.random())}():Rp++,"0x"+Rp.toString(16)}var Xq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var qI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ht="WebChannelConnection",zI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=F_(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(q("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw wc("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Xq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=F_();return new Promise((o,a)=>{let u=new x_;u.setWithCredentials(!0),u.listenOnce(M_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _l.NO_ERROR:let p=u.getResponseJson();q(Ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case _l.TIMEOUT:q(Ht,`RPC '${e}' ${s} timed out`),a(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:let g=u.getStatus();if(q(Ht,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let M=function(k){let V=k.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(V)>=0?V:F.UNKNOWN}(E.status);a(new Y(M,E.message))}else a(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(F.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{q(Ht,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);q(Ht,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=F_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=k_(),a=P_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new R_({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");q(Ht,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),_=!1,E=!1,M=new qI({Io:k=>{E?q(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(q(Ht,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),q(Ht,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),O=(k,V,W)=>{k.listen(V,G=>{try{W(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return O(g,hc.EventType.OPEN,()=>{E||(q(Ht,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(g,hc.EventType.CLOSE,()=>{E||(E=!0,q(Ht,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(g,hc.EventType.ERROR,k=>{E||(E=!0,wc(Ht,`RPC '${e}' stream ${i} transport errored:`,k),M.So(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),O(g,hc.EventType.MESSAGE,k=>{var V;if(!E){let W=k.data[0];Be(!!W);let G=W,Z=G.error||((V=G[0])===null||V===void 0?void 0:V.error);if(Z){q(Ht,`RPC '${e}' stream ${i} received error:`,Z);let Ae=Z.status,X=function(b){let S=lt[b];if(S!==void 0)return IR(S)}(Ae),T=Z.message;X===void 0&&(X=F.INTERNAL,T="Unknown error status: "+Ae+" with message "+Z.message),E=!0,M.So(new Y(X,T)),g.close()}else q(Ht,`RPC '${e}' stream ${i} received:`,W),M.bo(W)}}),O(a,N_.STAT_EVENT,k=>{k.stat===Ap.PROXY?q(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Ap.NOPROXY&&q(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function L_(){return typeof document<"u"?document:null}function fg(t){return new mI(t,!0)}var Qp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Yp=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Y(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},GI=class extends Yp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=kq(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Cr(o.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=_I(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=oI(u)?{documents:Lq(s,u)}:{query:Vq(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ER(s,o.resumeToken);let d=yI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=zp(s,o.snapshotVersion.toTimestamp());let d=yI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=jq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=_I(this.serializer),n.removeTarget=e,this.a_(n)}},WI=class extends Yp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Fq(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=_I(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Oq(this.serializer,r))};this.a_(n)}};var KI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,vI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,vI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},QI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(di(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var YI=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>D(this,null,function*(){jo(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=ae(u);d.L_.add(4),yield Bl(d),d.q_.set("Unknown"),d.L_.delete(4),yield pg(d)})}(this))}))}),this.q_=new QI(r,i)}};function pg(t){return D(this,null,function*(){if(jo(t))for(let e of t.B_)yield e(!0)})}function Bl(t){return D(this,null,function*(){for(let e of t.B_)yield e(!1)})}function MR(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xE(n)?AE(n):Oc(n).r_()&&SE(n,e))}function TE(t,e){let n=ae(t),r=Oc(n);n.N_.delete(e),r.r_()&&NR(n,e),n.N_.size===0&&(r.r_()?r.o_():jo(n)&&n.q_.set("Unknown"))}function SE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).A_(e)}function NR(t,e){t.Q_.xe(e),Oc(t).R_(e)}function AE(t){t.Q_=new gI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.q_.v_()}function xE(t){return jo(t)&&!Oc(t).n_()&&t.N_.size>0}function jo(t){return ae(t).L_.size===0}function PR(t){t.Q_=void 0}function ez(t){return D(this,null,function*(){t.q_.set("Online")})}function tz(t){return D(this,null,function*(){t.N_.forEach((e,n)=>{SE(t,e)})})}function nz(t,e){return D(this,null,function*(){PR(t),xE(t)?(t.q_.M_(e),AE(t)):t.q_.set("Unknown")})}function rz(t,e,n){return D(this,null,function*(){if(t.q_.set("Online"),e instanceof Hp&&e.state===2&&e.cause)try{yield function(i,s){return D(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zp(t,r)}else if(e instanceof yc?t.Q_.Ke(e):e instanceof $p?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{let r=yield RR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(zt.EMPTY_BYTE_STRING,p.snapshotVersion)),NR(s,u);let g=new Nl(p.target,u,d,p.sequenceNumber);SE(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield Zp(t,r)}})}function Zp(t,e,n){return D(this,null,function*(){if(!jl(e))throw e;t.L_.add(1),yield Bl(t),t.q_.set("Offline"),n||(n=()=>RR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield pg(t)}))})}function kR(t,e){return e().catch(n=>Zp(t,n,e))}function gg(t){return D(this,null,function*(){let e=ae(t),n=ws(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iz(e);)try{let i=yield Yq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sz(e,i)}catch(i){yield Zp(e,i)}OR(e)&&FR(e)})}function iz(t){return jo(t)&&t.O_.length<10}function sz(t,e){t.O_.push(e);let n=ws(t);n.r_()&&n.V_&&n.m_(e.mutations)}function OR(t){return jo(t)&&!ws(t).n_()&&t.O_.length>0}function FR(t){ws(t).start()}function oz(t){return D(this,null,function*(){ws(t).p_()})}function az(t){return D(this,null,function*(){let e=ws(t);for(let n of t.O_)e.m_(n.mutations)})}function cz(t,e,n){return D(this,null,function*(){let r=t.O_.shift(),i=dI.from(r,e,n);yield kR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gg(t)})}function uz(t,e){return D(this,null,function*(){e&&ws(t).V_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return Tq(o)&&o!==F.ABORTED}(i.code)){let s=r.O_.shift();ws(r).s_(),yield kR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield gg(r)}})}(t,e)),OR(t)&&FR(t)})}function $x(t,e){return D(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=jo(n);n.L_.add(3),yield Bl(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield pg(n)})}function lz(t,e){return D(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield pg(n)):e||(n.L_.add(2),yield Bl(n),n.q_.set("Unknown"))})}function Oc(t){return t.K_||(t.K_=function(n,r,i){let s=ae(n);return s.w_(),new GI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ez.bind(null,t),Ro:tz.bind(null,t),mo:nz.bind(null,t),d_:rz.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.K_.s_(),xE(t)?AE(t):t.q_.set("Unknown")):(yield t.K_.stop(),PR(t))}))),t.K_}function ws(t){return t.U_||(t.U_=function(n,r,i){let s=ae(n);return s.w_(),new WI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:oz.bind(null,t),mo:uz.bind(null,t),f_:az.bind(null,t),g_:cz.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.U_.s_(),yield gg(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var ZI=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RE(t,e){if(di("AsyncQueue",`${e}: ${t}`),jl(t))return new Y(F.UNAVAILABLE,`${e}: ${t}`);throw t}var Jp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=El(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Xp=class{constructor(){this.W_=new et(te.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Rc=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Jp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var JI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},XI=class{constructor(){this.queries=Hx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),s=i.queries;i.queries=Hx(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}};function Hx(){return new vs(t=>uR(t),dg)}function dz(t,e){return D(this,null,function*(){let n=ae(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new JI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=RE(o,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&ME(n)})}function hz(t,e){return D(this,null,function*(){let n=ae(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function fz(t,e){let n=ae(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&ME(n)}function pz(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function ME(t){t.Y_.forEach(e=>{e.next()})}var eE,qx;(qx=eE||(eE={})).ea="default",qx.Cache="cache";var tE=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==eE.Cache}};var eg=class{constructor(e){this.key=e}},tg=class{constructor(e){this.key=e}},nE=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=lR(e),this.Ra=new Jp(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Xp,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),E=hg(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;_&&E?_.data.isEqual(E.data)?M!==O&&(r.track({type:3,doc:E}),k=!0):this.ga(_,E)||(r.track({type:2,doc:E}),k=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!_&&E?(r.track({type:0,doc:E}),k=!0):_&&!E&&(r.track({type:1,doc:_}),k=!0,(u||d)&&(a=!0)),k&&(E?(o=o.add(E),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(E,M){let O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return O(E)-O(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Rc(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tg(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eg(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Rc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},rE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},iE=class{constructor(e){this.key=e,this.va=!1}},sE=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vs(a=>uR(a),dg),this.Ma=new Map,this.xa=new Set,this.Oa=new et(te.comparator),this.Na=new Map,this.La=new kl,this.Ba={},this.ka=new Map,this.qa=Pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function gz(t,e,n=!0){return D(this,null,function*(){let r=$R(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield LR(r,e,n,!0),i})}function mz(t,e){return D(this,null,function*(){let n=$R(t);yield LR(n,e,!0,!1)})}function LR(t,e,n,r){return D(this,null,function*(){let i=yield Zq(t.localStore,br(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield yz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&MR(t.remoteStore,i),a})}function yz(t,e,n,r,i){return D(this,null,function*(){t.Ka=(g,_,E)=>function(O,k,V,W){return D(this,null,function*(){let G=k.view.ma(V);G.ns&&(G=yield Bx(O.localStore,k.query,!1).then(({documents:T})=>k.view.ma(T,G)));let Z=W&&W.targetChanges.get(k.targetId),Ae=W&&W.targetMismatches.get(k.targetId)!=null,X=k.view.applyChanges(G,O.isPrimaryClient,Z,Ae);return Gx(O,k.targetId,X.wa),X.snapshot})}(t,g,_,E);let s=yield Bx(t.localStore,e,!0),o=new nE(e,s.Ts),a=o.ma(s.documents),u=Ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);Gx(t,n,d.wa);let p=new rE(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function vz(t,e,n){return D(this,null,function*(){let r=ae(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!dg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield BI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&TE(r.remoteStore,i.targetId),oE(r,i.targetId)}).catch(Ul))):(oE(r,i.targetId),yield BI(r.localStore,i.targetId,!0))})}function wz(t,e){return D(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),TE(n.remoteStore,r.targetId))})}function _z(t,e,n){return D(this,null,function*(){let r=Sz(t);try{let i=yield function(o,a){let u=ae(o),d=kt.now(),p=a.reduce((E,M)=>E.add(M.key),Ee()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=fi(),O=Ee();return u.cs.getEntries(E,p).next(k=>{M=k,M.forEach((V,W)=>{W.isValidDocument()||(O=O.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(k=>{g=k;let V=[];for(let W of a){let G=Dq(W,g.get(W.key).overlayedDocument);G!=null&&V.push(new pi(W.key,G,rR(G.value.mapValue),Po.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,V,a)}).next(k=>{_=k;let V=k.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(E,k.batchId,V)})}).then(()=>({batchId:_.batchId,changes:hR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new et(xe)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield $l(r,i.changes),yield gg(r.remoteStore)}catch(i){let s=RE(i,"Failed to persist write");n.reject(s)}})}function VR(t,e){return D(this,null,function*(){let n=ae(t);try{let r=yield Kq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Be(o.va):i.removedDocuments.size>0&&(Be(o.va),o.va=!1))}),yield $l(n,r,e)}catch(r){yield Ul(r)}})}function zx(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=ae(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&ME(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Iz(t,e,n){return D(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(te.comparator);o=o.insert(s,Yn.newNoDocument(s,le.min()));let a=Ee().add(s),u=new Bp(le.min(),new Map,new et(xe),o,a);yield VR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),NE(r)}else yield BI(r.localStore,e,!1).then(()=>oE(r,e,n)).catch(Ul)})}function Ez(t,e){return D(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield Wq(n.localStore,e);jR(n,r,null),UR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield $l(n,i)}catch(i){yield Ul(i)}})}function bz(t,e,n){return D(this,null,function*(){let r=ae(t);try{let i=yield function(o,a){let u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Be(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);jR(r,e,n),UR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield $l(r,i)}catch(i){yield Ul(i)}})}function UR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function jR(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function oE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||BR(t,r)})}function BR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(TE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),NE(t))}function Gx(t,e,n){for(let r of n)r instanceof eg?(t.La.addReference(r.key,e),Cz(t,r)):r instanceof tg?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||BR(t,r.key)):re()}function Cz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),NE(t))}function NE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new te(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new iE(n)),t.Oa=t.Oa.insert(n,r),MR(t.remoteStore,new Nl(br(bE(n.path)),r,"TargetPurposeLimboResolution",Xx.oe))}}function $l(t,e,n){return D(this,null,function*(){let r=ae(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=LI.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let p=ae(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,_=>L.forEach(_.$i,E=>p.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>L.forEach(_.Ui,E=>p.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!jl(g))throw g;q("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let E=p.os.get(_),M=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,O)}}})}(r.localStore,s))})}function Dz(t,e){return D(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield xR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new Y(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $l(n,r.hs)}})}function Tz(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function $R(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iz.bind(null,e),e.Ca.d_=fz.bind(null,e.eventManager),e.Ca.$a=pz.bind(null,e.eventManager),e}function Sz(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bz.bind(null,e),e}var ng=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=fg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Gq(this.persistence,new UI,e.initialUser,this.serializer)}createPersistence(e){return new kI(FI.Zr,this.serializer)}createSharedClientState(e){return new $I}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var aE=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dz.bind(null,this.syncEngine),yield lz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new XI}()}createDatastore(e){let n=fg(e.databaseInfo.databaseId),r=function(s){return new zI(s)}(e.databaseInfo);return function(s,o,a,u){return new KI(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new YI(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zx(this.syncEngine,n,0),function(){return Kp.D()?new Kp:new HI}())}createSyncEngine(e,n){return function(i,s,o,a,u,d,p){let g=new sE(i,s,o,a,u,d);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e,n;yield function(i){return D(this,null,function*(){let s=ae(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Bl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var cE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var uE=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=RE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function V_(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield xR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Wx(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield xz(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$x(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$x(e.remoteStore,i)),t._onlineComponents=e})}function Az(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function xz(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield V_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Az(n))throw n;wc("Error using user provided cache. Falling back to memory cache: "+n),yield V_(t,new ng)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield V_(t,new ng);return t._offlineComponents})}function HR(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wx(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield Wx(t,new aE))),t._onlineComponents})}function Rz(t){return HR(t).then(e=>e.syncEngine)}function Kx(t){return D(this,null,function*(){let e=yield HR(t),n=e.eventManager;return n.onListen=gz.bind(null,e.syncEngine),n.onUnlisten=vz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wz.bind(null,e.syncEngine),n})}function qR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Qx=new Map;function zR(t,e,n){if(!n)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mz(t,e,n,r){if(e===!0&&r===!0)throw new Y(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yx(t){if(!te.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zx(t){if(te.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Sl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=PE(t);throw new Y(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var rg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Mc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U_;switch(r.type){case"firstParty":return new H_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Qx.get(n);r&&(q("ComponentProvider","Removing Datastore"),Qx.delete(n),r.terminate())}(this),Promise.resolve()}};function GR(t,e,n,r={}){var i;let s=(t=Sl(t,Mc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Tt.MOCK_USER;else{a=Hf(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tt(d)}t._authCredentials=new j_(new Pp(a,u))}}var ig=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},An=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ms=class t extends ig{constructor(e,n,r){super(e,n,bE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function WR(t,e,...n){if(t=yt(t),zR("collection","path",e),t instanceof Mc){let r=Xe.fromString(e,...n);return Zx(r),new ms(t,null,r)}{if(!(t instanceof An||t instanceof ms))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return Zx(r),new ms(t.firestore,null,r)}}function KR(t,e,...n){if(t=yt(t),arguments.length===1&&(e=kp.newId()),zR("doc","path",e),t instanceof Mc){let r=Xe.fromString(e,...n);return Yx(r),new An(t,null,new te(r))}{if(!(t instanceof An||t instanceof ms))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return Yx(r),new An(t.firestore,t instanceof ms?t.converter:null,new te(r))}}var lE=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Qp(this,"async_queue_retry"),this.Eu=()=>{let n=L_();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=L_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=L_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new li;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return D(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!jl(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=ZI.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&re()}verifyOperationInProgress(){}mu(){return D(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function Jx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Nc=class extends Mc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new lE}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZR(this),this._firestoreClient.terminate()}};function QR(t,e){let n=typeof t=="object"?t:cs(),r=typeof t=="string"?t:e||"(default)",i=Io(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=$f("firestore");s&&GR(i,...s)}return i}function YR(t){return t._firestoreClient||ZR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ZR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new K_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qR(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uE(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ol=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(zt.fromBase64String(e))}catch(n){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sg=class{constructor(e){this._methodName=e}};var Ll=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Vl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Nz=/^__.*__$/,dE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uo(e,this.data,n,this.fieldTransforms)}};function JR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var hE=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return og(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(JR(this.wu)&&Nz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},fE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fg(e)}Nu(e,n,r,i=!1){return new hE({wu:e,methodName:n,Ou:r,path:yn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Pz(t){let e=t._freezeSettings(),n=fg(t._databaseId);return new fE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kz(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);nM("Data must be an object, but it was:",o,r);let a=eM(r,o),u,d;if(s.merge)u=new Ir(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let _=Oz(e,g,n);if(!o.contains(_))throw new Y(F.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Lz(p,_)||p.push(_)}u=new Ir(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new dE(new Qn(a),u,d)}function XR(t,e){if(tM(t=yt(t)))return nM("Unsupported field value:",e,t),eM(t,e);if(t instanceof sg)return function(r,i){if(!JR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=XR(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _q(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=kt.fromDate(r);return{timestampValue:zp(i.serializer,s)}}if(r instanceof kt){let s=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(i.serializer,s)}}if(r instanceof Ll)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:ER(i.serializer,r._byteString)};if(r instanceof An){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return CE(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${PE(r)}`)}(t,e)}function eM(t,e){let n={};return eR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(t,(r,i)=>{let s=XR(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Ll||t instanceof Ol||t instanceof An||t instanceof sg||t instanceof Vl)}function nM(t,e,n){if(!tM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=PE(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Oz(t,e,n){if((e=yt(e))instanceof Fl)return e._internalPath;if(typeof e=="string")return rM(t,e);throw og("Field path arguments must be of type string or ",t,!1,void 0,n)}var Fz=new RegExp("[~\\*/\\[\\]]");function rM(t,e,n){if(e.search(Fz)>=0)throw og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fl(...e.split("."))._internalPath}catch{throw og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function og(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Y(F.INVALID_ARGUMENT,a+t+u)}function Lz(t,e){return t.some(n=>n.isEqual(e))}var ag=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pE=class extends ag{data(){return super.data()}};function iM(t,e){return typeof e=="string"?rM(t,e):e instanceof Fl?e._internalPath:e._delegate._internalPath}function Vz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gE=class{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return kc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ke(o.doubleValue));return new Vl(s)}convertGeoPoint(e){return new Ll(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=wE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){let n=hi(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);Be(AR(r));let i=new Vp(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Uz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var No=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cg=class extends ag{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},vc=class extends cg{data(e={}){return super.data(e)}},mE=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vc(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:jz(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function jz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}var ug=class extends gE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}};function sM(t,e){let n=Sl(t.firestore,Nc),r=KR(t),i=Uz(t.converter,e);return Bz(n,[kz(Pz(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Po.exists(!1))]).then(()=>r)}function kE(t,...e){var n,r,i;t=yt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Jx(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Jx(e[o])){let g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(t instanceof An)d=Sl(t.firestore,Nc),p=bE(t._key.path),u={next:g=>{e[o]&&e[o]($z(d,t,g))},error:e[o+1],complete:e[o+2]};else{let g=Sl(t,ig);d=Sl(g.firestore,Nc),p=g._query;let _=new ug(d);u={next:E=>{e[o]&&e[o](new mE(d,_,g,E))},error:e[o+1],complete:e[o+2]},Vz(t._query)}return function(_,E,M,O){let k=new cE(O),V=new tE(E,k,M);return _.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return dz(yield Kx(_),V)})),()=>{k.za(),_.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return hz(yield Kx(_),V)}))}}(YR(d),p,a,u)}function Bz(t,e){return function(r,i){let s=new li;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return _z(yield Rz(r),i,s)})),s.promise}(YR(t),e)}function $z(t,e,n){let r=n.docs.get(e._key),i=new ug(t);return new cg(t,i,e._key,r,new No(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Pc=i})(mr),gr(new rn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Nc(new B_(r.getProvider("auth-internal")),new z_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vp(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),We(Ix,"4.7.1",e),We(Ix,"4.7.1","esm2017")})();var mg=function(){return mg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mg.apply(this,arguments)};var zz={includeMetadataChanges:!1};function oM(t,e){return e===void 0&&(e=zz),new ye(function(n){var r=kE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function aM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:mg(mg({},r),(n={},n[e.idField]=t.id,n))}function cM(t){return oM(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function uM(t,e){return e===void 0&&(e={}),cM(t).pipe(ie(function(n){return n.map(function(r){return aM(r,e)})}))}var gi=class{constructor(e){return e}},lM="firestore",OE=class{constructor(){return bo(lM)}};var FE=new K("angularfire2.firestore-instances");function Gz(t,e){let n=rc(lM,t,e);return n&&new gi(n)}function Wz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gi(r)}}var Kz={provide:OE,deps:[[new ct,FE]]},Qz={provide:gi,useFactory:Gz,deps:[[new ct,FE],Kn]};function dM(t,...e){return We("angularfire",ii.full,"fst"),En([Qz,Kz,{provide:FE,useFactory:Wz(t),multi:!0,deps:[ke,jt,ls,si,[new ct,xo],[new ct,us],...e]}])}var hM=Zt(uM,!0);var yg=Zt(sM,!0);var Hl=Zt(WR,!0);var fM=Zt(QR,!0);var _s=class t{constructor(e){this.auth=e}login(e,n){return GA(this.auth,e,n)}register(e,n){return qA(this.auth,e,n)}logout(){return WA(this.auth)}isLoggedIn(){return HA(this.auth)}static \u0275fac=function(n){return new(n||t)(fe(Ao))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var Yz=t=>({"right-panel-active":t});function Zz(t,e){t&1&&(H(0,"span"),ue(1,"El email es obligatorio"),z())}function Jz(t,e){t&1&&(H(0,"span"),ue(1,"Por favor ingrese un email v\xE1lido"),z())}function Xz(t,e){if(t&1&&(H(0,"span",25),bt(1,Zz,2,0,"span",17)(2,Jz,2,0,"span",17),z()),t&2){tn();let n=qn(10);Se(),He("ngIf",n==null||n.errors==null?null:n.errors.required),Se(),He("ngIf",n==null||n.errors==null?null:n.errors.email)}}function e4(t,e){t&1&&(H(0,"span"),ue(1,"La contrase\xF1a es obligatoria"),z())}function t4(t,e){t&1&&(H(0,"span"),ue(1,"La contrase\xF1a debe tener al menos 6 caracteres"),z())}function n4(t,e){if(t&1&&(H(0,"span",25),bt(1,e4,2,0,"span",17)(2,t4,2,0,"span",17),z()),t&2){tn();let n=qn(13);Se(),He("ngIf",n==null||n.errors==null?null:n.errors.required),Se(),He("ngIf",n==null||n.errors==null?null:n.errors.minlength)}}function r4(t,e){t&1&&(H(0,"span",25),ue(1,"La contrase\xF1a es obligatoria"),z())}function i4(t,e){t&1&&(H(0,"span",25),ue(1,"Ingrese un email valido"),z())}function s4(t,e){if(t&1&&(H(0,"span"),bt(1,r4,2,0,"span",11)(2,i4,2,0,"span",11),z()),t&2){tn();let n=qn(23);Se(),He("ngIf",n==null||n.errors==null?null:n.errors.required),Se(),He("ngIf",(n==null||n.errors==null?null:n.errors.email)&&!(!(n==null||n.errors==null)&&n.errors.required))}}function o4(t,e){t&1&&(H(0,"span",25),ue(1,"La contrase\xF1a es obligatoria"),z())}function a4(t,e){t&1&&(H(0,"span",25),ue(1,"La contrase\xF1a debe tener al menos 6 caracteres"),z())}function c4(t,e){if(t&1&&(H(0,"span"),bt(1,o4,2,0,"span",11)(2,a4,2,0,"span",11),z()),t&2){tn();let n=qn(26);Se(),He("ngIf",n==null||n.errors==null?null:n.errors.required),Se(),He("ngIf",n==null||n.errors==null?null:n.errors.minlength)}}var wg=class t{constructor(e,n,r){this.authService=e;this.router=n;this.firestore=r}user=new oc("","");new_user=new oc("","");user_precargado=new oc("test@test.com","test123");isSignUp=!1;loggedUser="";flagError=!1;msjError="";showErrorAlert(){vg.default.fire({title:"Error!",text:"El usuario no existe o la contrase\xF1a es incorrecta",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1})}toggleForm(e){this.isSignUp=e}onLogIn(){this.authService.login(this.user.email,this.user.password).then(e=>{let n=Hl(this.firestore,"logins");yg(n,{fecha:new Date,user:this.user.email}),this.loggedUser=e.user.email,console.log(this.loggedUser),this.router.navigate(["/home"])}).catch(e=>{this.showErrorAlert(),console.error("Login error:",e)})}onSignUp(){this.authService.register(this.new_user.email,this.new_user.password).then(e=>{e.user.email!==null&&(this.loggedUser=e.user.email),this.flagError=!1,vg.default.fire({title:"Registro exitoso",text:"El usuario se creo correctamente. Ser\xE1 redirigido el inicio en un momento...",icon:"success",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1,timer:3e3}),this.router.navigate(["/home"])}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;default:this.msjError=e.message;break}vg.default.fire({title:"Error!",text:this.msjError,icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1})})}llenarUsuario(){this.user.email=this.user_precargado.email,this.user.password=this.user_precargado.password}static \u0275fac=function(n){return new(n||t)(J(_s),J(Xa),J(gi))};static \u0275cmp=en({type:t,selectors:[["app-login"]],standalone:!0,features:[nn],decls:48,vars:13,consts:[["signupForm","ngForm"],["emailInput","ngModel"],["passwordInput","ngModel"],["loginForm","ngForm"],["loginEmailInput","ngModel"],["loginPasswordInput","ngModel"],[1,"wrapper"],[1,"container",3,"ngClass"],[1,"form-container","sign-up-container"],[3,"ngSubmit"],["type","email","placeholder","Email","name","new_email","required","","email","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","password","placeholder","Contrase\xF1a","name","new_password","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],[1,"form-container","sign-in-container"],["novalidate","",3,"ngSubmit"],["type","email","placeholder","Email","name","email","required","","email","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","password","placeholder","Contrase\xF1a","name","password","required","","minlength","6",3,"ngModelChange","ngModel"],["type","button",1,"margin",3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],[1,"ghost",3,"click"],[1,"overlay-panel","overlay-right"],[1,"error-message"]],template:function(n,r){if(n&1){let i=ao();H(0,"div",6)(1,"div",7)(2,"div",8)(3,"form",9,0),Ct("ngSubmit",function(){return Mt(i),Nt(r.onSignUp())}),H(5,"h1"),ue(6,"Crear cuenta"),z(),H(7,"span"),ue(8,"Registrese con su direcci\xF3n de email"),z(),H(9,"input",10,1),ns("ngModelChange",function(o){return Mt(i),co(r.new_user.email,o)||(r.new_user.email=o),Nt(o)}),z(),bt(11,Xz,3,2,"span",11),H(12,"input",12,2),ns("ngModelChange",function(o){return Mt(i),co(r.new_user.password,o)||(r.new_user.password=o),Nt(o)}),z(),bt(14,n4,3,2,"span",11),H(15,"button",13),ue(16,"Registrarse"),z()()(),H(17,"div",14)(18,"form",15,3),Ct("ngSubmit",function(){return Mt(i),Nt(r.onLogIn())}),H(20,"h1"),ue(21,"Inicio de sesi\xF3n"),z(),H(22,"input",16,4),ns("ngModelChange",function(o){return Mt(i),co(r.user.email,o)||(r.user.email=o),Nt(o)}),z(),bt(24,s4,3,2,"span",17),H(25,"input",18,5),ns("ngModelChange",function(o){return Mt(i),co(r.user.password,o)||(r.user.password=o),Nt(o)}),z(),bt(27,c4,3,2,"span",17),H(28,"button",13),ue(29,"Acceder"),z(),H(30,"button",19),Ct("click",function(){return Mt(i),Nt(r.llenarUsuario())}),ue(31,"Acceso r\xE1pido"),z()()(),H(32,"div",20)(33,"div",21)(34,"div",22)(35,"h1"),ue(36,"Bienvenido de vuelta!"),z(),H(37,"p"),ue(38,"Para mantenerse conectado inicie sesi\xF3n con una cuenta existente"),z(),H(39,"button",23),Ct("click",function(){return Mt(i),Nt(r.toggleForm(!1))}),ue(40,"Iniciar sesi\xF3n"),z()(),H(41,"div",24)(42,"h1"),ue(43,"Hola!"),z(),H(44,"p"),ue(45,"Ingrese sus datos personales para crear su cuenta"),z(),H(46,"button",23),Ct("click",function(){return Mt(i),Nt(r.toggleForm(!0))}),ue(47,"Registrarse"),z()()()()()()}if(n&2){let i=qn(4),s=qn(10),o=qn(13),a=qn(19),u=qn(23),d=qn(26);Se(),He("ngClass",GD(11,Yz,r.isSignUp)),Se(8),ts("ngModel",r.new_user.email),Se(2),He("ngIf",(s==null?null:s.invalid)&&(s==null?null:s.touched)),Se(),ts("ngModel",r.new_user.password),Se(2),He("ngIf",(o==null?null:o.invalid)&&(o==null?null:o.touched)),Se(),He("disabled",i.invalid),Se(7),ts("ngModel",r.user.email),Se(2),He("ngIf",(u==null?null:u.invalid)&&(u==null?null:u.touched)),Se(),ts("ngModel",r.user.password),Se(2),He("ngIf",(d==null?null:d.invalid)&&(d==null?null:d.touched)),Se(),He("disabled",a.invalid)}},dependencies:[Tp,mx,dc,Cp,lx,C_,T_,D_,wl,E_,Jr,ET,Ha],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{background:#a06dd3;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:Montserrat,sans-serif;height:100vh;margin:-20px 0 50px}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}h2[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:none;margin:15px 0}button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #a075d1;background-color:#a889cc;color:#fff;font-size:12px;font-weight:700;padding:12px 30px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in;width:180px;margin-top:8px}button.margin[_ngcontent-%COMP%]{margin-top:8px}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}button.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:12px 15px;margin:8px 0;width:100%}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:1000px;max-width:100%;min-height:700px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up-container[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1}.container.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_show .6s}@keyframes _ngcontent-%COMP%_show{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:#9442f1;background:-webkit-linear-gradient(to right,#b846e6,#8a61c0);background:linear-gradient(to right,#7950af,#b897ec);background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-left[_ngcontent-%COMP%]{transform:translate(-20%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%]{transform:translate(0)}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}.social-container[_ngcontent-%COMP%]{margin:20px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}footer[_ngcontent-%COMP%]{background-color:#222;color:#fff;font-size:14px;bottom:0;position:fixed;left:0;right:0;text-align:center;z-index:999}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3c97bf;text-decoration:none}.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#f4f4f9}button[_ngcontent-%COMP%]:disabled{pointer-events:none;background-color:#ccc;cursor:not-allowed;box-shadow:none;transform:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem}"]})};var gM=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:gp},{path:"quien-soy",component:mp},{path:"login",component:wg},{path:"**",redirectTo:"/home",pathMatch:"full"}];var IM="firebasestorage.googleapis.com",u4="storageBucket",l4=2*60*1e3,d4=10*60*1e3;var Sr=class t extends Yt{constructor(e,n,r=0){super(VE(e),`Firebase Storage: ${n} (${VE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return VE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},yi=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(yi||{});function VE(t){return"storage/"+t}function h4(){let t="An unknown error occurred, please check the error payload for server response.";return new Sr(yi.UNKNOWN,t)}function f4(){return new Sr(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p4(){return new Sr(yi.CANCELED,"User canceled the upload/download.")}function g4(t){return new Sr(yi.INVALID_URL,"Invalid URL '"+t+"'.")}function m4(t){return new Sr(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mM(t){return new Sr(yi.INVALID_ARGUMENT,t)}function EM(){return new Sr(yi.APP_DELETED,"The Firebase app was deleted.")}function y4(t){return new Sr(yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var mi=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw m4(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(Z){Z.path_=decodeURIComponent(Z.path)}let p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},O=n===IM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",V=new RegExp(`^https?://${O}/${i}/${k}`,"i"),G=[{regex:a,indices:u,postModify:s},{regex:E,indices:M,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let Z=0;Z<G.length;Z++){let Ae=G[Z],X=Ae.regex.exec(e);if(X){let T=X[Ae.indices.bucket],I=X[Ae.indices.path];I||(I=""),r=new t(T,I),Ae.postModify(r);break}}if(r==null)throw g4(e);return r}},UE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function v4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let d=!1;function p(...k){d||(d=!0,e.apply(null,k))}function g(k){i=setTimeout(()=>{i=null,t(E,u())},k)}function _(){s&&clearTimeout(s)}function E(k,...V){if(d){_();return}if(k){_(),p.call(null,k,...V);return}if(u()||o){_(),p.call(null,k,...V);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,g(G)}let M=!1;function O(k){M||(M=!0,_(),!d&&(i!==null?(k||(a=2),clearTimeout(i),g(0)):k||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function w4(t){t(!1)}function _4(t){return t!==void 0}function yM(t,e,n,r){if(r<e)throw mM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mM(`Invalid value for '${t}'. Expected ${n} or less.`)}function I4(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var jE=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(jE||{});function E4(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var BE=class{constructor(e,n,r,i,s,o,a,u,d,p,g,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Fc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===jE.NO_ERROR,u=s.getStatus();if(!a||E4(u,this.additionalRetryCodes_)&&this.retry){let p=s.getErrorCode()===jE.ABORT;r(!1,new Fc(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Fc(d,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());_4(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=h4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?EM():p4();o(u)}else{let u=f4();o(u)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=v4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Fc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function b4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S4(t,e,n,r,i,s,o=!0){let a=I4(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return D4(d,e),b4(d,n),C4(d,s),T4(d,r),new BE(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function A4(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x4(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var YZ=256*1024;var $E=class t{constructor(e,n){this._service=e,n instanceof mi?this._location=n:this._location=mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x4(this._location.path)}get storage(){return this._service}get parent(){let e=A4(this._location.path);if(e===null)return null;let n=new mi(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y4(e)}};function vM(t,e){let n=e?.[u4];return n==null?null:mi.makeFromBucketSpec(n,t)}function R4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Hf(i,t.app.options.projectId))}var HE=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=IM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l4,this._maxUploadRetryTime=d4,this._requests=new Set,i!=null?this._bucket=mi.makeFromBucketSpec(i,this._host):this._bucket=vM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=vM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $E(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new UE(EM());{let o=S4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return D(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},wM="@firebase/storage",_M="0.13.1";var bM="storage";function CM(t=cs(),e){t=yt(t);let r=Io(t,bM).getImmediate({identifier:e}),i=$f("storage");return i&&DM(r,...i),r}function DM(t,e,n,r={}){R4(t,e,n,r)}function M4(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HE(n,r,i,e,mr)}function N4(){gr(new rn(bM,M4,"PUBLIC").setMultipleInstances(!0)),We(wM,_M,""),We(wM,_M,"esm2017")}N4();var ql=class{constructor(e){return e}},TM="storage",qE=class{constructor(){return bo(TM)}};var zE=new K("angularfire2.storage-instances");function P4(t,e){let n=rc(TM,t,e);return n&&new ql(n)}function k4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ql(r)}}var O4={provide:qE,deps:[[new ct,zE]]},F4={provide:ql,useFactory:P4,deps:[[new ct,zE],Kn]};function SM(t,...e){return We("angularfire",ii.full,"gcs"),En([F4,O4,{provide:zE,useFactory:k4(t),multi:!0,deps:[ke,jt,ls,si,[new ct,xo],[new ct,us],...e]}])}var AM=Zt(CM,!0);var xM={production:!1,firebaseConfig:{apiKey:"AIzaSyCwWDG1cU4cQb61olWScGill6G6z9wtJL0",authDomain:"sala-juegos-f7ba1.firebaseapp.com",projectId:"sala-juegos-f7ba1",storageBucket:"sala-juegos-f7ba1.appspot.com",messagingSenderId:"791990352942",appId:"1:791990352942:web:139b9d34b45f98c12033bf"}};var RM={providers:[nT({eventCoalescing:!0}),yS(gM),HS(()=>qS(xM.firebaseConfig)),$A(()=>zA()),dM(()=>fM()),SM(()=>AM())]};function L4(t,e){t&1&&(H(0,"a",6),ue(1,"Iniciar sesi\xF3n / Registrarse"),z())}function V4(t,e){if(t&1&&(H(0,"a"),ue(1),z()),t&2){let n=tn();Se(),sf("Bienvenido ",n.userEmail,"")}}function U4(t,e){if(t&1){let n=ao();H(0,"a",7),Ct("click",function(){Mt(n);let i=tn();return Nt(i.logout())}),ue(1,"Cerrar Sesi\xF3n"),z()}}var _g=class t{constructor(e){this.auth=e}isLoggedIn=!1;userEmail;ngOnInit(){this.auth.isLoggedIn().pipe(ie(e=>({loggedIn:!!e,email:e?e.email:null}))).subscribe(({loggedIn:e,email:n})=>{this.isLoggedIn=e,this.userEmail=n})}logout(){this.auth.logout()}static \u0275fac=function(n){return new(n||t)(J(_s))};static \u0275cmp=en({type:t,selectors:[["app-header"]],standalone:!0,features:[nn],decls:17,vars:3,consts:[["src","icon.png","alt","Icono",1,"icon-photo"],["routerLink","home","routerLinkActive","active-route"],["routerLink","/quien-soy","routerLinkActive","active-route"],["routerLink","/login","routerLinkActive","active-route",4,"ngIf"],[4,"ngIf"],["routerLink","/login","routerLinkActive","active-route",3,"click",4,"ngIf"],["routerLink","/login","routerLinkActive","active-route"],["routerLink","/login","routerLinkActive","active-route",3,"click"]],template:function(n,r){n&1&&(H(0,"header")(1,"nav")(2,"ul")(3,"li"),Gr(4,"img",0),z(),H(5,"li")(6,"a",1),ue(7,"Inicio"),z()(),H(8,"li")(9,"a",2),ue(10,"Qui\xE9n soy"),z()(),H(11,"li"),bt(12,L4,2,0,"a",3),z(),H(13,"li"),bt(14,V4,2,1,"a",4),z(),H(15,"li"),bt(16,U4,2,0,"a",5),z()()()()),n&2&&(Se(12),He("ngIf",!r.isLoggedIn),Se(2),He("ngIf",r.isLoggedIn),Se(2),He("ngIf",r.isLoggedIn))},dependencies:[Lf,mS,Jr,Ha],styles:["nav[_ngcontent-%COMP%]   a.active-route[_ngcontent-%COMP%]{font-weight:700}header[_ngcontent-%COMP%]{background-color:#fff;padding:0 30px;box-shadow:0 4px 6px #0000001a;position:sticky;top:0;z-index:1000;display:flex;justify-content:flex-start;align-items:center;min-height:80px}nav[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;list-style-type:none;padding:0;margin:0 0 0 auto;height:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px;display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:500;padding:8px 15px;border-radius:5px;transition:background-color .3s,color .3s}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#007bff}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:600}.icon-photo[_ngcontent-%COMP%]{width:68px;height:68px;border-radius:50%;object-fit:cover;display:block}"]})};function j4(t,e){if(t&1){let n=ao();H(0,"button",3),Ct("click",function(){Mt(n);let i=tn();return Nt(i.AbrirChat())}),ue(1,"Chat"),z()}}function B4(t,e){if(t&1&&(H(0,"tr")(1,"td"),ue(2),z(),H(3,"td"),ue(4),z(),H(5,"td"),ue(6),KD(7,"date"),z()()),t&2){let n=e.$implicit;Se(2),Au(n.mensaje),Se(2),Au(n.user),Se(2),Au(QD(7,3,n.fecha.seconds*1e3,"dd/MM\xA0hh:mm"))}}function $4(t,e){if(t&1){let n=ao();H(0,"div",4)(1,"div",5)(2,"table",6)(3,"tbody"),bt(4,B4,8,6,"tr",7),z()()(),H(5,"input",8),ns("ngModelChange",function(i){Mt(n);let s=tn();return co(s.msg,i)||(s.msg=i),Nt(i)}),Ct("keydown.enter",function(){Mt(n);let i=tn();return Nt(i.EnviarMensaje())}),z(),H(6,"button",3),Ct("click",function(){Mt(n);let i=tn();return Nt(i.EnviarMensaje())}),ue(7,"Enviar"),z()()}if(t&2){let n=tn();Se(4),He("ngForOf",n.msgCollection),Se(),ts("ngModel",n.msg)}}var Ig=class t{constructor(e,n){this.firestore=e;this.auth=n}isChatOpen=!1;msg="";sub;msgCollection=[];isLoggedIn=!1;userEmail;ngOnInit(){this.auth.isLoggedIn().pipe(ie(e=>({loggedIn:!!e,email:e?e.email:null}))).subscribe(({loggedIn:e,email:n})=>{this.isLoggedIn=e,this.userEmail=n}),this.TraerMensajes()}ngOnDestroy(){}AbrirChat(){this.isChatOpen=!this.isChatOpen}EnviarMensaje(){if(this.msg.trim()){let e=Hl(this.firestore,"chat");yg(e,{fecha:new Date,user:this.userEmail,mensaje:this.msg}),this.msg=""}}TraerMensajes(){let e=Hl(this.firestore,"chat"),n=hM(e);this.sub=n.pipe(ie(r=>r.sort((i,s)=>i.fecha<s.fecha?-1:i.fecha>s.fecha?1:0))).subscribe(r=>{this.msgCollection=r,console.log(r)})}static \u0275fac=function(n){return new(n||t)(J(gi),J(_s))};static \u0275cmp=en({type:t,selectors:[["app-chat"]],standalone:!0,features:[nn],decls:3,vars:2,consts:[[1,"chat-button"],[3,"click",4,"ngIf"],["class","chat-window",4,"ngIf"],[3,"click"],[1,"chat-window"],[1,"mt-4"],[1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["type","text","placeholder","Escribe tu mensaje aqu\xED...",3,"ngModelChange","keydown.enter","ngModel"]],template:function(n,r){n&1&&(H(0,"div",0),bt(1,j4,2,0,"button",1),z(),bt(2,$4,8,2,"div",2)),n&2&&(Se(),He("ngIf",r.isLoggedIn),Se(),He("ngIf",r.isChatOpen))},dependencies:[Tp,dc,Cp,wl,Jr,bT,Ha,CT],styles:[".chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.chat-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:15px 20px;border-radius:50px;cursor:pointer;box-shadow:0 4px 6px #0000001a;font-size:16px;transition:background-color .3s ease}.chat-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-window[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:20px;background-color:#fff;border:1px solid #ddd;padding:15px;width:300px;box-shadow:0 4px 8px #0003;z-index:1000;border-radius:10px}.chat-window[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:10px;border:1px solid #ddd;border-radius:5px}.chat-window[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.chat-window[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var Eg=class t{title="tp-sala-juegos";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-root"]],standalone:!0,features:[nn],decls:3,vars:0,template:function(n,r){n&1&&Gr(0,"app-header")(1,"app-chat")(2,"router-outlet")},dependencies:[tw,_g,Ig]})};PT(Eg,RM).catch(t=>console.error(t));
